{"version":3,"sources":["features/organization/reducers/entities.ts","features/organization/reducers/forms/unitForm.ts","features/organization/reducers/forms/jobForm.ts","features/organization/reducers/ui.ts","features/organization/reducers/index.ts","features/employees/reducers/entities.ts","features/employees/reducers/ui.ts","features/employees/reducers/index.ts","boostrap/reducers/index.ts","features/organization/actions/index.ts","store.ts","reportWebVitals.ts","commons/components/Sidebar.tsx","features/organization/selectors/inputs.ts","features/organization/selectors/getSelectedUnit.ts","features/organization/components/UnitDetails.tsx","features/organization/selectors/getOrganizationalStructure.ts","features/organization/components/OrganizationalStructureTree.tsx","features/organization/components/UnitForm.tsx","features/organization/components/FormDialog.tsx","features/organization/components/Organization.tsx","features/employees/selectors/inputs.ts","features/employees/selectors/getEmployeeTableView.ts","features/employees/components/EmployeesList.tsx","features/employees/components/EmployeeForm.tsx","boostrap/components/HrApp.tsx","commons/components/LoadingInput.tsx","commons/components/PDFViewer.tsx","commons/hooks/index.ts","features/transfers/components/PacientFieldset.tsx","features/transfers/components/TransferForm.tsx","boostrap/components/MedicalApp.tsx","boostrap/components/App.tsx","index.tsx"],"names":["initialUnits","id","name","parentId","description","initialJobs","unitId","isManager","combineReducers","units","state","action","type","payload","filter","u","sort","a","b","jobs","initialState","fields","selectedNode","console","log","modal","show","unitForm","jobForm","organization","entities","ui","initialEmployees","dni","middlename","lastname","dateOfBirth","gender","nationality","afp","contract","startDate","jobId","salary","employees","initialEFState","dniComplement","nacionality","contractType","employeeForm","employeeReducer","showSidebar","prepareUnitForm","prepareNewUnitForm","watchPrepareUnitForm","select","find","unit","put","target","all","takeEvery","rootReducer","employee","main","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","mySaga","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Sidebar","props","className","side","title","items","renderItem","left","right","map","item","to","path","style","padding","icon","verticalAlign","marginLeft","subitem","paddingLeft","getUnits","getJobs","getModal","getSelectedUnit","createSelector","subunits","UnitDetails","useSelector","fontSize","Table","responsive","width","length","i","scope","colSpan","job","getOrganizationalStructureTreeData","_","treeData","toTreeData","key","FaSitemap","children","j","FaBriefcase","FaBuilding","MENU_ID","OrganizationalStructureTree","dispatch","useDispatch","useContextMenu","hideIfRoot","useCallback","nodeId","switcherIcon","data","expanded","draggable","defaultExpandedKeys","multiple","onSelect","selectedKeys","split","onRightClick","e","event","node","label","arrow","onClick","hidden","UnitForm","Form","onSubmit","preventDefault","Math","round","random","Group","controlId","Label","Control","value","onChange","as","FormDialog","Modal","centered","onHide","Header","closeButton","Title","Body","Footer","Button","variant","form","Organization","minWidth","getEmployeeFormState","getEmployeeTableView","fullName","toFixed","EmployeesList","useRouteMatch","employeesTableView","url","EmployeeForm","unit_id","field","updateForm","uuidv4","Row","Col","xs","md","sm","HrApp","height","Container","overflow","exact","LoadingInput","useState","count","setCount","placeholder","loading","useEffect","timeout","setInterval","clearInterval","loadingPlaceholder","Array","join","PDFViewer","PDFObject","embed","fallbackLink","useFetch","callback","deps","setState","fetchRef","callbackRef","useRef","current","useCallbackRef","completed","response","isArray","Promise","r","json","every","ok","error","request","catch","initial","carnet","nombre","empresa","estado","disabled","paciente","lastCarnet","fetch","baseUrl","stateOfGetPaciente","getPaciente","onChangeCarnet","toUpperCase","onBlurCarnet","isInvalid","onBlur","readOnly","App","doctor","proveedor","servicios","formState","nota","servicioSolicitado","updateServiciosSolicitado","onChangeDoctor","doctores","parseInt","onChangeProveedor","proveedores","method","headers","body","JSON","stringify","servicio","stateOfSubmit","submit","stateOfLoadInitData","loadData","proveedoresAdecuados","updateProveedoresAdecuados","serviciosDisponibles","updateServiciosDisponibles","nuevosProveedores","rs","some","ps","np","renderPdf","marginTop","marginBottom","PacientFieldset","String","index","v","selectedService","Spinner","animation","size","aria-labelledby","TransferForm","Navbar","bg","zIndex","Toggle","display","Brand","href","Nav","OverlayTrigger","trigger","placement","overlay","Popover","Content","whiteSpace","Link","top","borderRadius","NavDropdown","menuAlign","Item","Divider","MedicalApp","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6ede8098.chunk.js","sourcesContent":["import { combineReducers } from \"redux\";\r\nimport { Job, OrganizationAwareState, Unit } from \"../state\";\r\n\r\nconst initialUnits = [\r\n  {\r\n    id: \"1\",\r\n    name: \"Unidad de Finanzas\",\r\n    parentId: null,\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"Unidad de Mercadeo\",\r\n    parentId: null,\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\r\n  },\r\n  {\r\n    id: \"3\",\r\n    name: \"Unidad de RRHH\",\r\n    parentId: null,\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\r\n  },\r\n  {\r\n    id: \"4\",\r\n    name: \"Unidad de Contabilidad\",\r\n    parentId: \"1\",\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\r\n  }\r\n]\r\nexport const units = (state: Unit[] = initialUnits, action: any): Unit[]=>{\r\n  if(action.type == \"ADD_UNIT\"){\r\n    return [\r\n      ...state,\r\n      action.payload\r\n    ]\r\n  }\r\n  else if(action.type == \"EDIT_UNIT\"){\r\n    return [\r\n      ...state.filter(u=>u.id != action.payload.id),\r\n      action.payload\r\n    ].sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)\r\n  }\r\n  else if(action.type == \"DELETE_UNIT\"){\r\n    return state.filter(u=>u.id != action.payload.id)\r\n  }\r\n  return state\r\n}\r\n\r\n\r\nconst initialJobs = [\r\n  {\r\n    id: \"1\",\r\n    name: \"Gerente Financiero\",\r\n    unitId: \"1\",\r\n    isManager: true\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"Secretearia I\",\r\n    unitId: \"1\",\r\n    isManager: false\r\n  },\r\n  {\r\n    id: \"3\",\r\n    name: \"Contador\",\r\n    unitId: \"4\",\r\n    isManager: false\r\n  },\r\n  {\r\n    id: \"4\",\r\n    name: \"Gerente de marketing\",\r\n    unitId: \"2\",\r\n    isManager: true\r\n  },\r\n  {\r\n    id: \"4\",\r\n    name: \"Gerente de rrhh\",\r\n    unitId: \"3\",\r\n    isManager: true\r\n  }\r\n]\r\nexport const jobs = (state: Job[] = initialJobs, action: any): Job[] => {\r\n  if(action.type == \"ADD_JOB\"){\r\n    return [\r\n      ...state,\r\n      action.payload\r\n    ]\r\n  }\r\n  else if(action.type == \"EDIT_JOB\"){\r\n    return [\r\n      ...state.filter(u=>u.id != action.payload.id),\r\n      action.payload\r\n    ].sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)\r\n  }\r\n  else if(action.type == \"DELETE_JOB\"){\r\n    return state.filter(u=>u.id != action.payload.id)\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  units,\r\n  jobs\r\n})","\r\ntype UnitForm = {\r\n  fields: {\r\n    id: string | null,\r\n    name: string,\r\n    description: string,\r\n    parentId: string | null\r\n  }\r\n}\r\nconst initialState: UnitForm = {\r\n  fields: {\r\n    id: null,\r\n    name: \"\",\r\n    description: \"\",\r\n    parentId: null\r\n  }\r\n}\r\n\r\nexport function unitForm(state=initialState, action: any): UnitForm {\r\n  if(action.type == \"UPDATE_UNIT_FORM\"){\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    } as UnitForm\r\n  }\r\n  return state\r\n}\r\n","\r\ntype JobForm = {\r\n  fields: {\r\n    id: string | null,\r\n    name: string,\r\n    isManager: boolean,\r\n    description: string,\r\n    parentId: string | null\r\n  }\r\n}\r\nconst initialState: JobForm = {\r\n  fields: {\r\n    id: null,\r\n    name: \"\",\r\n    description: \"\",\r\n    isManager: false,\r\n    parentId: null\r\n  }\r\n}\r\n\r\nexport function jobForm(state=initialState, action: any): JobForm {\r\n  if(action.type == \"UPDATE_JOB_FORM\"){\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    } as JobForm\r\n  }\r\n  return state\r\n}","import { combineReducers } from \"redux\"\r\nimport { unitForm } from \"./forms/unitForm\"\r\nimport { jobForm } from \"./forms/jobForm\"\r\n\r\nexport function selectedNode(state=null, action: any){\r\n  if(action.type == \"UPDATE_SELECTED_NODE\"){\r\n    console.log(action.payload)\r\n    return action.payload\r\n  }\r\n  return state\r\n}\r\n\r\ntype ModalState = {\r\n  show: boolean,\r\n  target?: \"unit\" | \"job\",\r\n  id?: string | null,\r\n}\r\nexport function modal(state={show: false}, action: any): ModalState{\r\n  if(action.type == \"SHOW_MODAL\"){\r\n    return action.payload\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  selectedNode,\r\n  modal,\r\n  unitForm,\r\n  jobForm\r\n})","import { combineReducers } from 'redux'\r\nimport entities from './entities'\r\nimport ui from './ui'\r\n\r\nexport const organization = combineReducers({\r\n  entities,\r\n  ui\r\n})\r\n\r\nexport type OrganizationState = ReturnType<typeof organization>\r\n\r\nexport default organization","import { combineReducers } from 'redux'\r\nimport { Employee } from '../state'\r\n\r\nconst initialEmployees: Employee[] = [\r\n  {\r\n    id: \"1\",\r\n    dni: \"12345678\",\r\n    name: \"Joaquin\",\r\n    middlename: \"Chumacero\",\r\n    lastname: \"Yupanqui\",\r\n    dateOfBirth: \"03/09/77\",\r\n    gender: \"Masculino\",\r\n    nationality: \"Boliviana\",\r\n    afp: \"AFP Futuro\",\r\n    contract: {\r\n      type: \"contrato laboral\",\r\n      startDate: \"04/09/19\",\r\n      jobId: \"1\",\r\n      salary: 500000\r\n    }\r\n  }\r\n]\r\nexport function employees(state: Employee[]=initialEmployees, action: any){\r\n  console.log(action)\r\n  if(action.type == \"ADD_EMPLOYEE\"){\r\n    return [\r\n      ...state,\r\n      action.payload\r\n    ]\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  employees\r\n})","import {combineReducers} from \"redux\"\r\n\r\ntype EmployeeFormState = {\r\n  fields: {\r\n    dni: string,\r\n    dniComplement: string,\r\n    name: string,\r\n    middlename: string,\r\n    lastname: string,\r\n    gender: string,\r\n    dateOfBirth: string,\r\n    nacionality: string,\r\n\r\n    contractType: string,\r\n    startDate: string,\r\n    salary: string,\r\n    unitId: string,\r\n    jobId: string,\r\n\r\n    afp: string\r\n  }\r\n}\r\nconst initialEFState: EmployeeFormState = {\r\n  fields: {\r\n    dni: \"\",\r\n    dniComplement: \"\",\r\n    name: \"\",\r\n    middlename: \"\",\r\n    lastname: \"\",\r\n    gender: \"Masculino\",\r\n    dateOfBirth: \"\",\r\n    nacionality: \"Boliviana\",\r\n\r\n    contractType: \"contrato laboral\",\r\n    startDate: \"\",\r\n    salary: \"\",\r\n    unitId: \"\",\r\n    jobId: \"\",\r\n\r\n    afp: \"\"\r\n  }\r\n}\r\nfunction employeeForm(state: EmployeeFormState = initialEFState, action: any){\r\n  if(action.type == \"UPDATE_EMPLOYEE_FORM\"){\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    }\r\n  }\r\n  if(action.type == \"RESET_EMPLOYE_FORM\"){\r\n    return initialEFState\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  employeeForm\r\n})","import { combineReducers } from 'redux'\r\nimport entities from './entities'\r\nimport ui from './ui'\r\n\r\n\r\nexport const employeeReducer = combineReducers({\r\n  entities,\r\n  ui\r\n})\r\n\r\nexport type EmployeeState = ReturnType<typeof employeeReducer>\r\n\r\nexport default employeeReducer","import { combineReducers } from \"redux\"\r\n\r\nexport function showSidebar(state=true, action: any){\r\n  if(action.type == \"TOGGLE_SIDEBAR\"){\r\n    return !state\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  showSidebar\r\n})","import { takeEvery, put, select, all } from 'redux-saga/effects'\r\n\r\nfunction* prepareUnitForm(action: any){\r\n  const unit = yield select((state)=>state.organization.entities.units.find((u: any)=>u.id == action.payload.id))\r\n  yield put({type: \"UPDATE_UNIT_FORM\", payload: {\r\n    fields: {\r\n      id: unit.id,\r\n      name: unit.name,\r\n      description: unit.description,\r\n      parentId: unit.parentId\r\n    }\r\n  }})\r\n\r\n  yield put({\r\n    type: \"SHOW_MODAL\",\r\n    payload: {\r\n      show: true,\r\n      target: \"unit\",\r\n      id: null\r\n    }\r\n  })\r\n}\r\n\r\nfunction* prepareNewUnitForm(action: any){\r\n  //const unit = yield select((state)=>state.organization.entities.units.find((u: any)=>u.id == action.payload.id))\r\n  yield put({type: \"UPDATE_UNIT_FORM\", payload: {\r\n    fields: {\r\n      id: null,\r\n      name: \"\",\r\n      description: \"\",\r\n      parentId: action.payload.parentId\r\n    }\r\n  }})\r\n\r\n  yield put({\r\n    type: \"SHOW_MODAL\",\r\n    payload: {\r\n      show: true,\r\n      target: \"unit\",\r\n      id: null\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport default function* watchPrepareUnitForm(){\r\n  yield all([\r\n    takeEvery(\"PREPARE_UNIT_FORM\", prepareUnitForm),\r\n    takeEvery(\"PREPARE_NEW_UNIT_FORM\", prepareNewUnitForm)\r\n  ])\r\n}","import { combineReducers, createStore, applyMiddleware  } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\"\r\nimport organization from \"./features/organization/reducers\";\r\nimport employee from \"./features/employees/reducers\";\r\nimport main from \"./boostrap/reducers\";\r\nimport mySaga from './features/organization/actions';\r\n\r\nconst rootReducer = combineReducers({\r\n  organization,\r\n  employee,\r\n  main\r\n})\r\n\r\n// create the saga middleware\r\nconst sagaMiddleware = createSagaMiddleware()\r\n// mount it on the Store\r\nconst store = createStore(\r\n  rootReducer,\r\n  applyMiddleware(sagaMiddleware)\r\n)\r\n\r\n// then run the saga\r\nsagaMiddleware.run(mySaga)\r\n\r\n\r\nexport default store","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { ComponentProps } from 'react'\r\nimport { Link, Router } from 'react-router-dom'\r\nimport { JsxElement } from 'typescript'\r\n\r\ntype MenuItem = {\r\n  id: string,\r\n  title: string,\r\n  path: string,\r\n  icon?: React.ReactNode,\r\n  items?: MenuItem[]\r\n}\r\ntype SidebarProps = ComponentProps<\"div\"> & {\r\n  side?: 'left' | 'right',\r\n  title?: string | JsxElement,\r\n  items?: MenuItem[],\r\n  renderItem?: (item: MenuItem) => JsxElement\r\n}\r\nexport const Sidebar = (props: SidebarProps) => {\r\n  const {className=\"\", side=\"right\", title=\"\", items=[], renderItem, ...rest} = props\r\n  const borderClass = {left: 'border-left', right: 'border-right'}\r\n  return <div className={`${className}  ${borderClass[side]}`} id=\"sidebar-wrapper\">\r\n    <div className=\"sidebar-heading\">{title}</div>\r\n    <div className=\"list-group\">\r\n      {items.map(item=>(\r\n        <>\r\n          <Link to={item.path} \r\n            className=\"list-group-item list-group-item-action border-0 text-nowrap\"\r\n            style={{\r\n              padding: \".5rem 1rem\"\r\n            }}\r\n            key={item.id}>\r\n              {item.icon}{renderItem ? renderItem(item):<span style={{verticalAlign: 'middle', marginLeft: '0.5rem'}}>{item.title}</span>}\r\n          </Link>\r\n          {item.items && item.items.map(subitem=>{\r\n            return <Link to={subitem.path} \r\n              style={{\r\n                padding: \".5rem 1rem\",\r\n                paddingLeft: \"2rem\"\r\n              }}\r\n              className=\"list-group-item list-group-item-action border-0 text-nowrap\" \r\n              key={subitem.id}>\r\n                {subitem.icon}{renderItem ? renderItem(item):<span style={{verticalAlign: 'middle', marginLeft: '0.5rem'}}>{subitem.title}</span>}\r\n            </Link>\r\n          })}\r\n        </>\r\n      ))}      \r\n    </div>\r\n    {/* <div className=\"list-group list-group-flush\">\r\n      {items.map(item=><a href=\"#\" className=\"list-group-item list-group-item-action\" key={item.id}>{renderItem ? renderItem(item):item.title}</a>)}\r\n    </div> */}\r\n  </div>\r\n  \r\n}","import { OrganizationAwareState } from \"../state\"\r\n\r\nexport const getUnits = ({organization: {entities}}: OrganizationAwareState) => entities.units//.find(u=>u.id==unit_id)\r\nexport const getJobs = ({organization: {entities}}: OrganizationAwareState) => entities.jobs//.units.find(u=>u.id==unit_id)\r\n\r\nexport const getSelectedNode = ({organization: {ui}}: OrganizationAwareState) => ui.selectedNode\r\nexport const getModal = ({organization: {ui}}: OrganizationAwareState) => ui.modal","import { createSelector } from \"reselect\";\r\nimport { getSelectedNode, getUnits, getJobs } from \"./inputs\";\r\n\r\nexport const getSelectedUnit = createSelector(\r\n  getUnits,\r\n  getJobs,\r\n  getSelectedNode,\r\n  (units, jobs, selectedNode) => {\r\n    if(selectedNode && selectedNode.type == \"unit\"){\r\n      const unit = units.find(u=>u.id == selectedNode.id)\r\n      return {\r\n        id: unit?.id,\r\n        name: unit?.name,\r\n        description: unit?.description,\r\n        subunits: units.filter(u=>u.parentId == unit?.id),\r\n        jobs: jobs.filter(u=>u.unitId == unit?.id)\r\n      }\r\n    }\r\n    else\r\n      return null\r\n  }\r\n)","import React from 'react'\r\nimport { Table } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport { getSelectedUnit } from '../selectors/getSelectedUnit'\r\n\r\nexport const UnitDetails = ()=>{\r\n  const unit = useSelector(getSelectedUnit)\r\n  console.log(unit)\r\n  function renderSubUnits(){\r\n    return <>\r\n      <h3 style={{fontSize: \"1.5rem\"}}>Sub unidades</h3>\r\n      <Table responsive>\r\n        <thead>\r\n          <tr>\r\n            <th style={{width:0}}>#</th>\r\n            <th>Nombre</th>\r\n            {/* <th style={{width:0}}></th> */}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {unit!.subunits.length ? unit!.subunits.map((u, i)=>(\r\n            <tr>\r\n              <th scope=\"row\">{i+1}</th>\r\n              <td>{u.name}</td>\r\n              {/* <td></td> */}\r\n            </tr>\r\n          )) : <tr><td className=\"bg-light text-center\" colSpan={3}>Aun no se agregaron sub unidades</td></tr>}\r\n        </tbody>\r\n      </Table>\r\n    </>\r\n  }\r\n\r\n  function renderJobs(){\r\n    return <>\r\n      <h3 style={{fontSize: \"1.5rem\"}}>Cargos</h3>\r\n      <Table responsive>\r\n        <thead>\r\n          <tr>\r\n            <th style={{width:0}}>#</th>\r\n            <th>Nombre</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {unit!.jobs.length ? unit!.jobs.map((job, i)=>(\r\n            <tr>\r\n              <th scope=\"row\">{i+1}</th>\r\n              <td>{`${job.name} ${job.isManager ? \"(Administrador)\" : \"\"}`}</td>\r\n              {/* <td></td> */}\r\n            </tr>\r\n          )) : <tr><td className=\"bg-light text-center\" colSpan={3}>Aun no se agregaron puestos de trabajo</td></tr>}\r\n        </tbody>\r\n      </Table>\r\n    </>\r\n  }\r\n\r\n  return unit ? <div>\r\n    <h2 style={{fontSize: \"1.75rem\"}}>{unit.name}</h2>\r\n    <p>{unit.description}</p>\r\n    {renderSubUnits()}\r\n    {renderJobs()}\r\n  </div> : null\r\n}","import { TreeProps } from \"rc-tree\"\r\nimport { DataNode } from \"rc-tree/lib/interface\"\r\nimport {FaSitemap, FaBriefcase, FaBuilding, FaCaretRight, FaCaretDown} from 'react-icons/fa'\r\nimport {BsCaretRight, BsCaretDown} from 'react-icons/bs'\r\nimport {createSelector} from \"reselect\"\r\nimport { OrganizationAwareState, Unit, Job } from \"../state\"\r\n\r\nexport const getUnits = ({organization: {entities}}: OrganizationAwareState) => entities.units//.find(u=>u.id==unit_id)\r\nexport const getJobs = ({organization: {entities}}: OrganizationAwareState) => entities.jobs//.units.find(u=>u.id==unit_id)\r\nexport const getUnit = ({organization: {entities}}: OrganizationAwareState, unit_id: string) => entities.units.find(u=>u.id==unit_id)\r\nexport const getSubunits = createSelector(\r\n  getUnits,\r\n  (_:Unit[], unitId: string) => unitId,\r\n  (units, unitId) =>{\r\n    return units.filter(u=>u.parentId == unitId)\r\n  }\r\n)\r\n//({organization: {entities}}: OrganizationAwareState, unit_id: string)=>entities.units.filter(u=>u.parentId == unit_id)\r\nexport const getOwnedJobs = ({organization: {entities}}: OrganizationAwareState, unit_id: string)=>entities.jobs.filter(j=>j.unitId == unit_id)\r\n\r\nexport const getRootIds = ({organization: {entities}}: OrganizationAwareState) => entities.units.filter(u=>u.parentId == null).map(u=>u.id)\r\n\r\nexport const getOrganizationalStructureTreeData = createSelector(\r\n  getUnits,\r\n  getJobs,\r\n  (units: Unit[], jobs: Job[]):DataNode[] => {\r\n    function toTreeData(parentId: string | null){\r\n      return units.filter(u => u.parentId == parentId).map((u):DataNode=>{\r\n        return {\r\n          key: `unit-${u.id}`,\r\n          title: u.name,\r\n          icon: FaSitemap,\r\n          //switcherIcon: BsCaretRight,\r\n          children: [\r\n            ...toTreeData(u.id),\r\n            ...jobs.filter(j=>j.unitId == u.id).map((j):DataNode=>{\r\n              return {\r\n                key: `job-${j.id}`,\r\n                title: j.name,\r\n                icon: FaBriefcase\r\n              }\r\n            })\r\n          ]\r\n        }\r\n      })\r\n    }\r\n\r\n    const treeData = toTreeData(null)\r\n    \r\n    return [\r\n      {\r\n        key: \"root\",\r\n        title: \"Caja de Salud de Caminos y R.A.\",\r\n        icon: FaBuilding,\r\n        children: treeData\r\n      }\r\n    ]\r\n  }\r\n)\r\n","import React, { useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Tree from 'rc-tree'\r\nimport { getOrganizationalStructureTreeData } from '../selectors/getOrganizationalStructure'\r\nimport './tree.css'\r\nimport './organization.css'\r\nimport { Item, ItemProps, Menu, Separator, Submenu, useContextMenu } from 'react-contexify'\r\nimport { FaArrowRight, FaCaretDown, FaCaretRight } from 'react-icons/fa'\r\nimport { BsCaretDown, BsCaretRight } from 'react-icons/bs'\r\nimport \"react-contexify/dist/ReactContexify.css\";\r\n\r\nconst MENU_ID = \"ORG_STR_MENU\";\r\n\r\nexport const OrganizationalStructureTree = ()=>{\r\n  const dispatch = useDispatch()\r\n  const { show } = useContextMenu({\r\n    id: MENU_ID\r\n  });\r\n  \r\n\r\n  const treeData = useSelector(getOrganizationalStructureTreeData)\r\n  const hideIfRoot = useCallback<Exclude<ItemProps[\"hidden\"], boolean | undefined>>(({props})=>props.nodeId == \"root\", [])\r\n\r\n  return <>\r\n    <Tree className=\"os-tree position-absolute border\"\r\n      switcherIcon={(props)=> props.data?.children ? (props.expanded ? <BsCaretDown/>: <BsCaretRight/>) : null}\r\n      draggable treeData={treeData} defaultExpandedKeys={[\"root\"]}\r\n      multiple={false}\r\n      onSelect={(selectedKeys)=>{\r\n        if(selectedKeys.length){\r\n          const [type, id] = (selectedKeys[0] as String).split(\"-\")\r\n          dispatch({\r\n            type: \"UPDATE_SELECTED_NODE\",\r\n            payload: { id, type } \r\n          })\r\n        }\r\n        else{\r\n          dispatch({\r\n            type: \"UPDATE_SELECTED_NODE\",\r\n            payload: null\r\n          })\r\n        }\r\n      }}\r\n      onRightClick={(e)=>{\r\n        show(e.event, {\r\n          props: {\r\n            nodeId: e.node.key\r\n          }\r\n        })\r\n      }}\r\n    />\r\n    <Menu id={MENU_ID}>\r\n      <Submenu label=\"Crear\" arrow={<BsCaretRight/>}>\r\n        <Item onClick={function({props}){\r\n          const [target, id] = props.nodeId == \"root\" ? [null, null] : props.nodeId.split(\"-\")\r\n          dispatch({\r\n            type: \"PREPARE_NEW_UNIT_FORM\",\r\n            payload: {\r\n              parentId: id,\r\n            }\r\n          })\r\n        }}>\r\n          Unidad\r\n        </Item>\r\n        <Item onClick={function({props}){\r\n          const [target, id] = props.nodeId == \"root\" ? [null, null] : props.nodeId.split(\"-\")\r\n          dispatch({\r\n            type: \"PREPARE_NEW_JOB_FORM\",\r\n            payload: {\r\n              parentId: id,\r\n            }\r\n          })\r\n        }}>Cargo</Item>\r\n      </Submenu>\r\n      <Item hidden={hideIfRoot} onClick={function({props}){\r\n          const [target, id] = props.nodeId.split(\"-\")\r\n          dispatch({\r\n            type: target == 'unit' ? \"PREPARE_UNIT_FORM\" : \"PREPARE_JOB_FORM\",\r\n            payload: {\r\n              id\r\n            }\r\n          })\r\n        }}>\r\n        Editar\r\n      </Item>\r\n      <Item hidden={hideIfRoot} onClick={function({props}){\r\n        const [target, id] = props.nodeId.split(\"-\")\r\n        // if(confirm(\"Est seguro de eliminar? Esta accion es irreversible\")){\r\n          dispatch({\r\n            type: target == \"unit\" ? \"DELETE_UNIT\" : \"DELETE_JOB\",\r\n            payload: id\r\n          })\r\n        // }\r\n      }}>\r\n        Eliminar\r\n      </Item>\r\n    </Menu>\r\n  </>\r\n}","import React from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport { Form } from 'react-bootstrap'\r\nimport { OrganizationAwareState } from '../state'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport const UnitForm = () => {\r\n  const dispatch = useDispatch()\r\n  const {fields} = useSelector((state:OrganizationAwareState)=>state.organization.ui.unitForm)\r\n  console.log(\"Fields\", fields)\r\n  return <Form id=\"unit-form\" onSubmit={(e)=>{\r\n    e.preventDefault()\r\n    if(fields.id){\r\n      dispatch({\r\n        type: \"EDIT_UNIT\",\r\n        payload: {\r\n          id: fields.id,\r\n          name: fields.name,\r\n          description: fields.description,\r\n          parentId: fields.parentId\r\n        }\r\n      })\r\n    }\r\n    else{\r\n      dispatch({\r\n        type: \"ADD_UNIT\",\r\n        payload: {\r\n          id: Math.round(Math.random()*99999999) +\"\",//uuidv4().replace(\"-\", \"\"),\r\n          name: fields.name,\r\n          description: fields.description,\r\n          parentId: fields.parentId\r\n        }\r\n      })\r\n    }\r\n\r\n    dispatch({\r\n      type: \"SHOW_MODAL\",\r\n      payload: {\r\n        show: false\r\n      }\r\n    })\r\n  }}>\r\n    <Form.Group controlId=\"doctor\">\r\n      <Form.Label>Nombre</Form.Label>\r\n      <Form.Control type=\"text\" value={fields.name} onChange={(e)=>{\r\n        const value = e.target.value\r\n        dispatch({\r\n          type: \"UPDATE_UNIT_FORM\",\r\n          payload: {\r\n            fields: {\r\n              ...fields,\r\n              name: value\r\n            }\r\n          }\r\n        })\r\n      }}/>\r\n    </Form.Group>\r\n    <Form.Group controlId=\"doctor\">\r\n      <Form.Label>Descripcin</Form.Label>\r\n      <Form.Control as=\"textarea\" value={fields.description}  onChange={(e)=>{\r\n        const value = e.target.value\r\n        dispatch({\r\n          type: \"UPDATE_UNIT_FORM\",\r\n          payload: {\r\n            fields: {\r\n              ...fields,\r\n              description: value\r\n            }\r\n          }\r\n        })\r\n      }}/>\r\n    </Form.Group>\r\n      \r\n  </Form>\r\n}\r\n\r\nexport default UnitForm","import React from 'react'\r\nimport { Modal, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getModal } from '../selectors/inputs'\r\nimport UnitForm from './UnitForm'\r\n\r\nexport const FormDialog = ()=>{\r\n  const dispatch = useDispatch()\r\n  const {show, target, id} = useSelector(getModal)\r\n\r\n  return <Modal centered show={show} onHide={()=>{\r\n    dispatch({\r\n      type: \"SHOW_MODAL\",\r\n      payload: {\r\n        show: false\r\n      }\r\n    })\r\n  }}>\r\n    <Modal.Header closeButton>\r\n      <Modal.Title>{`${id != null ? \"Editar\" : \"Crear\"}`}<span>{target == 'unit' ? \" Unidad\" : \" Puesto de Trabajo\"}</span></Modal.Title>\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n      {\r\n      target == 'unit' ? \r\n        <UnitForm /> :\r\n        target == 'job' ?\r\n          null :\r\n          null\r\n      }\r\n    </Modal.Body>\r\n    <Modal.Footer>\r\n      <Button variant=\"secondary\" onClick={()=>{\r\n        dispatch({\r\n          type: \"SHOW_MODAL\",\r\n          payload: {\r\n            show: false\r\n          }\r\n        })\r\n      }}>\r\n        Cancelar\r\n      </Button>\r\n      <Button variant=\"primary\" form=\"unit-form\" type=\"submit\">\r\n        Guardar\r\n      </Button>\r\n    </Modal.Footer>\r\n  </Modal>\r\n}","import React from 'react'\r\nimport Tree, { TreeNode } from 'rc-tree'\r\nimport {FaSitemap, FaBriefcase} from 'react-icons/fa'\r\nimport './tree.css'\r\nimport UnitForm from './UnitForm'\r\nimport { UnitDetails } from './UnitDetails'\r\nimport { OrganizationalStructureTree } from './OrganizationalStructureTree'\r\nimport { FormDialog } from './FormDialog'\r\n\r\nexport const Organization = ()=>{\r\n  return <div style={{minWidth: 480}} className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n    <h1 style={{fontSize: \"2rem\"}}>Estructura Organizacional</h1>\r\n    <div className=\"position-relative d-flex flex-grow-1\">\r\n      <OrganizationalStructureTree />\r\n      <div className=\"p-3 border flex-grow-1\"  style={{marginLeft: \"11rem\"}}>\r\n        <UnitDetails />\r\n      </div>\r\n    </div>\r\n    <FormDialog></FormDialog>\r\n  </div>\r\n}\r\n\r\nexport default Organization","import { EmployeeAwareState } from \"../state\";\r\n\r\nexport const getEmployees = (state: EmployeeAwareState)=>state.employee.entities.employees\r\nexport const getEmployeeFormState = (state: EmployeeAwareState)=>state.employee.ui.employeeForm","import { createSelector } from \"reselect\";\r\nimport { getJobs, getUnits } from \"../../organization/selectors/inputs\";\r\nimport { getEmployees } from \"./inputs\";\r\n\r\n\r\nexport const getEmployeeTableView = createSelector(\r\n  getEmployees,\r\n  getUnits,\r\n  getJobs,\r\n  (employees, jobs, units)=>{\r\n    return employees.map(employee => {\r\n      const job = jobs.find(job => job.id == employee.contract.jobId)\r\n      return {\r\n        id: employee.id,\r\n        dni: employee.dni,\r\n        fullName: `${employee.lastname} ${employee.middlename} ${employee.name}`,\r\n        gender: employee.gender,\r\n        dateOfBirth: employee.dateOfBirth,\r\n        nationality: employee.nationality,\r\n        afp: employee.afp,\r\n        contract: {\r\n          type: employee.contract.type,\r\n          startDate: employee.contract.startDate,\r\n          job: {\r\n            name: job?.name,\r\n            unit: units.find(u => u.id == employee.contract.jobId),\r\n          },\r\n          salary: (employee.contract.salary/100).toFixed(2)\r\n        }\r\n\r\n      }\r\n    })\r\n  }\r\n)\r\n\r\n","import React from \"react\"\r\nimport { Table, Button } from 'react-bootstrap'\r\nimport { useSelector } from \"react-redux\"\r\nimport { Link, useRouteMatch } from \"react-router-dom\"\r\nimport { getEmployeeTableView } from \"../selectors\"\r\nimport FilterEmployeesForm from \"./FilterEmployeesForm\"\r\n\r\nexport const EmployeesList = ()=>{  \r\n  const { path, url } = useRouteMatch()\r\n  const employeesTableView = useSelector(getEmployeeTableView)\r\n\r\n  return <div style={{minWidth: 480}} className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n    <h1 style={{fontSize: \"2rem\"}}>Lista de empleados</h1>\r\n    {/* <FilterEmployeesForm /> */}\r\n    {/* <div className=\"ml-auto mb-2\">\r\n      <Link to={`${url}/registrar`} className=\"btn btn-primary text-white\">Registrar</Link>\r\n    </div> */}\r\n    <Table responsive className=\"small text-nowrap\">\r\n      <thead>\r\n        <tr>\r\n          <th style={{width: 0}}>#</th>\r\n          <th >Carnet de identidad</th>\r\n          <th >Nombre completo</th>\r\n          <th >Sexo</th>\r\n          <th >Fecha de nacimiento</th>\r\n          <th >Nacionalidad</th>\r\n          <th >Tipo de contrato</th>\r\n          <th >Fecha de incorporacin</th>\r\n          <th >Unidad</th>\r\n          <th >Cargo</th>\r\n          <th >Salario</th>\r\n          <th >Afp</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {employeesTableView.map((e, i)=>{\r\n          return <tr>\r\n            <th scope=\"row\">\r\n              {i+1}\r\n            </th>\r\n            <td>{e.dni}</td>\r\n            <td className=\"text-nowrap\">{e.fullName}</td>\r\n            <td>{e.gender}</td>\r\n            <td>{e.dateOfBirth}</td>\r\n            <td>{e.nationality}</td>\r\n            <td>{e.contract.type}</td>\r\n            <td>{e.contract.startDate}</td>\r\n            {/* <td>{e.contract.endDate}</td> */}\r\n            <td className=\"text-nowrap\">{e.contract.job.unit?.name}</td>\r\n            <td className=\"text-nowrap\">{e.contract.job.name}</td>\r\n            <td>{e.contract.salary}</td>\r\n            <td>{e.afp}</td>\r\n          </tr>\r\n        })}\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n}","import React from 'react'\r\nimport { Form, Button, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getOwnedJobs } from '../../organization/selectors/getOrganizationalStructure'\r\nimport { getUnits } from '../../organization/selectors/inputs'\r\nimport {getEmployeeFormState} from \"../selectors\"\r\nimport { Employee } from '../state'\r\nimport {v4 as uuidv4} from 'uuid'\r\n\r\nexport const EmployeeForm = ()=>{\r\n  const dispatch = useDispatch()\r\n  const {fields} = useSelector(getEmployeeFormState)\r\n  const units = useSelector(getUnits)\r\n  const jobs = useSelector((state:any)=>getOwnedJobs(state, fields.unitId))\r\n\r\n  const updateForm = (field: keyof typeof fields, value: string) => {\r\n    dispatch({\r\n      type: \"UPDATE_EMPLOYEE_FORM\",\r\n      payload: {\r\n        fields: {\r\n          ...fields,\r\n          [field]: value\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  const onChange = (field: keyof typeof fields)=>(e:any) =>{\r\n    const value = e.target.value\r\n    updateForm(field, value)\r\n  }\r\n\r\n  return <div style={{minWidth: 480}} className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n    <Form onSubmit={(e)=>{\r\n      e.preventDefault()\r\n      const employee: Employee = {\r\n        id: uuidv4(),\r\n        dni: fields.dni,\r\n        name: fields.name,\r\n        middlename: fields.middlename,\r\n        lastname: fields.lastname,\r\n        gender: fields.gender,\r\n        dateOfBirth: fields.dateOfBirth,\r\n        nationality: fields.nacionality,\r\n        afp: fields.afp,\r\n        contract: {\r\n          type: fields.contractType,\r\n          startDate: fields.startDate,\r\n          jobId: fields.jobId,\r\n          salary: fields.salary\r\n        }\r\n      }\r\n      dispatch({\r\n        type: \"ADD_EMPLOYEE\",\r\n        payload: employee\r\n      })\r\n      dispatch({\r\n        type: \"RESET_EMPLOYE_FORM\"\r\n      })\r\n    }}>\r\n      <fieldset>\r\n        <legend>Informacion Personal</legend>\r\n        <Form.Row>\r\n          <Form.Group as={Col} xs={8} md={4} controlId=\"employee-dni\">\r\n            <Form.Label>Carnet de Identidad</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.dni} onChange={onChange(\"dni\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} xs={4} md={2} controlId=\"employee-dni-complement\">\r\n            <Form.Label>Complemento</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.dniComplement} onChange={onChange(\"dniComplement\")} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row className=\"d-none\">\r\n          <Form.Group as={Col}>\r\n            <Button>Buscar</Button>\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n        <Form.Row>\r\n          <Form.Group as={Col} md={4} controlId=\"employee-name\">\r\n            <Form.Label>Nombre</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.name} onChange={onChange(\"name\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md={4} controlId=\"employee-middlename\">\r\n            <Form.Label>Apellido Paterno</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.middlename} onChange={onChange(\"middlename\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md={4} controlId=\"employee-lastname\">\r\n            <Form.Label>Apellido Materno</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.lastname} onChange={onChange(\"lastname\")} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} sm={4} controlId=\"employee-gender\">\r\n            <Form.Label>Sexo</Form.Label>\r\n            <Form.Control as={\"select\"} value={fields.gender} onChange={onChange(\"gender\")} >\r\n              <option id=\"1\" value=\"Masculino\">Hombre</option>\r\n              <option id=\"2\" value=\"Femenino\">Mujer</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Form.Group as={Col} sm={8} md={4} controlId=\"employee-dayofbirth\">\r\n            <Form.Label>Fecha de nacimiento</Form.Label>\r\n            <Form.Control type=\"date\" value={fields.dateOfBirth} onChange={onChange(\"dateOfBirth\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md={4} controlId=\"employee-nationality\">\r\n            <Form.Label>Nacionalidad</Form.Label>\r\n            <Form.Control as=\"select\" value={fields.nacionality} onChange={onChange(\"nacionality\")} >\r\n              <option value=\"Boliviana\">Boliviana</option>\r\n              <option value=\"Extranjera\">Extranjera</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n      </fieldset>\r\n      <fieldset>\r\n        <legend>Informacion de Contrato</legend>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md={4} controlId=\"employee-contract-type\">\r\n            <Form.Label>Tipo de contrato</Form.Label>\r\n            <Form.Control as={\"select\"} value={fields.contractType} onChange={onChange(\"contractType\")} >\r\n              <option id=\"1\" value=\"item\">Item</option>\r\n              <option id=\"2\" value=\"contrato laboral\">Contrato Laboral</option>\r\n              <option id=\"3\" value=\"consultora\">Consultora</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Form.Group as={Col} sm={8} md={4} controlId=\"employee-contract-start-date\">\r\n            <Form.Label>Fecha de inicio</Form.Label>\r\n            <Form.Control type=\"date\" value={fields.startDate} onChange={onChange(\"startDate\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} sm={4} controlId=\"employee-contract-salary\">\r\n            <Form.Label>Salario</Form.Label>\r\n            <Form.Control type=\"number\" value={fields.salary} onChange={onChange(\"salary\")} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"employee-contract-job-unit\">\r\n            <Form.Label>Unidad</Form.Label>\r\n            <Form.Control as={\"select\"} value={fields.unitId} onChange={onChange(\"unitId\")} >\r\n              <>\r\n                <option value=\"\"></option>\r\n                {units.map(unit=>(\r\n                  <option key={unit.id} value={unit.id} >{unit.name}</option>\r\n                ))}\r\n              </>\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Form.Group as={Col} controlId=\"employee-contract-job\">\r\n            <Form.Label>Cargo</Form.Label>\r\n            <Form.Control as=\"select\" value={fields.jobId} onChange={onChange(\"jobId\")} >\r\n              <>\r\n                <option value=\"\"></option>\r\n                {jobs.map(job=>(\r\n                  <option key={job.id} value={job.id} >{job.name}</option>\r\n                ))}\r\n              </>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n      </fieldset>\r\n      <fieldset>\r\n        <legend>Informacin sobre AFP</legend>\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"employee-afp\">\r\n            <Form.Label>Empresa</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.afp} onChange={onChange(\"afp\")} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n      </fieldset>\r\n      <Button type=\"submit\">Registrar</Button>\r\n    </Form>\r\n  </div>\r\n}","import React from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport { useRouteMatch, Switch, Route, Redirect } from 'react-router-dom'\r\nimport {Sidebar} from '../../commons/components/Sidebar'\r\nimport Organization from '../../features/organization/components/Organization'\r\nimport {EmployeesList} from '../../features/employees/components/EmployeesList'\r\nimport {EmployeeForm} from '../../features/employees/components/EmployeeForm'\r\nimport { FaBuilding } from 'react-icons/fa'\r\nimport { BsPersonFill, BsPersonPlusFill } from 'react-icons/bs'\r\n\r\nexport const HrApp = ()=>{\r\n  const showSidebar = useSelector((state:any)=>state.main.showSidebar)\r\n  const { path, url } = useRouteMatch()\r\n  \r\n  return <div className={\"position-relative d-flex flex-grow-1 bg-light\" + (showSidebar ? \"\" : \" toggled\")}  id=\"wrapper\">\r\n    <Sidebar className=\"bg-white shadow-sm \" style={{height: \"initial\"}} items={[\r\n      {\r\n        id: \"organizational-structure\",\r\n        icon: <FaBuilding />,\r\n        path: `${url}/organizacion`,\r\n        title: \"Estructura Organizacional\" \r\n      },\r\n      {\r\n        id: \"employee\",\r\n        icon: <BsPersonFill />,\r\n        path: `${url}/empleados`,\r\n        title: \"Empleados\",\r\n        items: [\r\n          {\r\n            id: \"registrar-empleado\",\r\n            icon: <BsPersonPlusFill />,\r\n            path: `${url}/empleados/registrar`,\r\n            title: \"Registrar\"\r\n          }\r\n        ]\r\n      }\r\n    ]}/>\r\n  <Container className=\"d-flex flex-column flex-grow-1\" style={{overflow: \"auto\"}}>\r\n    <Switch>\r\n      <Route exact path={path}>\r\n          <Redirect to={`${path}/organizacion`} />\r\n      </Route>\r\n      <Route  path={`${path}/organizacion`}><Organization /></Route>\r\n      <Route  path={`${path}/empleados/registrar`}><EmployeeForm /></Route>\r\n      <Route  exact path={`${path}/empleados`}><EmployeesList /></Route>\r\n    </Switch>\r\n  </Container>\r\n</div>\r\n\r\n}\r\n\r\nexport default HrApp","import React, {useState, useEffect} from \"react\"\r\n\r\nexport const LoadingInput = (props: React.ComponentProps<'input'> & { loading: boolean }) => {\r\n    const [count, setCount] = useState(0);\r\n    const {placeholder, loading} = props\r\n\r\n    useEffect(()=>{\r\n        const timeout = setInterval(()=>{\r\n            setCount((count)=>(count+1)%3)\r\n        }, 1000)\r\n        return ()=>clearInterval(timeout)\r\n    }, [])\r\n    const loadingPlaceholder = placeholder + (loading ? (new Array(count+1).join('.')) : \"\")\r\n    return <input {...props} placeholder={loadingPlaceholder} />\r\n}","import React, {useEffect} from 'react'\r\nimport PDFObject from 'pdfobject'\r\n\r\nexport function PDFViewer({url, height}:{url: string, height: number}) {\r\n    useEffect(()=>{\r\n      var options = {\r\n        fallbackLink: '<p>Este navegador no soporta la visualizacion de archivos PDF en linea, por favor descarga el archivo haciendo clic : <a href=\"[url]\">aqu</a></p>'\r\n      };\r\n     \r\n      PDFObject.embed(url, \"#pdfcontainer\", options);\r\n    }, [url])\r\n    return <div id=\"pdfcontainer\" style={{height}}></div>\r\n  }","import { useRef, useEffect, useState, useCallback, DependencyList, MutableRefObject, useMemo } from 'react'\r\n\r\nexport const useCallbackRef = <T extends (...args: any[]) => any>(callback: T, deps: DependencyList): MutableRefObject<T> => {\r\n  const callbackRef = useRef(callback)\r\n  useEffect(() => {\r\n\tcallbackRef.current = callback\r\n  }, [deps])\r\n  return callbackRef\r\n}\r\ntype FetchState = {\r\n  completed?: boolean,\r\n  data?: any,\r\n  error?: boolean\r\n}\r\n\r\ntype Fetcher = [\r\n  state: FetchState,\r\n  send: ()=>void\r\n]\r\n\r\nexport const useFetch = (callback: ()=>Promise<Response> | Promise<Response[]>, deps: DependencyList):Fetcher=>{\r\n  const [state, setState] = useState<FetchState>({});\r\n  const fetchRef = useCallbackRef(callback, deps)\r\n  const send = useCallback(()=>{\r\n    const request = async ()=>{\r\n      setState({\r\n        completed: false,\r\n      })\r\n      const response = await fetchRef.current()\r\n      const data = await (Array.isArray(response) ? Promise.all(response.map(r=>r.json())) : response.json())\r\n      if(Array.isArray(response) ? response.every(r=>r.ok) : response.ok){\r\n        setState({\r\n          completed: true,\r\n          data,\r\n          error: false\r\n        })\r\n      }\r\n      else{\r\n        setState({\r\n          completed: true,\r\n          data,\r\n          error: false\r\n        })\r\n      }\r\n    }\r\n    request().catch((e)=>{\r\n      setState({\r\n        completed: true,\r\n        error: true\r\n      })\r\n    })\r\n  },[])\r\n\r\n  return [state, send]\r\n}","import React, { useState, useCallback, useRef, useEffect } from 'react'\r\nimport { Form, Col, FormControlProps } from 'react-bootstrap'\r\nimport {LoadingInput} from '../../../commons/components'\r\nimport {useFetch} from '../../../commons/hooks'\r\nimport {baseUrl} from \"../../../configs/app.json\"\r\n\r\ntype Paciente = {\r\n  id: number,\r\n  carnet: string,\r\n  nombre: string,\r\n  empresa: {\r\n    nombre: string,\r\n    estado: string\r\n  }\r\n}\r\n\r\ntype Props = {\r\n  disabled?: boolean,\r\n  paciente: Paciente,\r\n  onChange: (paciente: Paciente)=>void\r\n}\r\n\r\nconst initial = {\r\n  id: 0,\r\n  carnet: \"\",\r\n  nombre: \"\",\r\n  empresa: {\r\n    nombre: \"\",\r\n    estado: \"\"\r\n  }\r\n}\r\n\r\nexport default ({disabled, paciente, onChange}: Props) => {\r\n  const lastCarnet = useRef(paciente.carnet)\r\n  const [stateOfGetPaciente, getPaciente] = useFetch(()=>fetch(baseUrl + `/pacientes?carnet=${paciente.carnet}`), [paciente.carnet])\r\n\r\n  const onChangeCarnet = useCallback<NonNullable<FormControlProps[\"onChange\"]>>((e)=>{\r\n    const value = e.target.value.toUpperCase()\r\n    onChange({\r\n      ...initial,\r\n      carnet: value\r\n    })\r\n  }, [paciente])\r\n\r\n  const onBlurCarnet = useCallback((e: React.FocusEvent<HTMLInputElement>)=>{\r\n    if(lastCarnet.current != paciente.carnet){\r\n      lastCarnet.current = paciente.carnet\r\n      getPaciente()\r\n    }\r\n  }, [paciente.carnet])\r\n\r\n  useEffect(()=>{\r\n    if(stateOfGetPaciente.completed && !stateOfGetPaciente.error){\r\n      const data = stateOfGetPaciente.data as Array<Paciente>\r\n      if(data.length){\r\n        onChange(data[0])\r\n      }\r\n    }\r\n  }, [stateOfGetPaciente])\r\n\r\n  return <fieldset disabled={disabled} >\r\n  <legend>Paciente</legend>\r\n  <Form.Row>\r\n    <Form.Group as={Col} sm controlId=\"carnet_paciente\">\r\n      <Form.Label>N Carnet</Form.Label>\r\n      <Form.Control type=\"text\" \r\n        isInvalid={stateOfGetPaciente.completed && !stateOfGetPaciente.error && !stateOfGetPaciente.data.length} \r\n        onChange={onChangeCarnet} \r\n        onBlur={onBlurCarnet} value={paciente.carnet} />\r\n    </Form.Group>\r\n    <Form.Group as={Col} sm={9} controlId=\"nombre_paciente\">\r\n      <Form.Label>Nombre</Form.Label>\r\n      <Form.Control  as={LoadingInput} loading={stateOfGetPaciente.completed===false}\r\n        placeholder={stateOfGetPaciente.completed===false ? \"Buscando\":  stateOfGetPaciente.error ? \"Error\" : \"\"}\r\n        readOnly type=\"text\" value={paciente.nombre.toUpperCase()} />\r\n    </Form.Group>\r\n  </Form.Row>\r\n  <Form.Row>\r\n    <Form.Group as={Col} sm={9} controlId=\"empresa\">\r\n      <Form.Label>Empresa</Form.Label>\r\n      <Form.Control as={LoadingInput} loading={stateOfGetPaciente.completed===false}\r\n        placeholder={stateOfGetPaciente.completed===false ? \"Buscando\":  stateOfGetPaciente.error ? \"Error\" : \"\"}\r\n        readOnly type=\"text\" value={paciente.empresa.nombre.toUpperCase()} />\r\n    </Form.Group>\r\n    <Form.Group as={Col} sm controlId=\"estado\">\r\n      <Form.Label>Estado</Form.Label>\r\n      <Form.Control  as={LoadingInput} loading={stateOfGetPaciente.completed===false}\r\n        placeholder={stateOfGetPaciente.completed===false ? \"Buscando\":  stateOfGetPaciente.error ? \"Error\" : \"\"}\r\n        readOnly type=\"text\" isInvalid={paciente.empresa.estado==\"Mora\"} value={paciente.empresa.estado.toUpperCase()} />\r\n    </Form.Group>\r\n  </Form.Row>\r\n</fieldset>\r\n\r\n}","import React, { useCallback, useState, useEffect, useRef} from 'react';\r\nimport { Form, Button, Table, FormControlProps, Spinner, Modal } from 'react-bootstrap'\r\nimport { FaMinus as FaTrash, FaPlus } from 'react-icons/fa'\r\nimport PacientFieldset from './PacientFieldset'\r\nimport { PDFViewer } from './../../../commons/components'\r\nimport {useFetch} from'./../../../commons/hooks'\r\nimport {baseUrl} from './../../../configs/app.json'\r\n\r\ntype Doctor = {\r\n  id: number,\r\n  nombre: string,\r\n}\r\ntype Proveedor = {\r\n  id: number,\r\n  nombre: string,\r\n  servicios: {\r\n    id: number,\r\n  }[]\r\n}\r\ntype Servicio = {\r\n  id: number,\r\n  nombre: string,\r\n}\r\n\r\ntype FormState = {\r\n  paciente: {\r\n    id: number,\r\n    carnet: string,\r\n    nombre: string,\r\n    empresa: {\r\n      nombre: string,\r\n      estado: string\r\n    }\r\n  },\r\n  doctor: {\r\n    id: number,\r\n    nombre: string,\r\n  },\r\n  proveedor: {\r\n    id: number,\r\n    nombre: string,\r\n    servicios: {\r\n      id: number\r\n    }[]\r\n  },\r\n  servicios: {\r\n    id: number,\r\n    nombre: string,\r\n    nota: string\r\n  }[]\r\n}\r\n\r\nfunction TransferenciaExternaForm() {\r\n  const [formState, updateForm] = useState<FormState>({\r\n    paciente: {\r\n      id: 0,\r\n      carnet: \"\",\r\n      nombre: \"\",\r\n      empresa: {\r\n        nombre: \"\",\r\n        estado: \"\"\r\n      },\r\n    },\r\n    doctor: {\r\n      id: 0,\r\n      nombre: \"\",\r\n    },\r\n    proveedor: {\r\n      id: 0,\r\n      nombre: \"\",\r\n      servicios: []\r\n    },\r\n    servicios: []\r\n  })\r\n\r\n  const [servicioSolicitado, updateServiciosSolicitado] = useState({\r\n    id: 0,\r\n    nota: \"\"\r\n  })\r\n\r\n  const onChangeDoctor = useCallback<NonNullable<FormControlProps[\"onChange\"]>>((e)=>{\r\n    updateForm({\r\n      ...formState,\r\n      doctor: doctores.find(doctor=>doctor.id == parseInt(e.target.value)) || {id: 0, nombre: \"\"}\r\n    })\r\n  }, [formState])\r\n\r\n  const onChangeProveedor = useCallback<NonNullable<FormControlProps[\"onChange\"]>>((e)=>{\r\n    updateForm({\r\n      ...formState,\r\n      proveedor: proveedores.find(proveedor=>proveedor.id == parseInt(e.target.value)) || {id: 0, nombre: \"\", servicios: []}\r\n    })\r\n  }, [formState])\r\n\r\n  const a = useRef(Math.random())\r\n  console.log(\"Random\", a)\r\n\r\n  const [stateOfSubmit, submit] = useFetch(()=>{\r\n    return fetch(baseUrl+\"/transferencias\", {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        \"paciente_id\": formState.paciente.id,\r\n        \"doctor_id\": formState.doctor.id,\r\n        \"proveedor_id\": formState.proveedor.id,\r\n        \"servicios_ids\": formState.servicios.map((servicio)=>servicio.id)\r\n      })\r\n    })\r\n  }, [formState])\r\n\r\n  const onSubmit = useCallback((e) => {\r\n    e.preventDefault()\r\n    submit()\r\n  }, [])\r\n\r\n  const [stateOfLoadInitData, loadData] = useFetch(()=>{\r\n    return Promise.all([\r\n      fetch(baseUrl + \"/doctores\"),\r\n      fetch(baseUrl + \"/proveedores\"),\r\n      fetch(baseUrl + \"/servicios\")\r\n    ])\r\n  }, [])\r\n  const [doctores, proveedores, servicios] = (stateOfLoadInitData.data || [[],[],[]]) as [Doctor[], Proveedor[],Servicio[]]\r\n\r\n  const [proveedoresAdecuados, updateProveedoresAdecuados] = useState(proveedores)\r\n  const [serviciosDisponibles, updateServiciosDisponibles] = useState(servicios)\r\n  \r\n  useEffect(()=>loadData(), [])\r\n  useEffect(()=>{\r\n    if(stateOfLoadInitData.completed && !stateOfLoadInitData.error){\r\n      const nuevosProveedores = proveedores.filter(proveedor=>{\r\n        return formState.servicios.every(rs => {\r\n          return proveedor.servicios.some(ps => ps.id ==rs.id)\r\n        })\r\n      })\r\n      updateProveedoresAdecuados(\r\n        nuevosProveedores\r\n      )\r\n      if(!nuevosProveedores.some(np => np.id == formState.proveedor.id)){\r\n        updateForm({\r\n          ...formState,\r\n          proveedor: {\r\n            id: 0,\r\n            nombre: \"\",\r\n            servicios: []\r\n          }\r\n        })\r\n      }\r\n      if(nuevosProveedores.length == 1){\r\n        updateForm({\r\n          ...formState,\r\n          proveedor: nuevosProveedores[0]\r\n        })\r\n      }\r\n      const serviciosDisponibles = servicios.filter(as=>{\r\n        return nuevosProveedores.some(proveedor => {\r\n          return !formState.servicios.some(rs => rs.id ==as.id) && proveedor.servicios.some(ps => ps.id == as.id)\r\n        })\r\n      })\r\n      updateServiciosDisponibles(serviciosDisponibles)\r\n    }\r\n  }, [formState.servicios, stateOfLoadInitData])\r\n\r\n  const renderServicios = ()=>{\r\n    return formState.servicios.map((value, index)=>(\r\n      <tr>\r\n        <td>{index+1}</td>\r\n        <td>{value.nombre}</td>\r\n        <td>{value.nota}</td>\r\n        <td><Button variant=\"link\" onClick={()=>{\r\n          updateForm({\r\n            ...formState,\r\n            servicios: formState.servicios.filter((v, i)=>index != i)\r\n          })\r\n        }} className=\"btn-icon\"><FaTrash /></Button></td>\r\n      </tr>\r\n    ))\r\n  }\r\n\r\n  const renderPdf = () => {\r\n    const url = stateOfSubmit.data && stateOfSubmit.data.url\r\n    return url ? <PDFViewer url={url} height={400}></PDFViewer> : null\r\n  }\r\n  console.log(\"FormState\", formState)\r\n  const renderForm = () => {\r\n    return <>\r\n    <Form style={{marginTop:20, marginBottom:20}} onSubmit={onSubmit}>\r\n      <PacientFieldset disabled={stateOfSubmit.completed === false} paciente={formState.paciente} onChange={(paciente)=>{\r\n        updateForm({\r\n          ...formState,\r\n          paciente\r\n        })\r\n      }} />\r\n      <fieldset disabled={stateOfSubmit.completed === false}>\r\n        <legend>Doctor</legend>\r\n        <Form.Group controlId=\"doctor\">\r\n            <Form.Label>Nombre</Form.Label>\r\n            <Form.Control as=\"select\" type=\"text\" onChange={onChangeDoctor} value={formState.doctor.id}>\r\n              <option id=\"0\"></option>\r\n              {doctores.map((doctor)=>{\r\n                return <option key={doctor.id} id={String(doctor.id)} value={String(doctor.id)}>{doctor.nombre}</option>\r\n              })}\r\n            </Form.Control>\r\n          </Form.Group>\r\n      </fieldset>\r\n      <fieldset disabled={stateOfSubmit.completed === false}>\r\n        <legend>Servicios</legend>\r\n        <Table>\r\n          <thead>\r\n            <tr>\r\n              <th style={{width:0}}>#</th>\r\n              <th>Nombre</th>\r\n              <th>Nota</th>\r\n              <th style={{width:0}}></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {renderServicios()}\r\n            <tr>\r\n              <td>{formState.servicios.length+1}</td>\r\n              <td><Form.Control as=\"select\"\r\n                value={servicioSolicitado.id}\r\n                onChange={(e)=>{\r\n                console.log(\"onChange required service\", e.target.value)\r\n                updateServiciosSolicitado({\r\n                  ...servicioSolicitado,\r\n                  id: parseInt(e.target.value),\r\n                })\r\n              }}>\r\n                <option id=\"0\"></option>\r\n                {serviciosDisponibles.map((servicio)=>(\r\n                  <option key={servicio.id} id={String(servicio.id)} value={String(servicio.id)}>{servicio.nombre}</option>\r\n                ))}\r\n              </Form.Control></td>\r\n              <td><Form.Control as=\"textarea\"\r\n                value={servicioSolicitado.nota}\r\n                onChange={(e)=>{\r\n                updateServiciosSolicitado({\r\n                  ...servicioSolicitado,\r\n                  nota: e.target.value\r\n                })\r\n              }}></Form.Control></td>\r\n              <td><Button variant=\"link\" onClick={()=>{\r\n                console.log(\"Required Service\", servicioSolicitado)\r\n                const selectedService = servicios.find((servicio)=>servicio.id==servicioSolicitado.id)\r\n                if(selectedService){\r\n                  updateForm({\r\n                    ...formState,\r\n                    servicios: [...formState.servicios, {\r\n                      id: selectedService.id,\r\n                      nombre: selectedService.nombre,\r\n                      nota: servicioSolicitado.nota\r\n                    }]\r\n                  })\r\n                  updateServiciosSolicitado({\r\n                    id: 0,\r\n                    nota: \"\"\r\n                  })\r\n                }\r\n              }} className=\"btn-icon\"><FaPlus /></Button></td>\r\n            </tr>\r\n          </tbody>\r\n        </Table>\r\n      </fieldset>\r\n      <fieldset disabled={stateOfSubmit.completed === false}>\r\n        <legend>Proveedor</legend>\r\n        <Form.Group controlId=\"doctor\">\r\n            <Form.Label>Nombre</Form.Label>\r\n            <Form.Control as=\"select\" type=\"text\" onChange={onChangeProveedor} value={formState.proveedor.id}>\r\n              <option id=\"0\"></option>\r\n              {proveedoresAdecuados.map((proveedor)=>(\r\n                <option key={proveedor.id} id={String(proveedor.id)} value={String(proveedor.id)}>{proveedor.nombre}</option>\r\n              ))}\r\n            </Form.Control>\r\n          </Form.Group>\r\n      </fieldset>\r\n      <Button variant=\"primary\" type=\"submit\">\r\n        {stateOfSubmit.completed === false && <Spinner animation=\"border\" size=\"sm\" />} Guardar\r\n      </Button>\r\n    </Form>\r\n    <Modal\r\n      show={stateOfSubmit.data && !stateOfSubmit.error}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          D.M. - 11\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n       {renderPdf()}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button>Close</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n    </>\r\n  }\r\n\r\n  return <>\r\n    <h1>Transferencia externa</h1>\r\n    {renderForm()}\r\n    <Modal\r\n      show={!stateOfLoadInitData.completed}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Cargando\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Spinner animation=\"border\" />\r\n      </Modal.Body>\r\n    </Modal>\r\n  </>\r\n}\r\n\r\nconst App = TransferenciaExternaForm;\r\n\r\nexport default App;\r\n","import React, { useCallback, useState, useEffect, useRef, DependencyList, MutableRefObject} from 'react';\r\nimport { Container, DropdownButton, Col, Table, FormControlProps, Navbar, Nav, Spinner, Modal, NavDropdown, Badge, Popover, OverlayTrigger, Row } from 'react-bootstrap'\r\nimport { Sidebar } from '../../commons/components/Sidebar';\r\nimport TransferForm from '../../features/transfers/components/TransferForm'\r\nimport { useSelector } from 'react-redux';\r\nimport { useRouteMatch } from 'react-router-dom';\r\n\r\nexport default ()=>{  \r\n  const showSidebar = useSelector((state:any)=>state.main.showSidebar)\r\n  const { path, url } = useRouteMatch()\r\n\r\n  return <div className={\"position-relative d-flex flex-grow-1 bg-light\" + (showSidebar ? \"\" : \" toggled\")}  id=\"wrapper\">\r\n      <Sidebar className=\"bg-white shadow-sm \" style={{height: \"initial\"}} items={[\r\n        {\r\n          id: \"visits\",\r\n          path: `${url}/consultas`,\r\n          title: \"Consultas\" \r\n        },\r\n        {\r\n          id: \"transfers\",\r\n          path: `${url}/transferencias`,\r\n          title: \"Transferencias\" \r\n        }\r\n      ]}/>\r\n    <Container className=\"d-flex flex-column flex-grow-1\" style={{overflow: \"auto\"}}>\r\n      <TransferForm />\r\n    </Container>\r\n    </div>\r\n};\r\n","import React, { useCallback, useState, useEffect, useRef, DependencyList, MutableRefObject} from 'react';\r\nimport { Container, DropdownButton, Col, Table, FormControlProps, Navbar, Nav, Spinner, Modal, NavDropdown, Badge, Popover, OverlayTrigger, Row } from 'react-bootstrap'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\"\r\nimport { useDispatch } from 'react-redux'\r\nimport HrApp from \"./HrApp\";\r\nimport MedicalApp from \"./MedicalApp\";\r\nimport { MdApps } from 'react-icons/md'\r\nimport { FaBell, FaUserCircle, FaBars, FaClinicMedical } from 'react-icons/fa'\r\nimport '../../App.css';\r\nimport '../../simple-sidebar.css'\r\n\r\nexport default ()=>{\r\n  const dispatch = useDispatch()\r\n  const toggleSidebar = () => {\r\n    //setSidebarVisible(visible => !visible)\r\n    dispatch({\r\n      type:\"TOGGLE_SIDEBAR\"\r\n    })\r\n  }\r\n  return <Router>\r\n    <Navbar className=\"shadow-sm border-bottom\" bg=\"white\" variant=\"light\" style={{zIndex: 1}}>\r\n      <Navbar.Toggle style={{display: \"initial\"}} onClick={toggleSidebar} ><FaBars /></Navbar.Toggle>\r\n      <Navbar.Brand href=\"#home\" className=\"ml-4\">Hipocrates</Navbar.Brand>\r\n      <Nav className=\"ml-auto\">\r\n        <OverlayTrigger\r\n          trigger=\"click\"\r\n          placement=\"bottom\"\r\n          overlay={\r\n            <Popover id=\"apps\">\r\n              <Popover.Title className=\"text-center\" as=\"h3\">Aplicaciones</Popover.Title>\r\n              <Popover.Content>\r\n                <Row>\r\n                  <Col className=\"text-center\"><Link to=\"/rrhh\" ><FaClinicMedical size={48} /><span>Recursos Humanos</span></Link></Col>\r\n                  <Col className=\"text-center\"><Link to=\"/consultorio\" ><FaClinicMedical size={48} /><span>Consultorio</span></Link></Col>\r\n                  <Col className=\"text-center\"><FaClinicMedical size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col className=\"text-center\"><FaClinicMedical size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                  <Col className=\"text-center\"><FaClinicMedical size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                  <Col className=\"text-center\"><FaClinicMedical size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col className=\"text-center\"><FaClinicMedical size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                  <Col className=\"text-center\"><FaClinicMedical size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                  <Col className=\"text-center\"><FaClinicMedical size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                </Row>\r\n              </Popover.Content>\r\n            </Popover>\r\n          }\r\n        >\r\n          <Nav.Link href=\"#\"><MdApps size=\"1.5em\" /></Nav.Link>\r\n        </OverlayTrigger>\r\n        <OverlayTrigger\r\n          trigger=\"click\"\r\n          placement=\"bottom\"\r\n          overlay={\r\n            <Popover id=\"apps\">\r\n              <Popover.Title className=\"text-center\" as=\"h3\">Notificaciones</Popover.Title>\r\n              <Popover.Content>\r\n                \r\n              </Popover.Content>\r\n            </Popover>\r\n          }\r\n        >\r\n          <Nav.Link href=\"#\" style={{whiteSpace: \"nowrap\"}}>\r\n            <FaBell />\r\n            {/* <Badge className=\"pulse\" pill variant=\"danger\">9</Badge> */}\r\n            <div className=\"pulse bg-danger\" style={{\r\n              left: \"0.65rem\",\r\n              top: \"-1.35rem\",\r\n              width: \"0.45rem\",\r\n              height: \"0.45rem\",\r\n              borderRadius: \"50%\"\r\n            }}></div>\r\n          </Nav.Link>\r\n        </OverlayTrigger>\r\n        <NavDropdown title={<><FaUserCircle /><span className=\"d-none d-sm-inline ml-1\">1234567890</span></>} menuAlign=\"right\" id=\"collasible-nav-dropdown\">\r\n          <NavDropdown.Item href=\"#action/3.2\">Cuenta</NavDropdown.Item>\r\n          <NavDropdown.Item href=\"#action/3.3\">Configuracion</NavDropdown.Item>\r\n          <NavDropdown.Divider />\r\n          <NavDropdown.Item href=\"#\">Cerrar sesin</NavDropdown.Item>\r\n        </NavDropdown>\r\n      </Nav>\r\n    </Navbar>\r\n        {/* A <Switch> looks through its children <Route>s and\r\n            renders the first one that matches the current URL. */}\r\n        <Switch>\r\n          <Route path=\"/rrhh\">\r\n            <HrApp />\r\n          </Route>\r\n          <Route path=\"/consultorio\">\r\n            <MedicalApp />\r\n          </Route>\r\n        </Switch>\r\n  </Router>\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport Routes from \"./boostrap/components/App\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Routes />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}