{"version":3,"sources":["polyfills/String.js","features/organization/reducers/entities.ts","features/organization/reducers/forms/unitForm.ts","features/organization/reducers/forms/jobForm.ts","features/organization/reducers/ui.ts","features/organization/reducers/index.ts","features/employees/reducers/entities.ts","features/employees/reducers/ui.ts","features/employees/reducers/index.ts","features/payrolls/reducers/entities/deductions.ts","features/payrolls/reducers/entities/wages.ts","features/payrolls/reducers/entities/payrolls.ts","features/payrolls/reducers/entities/payrollEntries.ts","features/payrolls/reducers/entities/payrollTypes.ts","features/payrolls/reducers/entities/calculationMethods.ts","features/payrolls/reducers/entities/applicableDeductions.ts","features/payrolls/reducers/entities/index.ts","features/payrolls/reducers/ui/wageForm.ts","features/payrolls/reducers/ui/index.ts","features/payrolls/reducers/ui/selectedWageId.ts","features/payrolls/reducers/index.ts","features/auth/reducers/loginForm.ts","features/auth/reducers/index.ts","features/auth/reducers/user.ts","features/auth/reducers/loadUser.ts","features/auth/reducers/login.ts","features/iam/reducers/entities/index.ts","features/iam/reducers/entities/users.ts","features/iam/reducers/ui/index.ts","features/iam/reducers/ui/usersPagination.ts","features/iam/reducers/ui/usersFilter.ts","features/iam/reducers/requests/index.ts","features/iam/reducers/requests/loadUsers.ts","features/iam/reducers/index.ts","boostrap/reducers/index.ts","features/organization/actions/index.ts","store.ts","features/organization/selectors/inputs.ts","features/organization/selectors/getSelectedUnit.ts","features/organization/components/UnitDetails.tsx","features/organization/selectors/getSelectedJob.ts","features/organization/components/JobDetails.tsx","features/organization/selectors/getOrganizationalStructure.ts","features/organization/components/OrganizationalStructureTree.tsx","features/organization/components/UnitForm.tsx","features/organization/components/JobForm.tsx","features/organization/components/FormDialog.tsx","features/organization/components/Organization.tsx","features/employees/selectors/inputs.ts","features/employees/selectors/getEmployeeTableView.ts","features/employees/components/EmployeesList.tsx","features/employees/components/EmployeeForm.tsx","commons/components/Sidebar.tsx","commons/components/layouts/SidebarLayout.tsx","features/payrolls/components/Deductions.tsx","features/payrolls/components/Payrolls.tsx","features/payrolls/selectors/inputSelectors.ts","features/payrolls/components/WageDetails.tsx","features/payrolls/selectors/getSelectedWage.ts","features/payrolls/components/WagesList.tsx","features/payrolls/components/Wages.tsx","features/payrolls/components/WageForm.tsx","features/payrolls/components/PayrollRoutes.tsx","boostrap/components/HrApp.tsx","commons/components/LoadingInput.tsx","commons/components/PDFViewer.tsx","commons/hooks/index.ts","features/transfers/components/PacientFieldset.tsx","features/transfers/components/TransferForm.tsx","boostrap/components/MedicalApp.tsx","features/iam/selectors/inputSelectors.ts","commons/services/apiClient.ts","features/iam/services/index.ts","features/iam/components/UsersPagination.tsx","features/iam/components/UsersFilter.tsx","features/iam/components/UsersIndex.tsx","features/iam/components/RolesIndex.tsx","features/iam/components/RoleForm.tsx","features/iam/actions/index.ts","features/iam/components/PersonalInfoForm.tsx","features/iam/components/UserInfoForm.tsx","features/iam/components/UserRegistrationForm.tsx","boostrap/components/IamApp.tsx","features/auth/selectors/inputSelectors.ts","features/auth/components/Login.tsx","features/auth/components/ProtectedRoute.tsx","boostrap/components/App.tsx","index.tsx"],"names":["String","prototype","replaceAll","str","newStr","Object","toString","call","toLowerCase","this","replace","RegExp","initialUnits","id","name","parentId","description","initialJobs","unitId","isManager","combineReducers","units","state","action","type","payload","filter","u","sort","a","b","jobs","console","log","currentState","currentManager","find","j","initialState","fields","selectedNode","modal","show","unitForm","jobForm","organization","entities","ui","initialEmployees","dni","middlename","lastname","dateOfBirth","gender","nationality","afp","contract","startDate","jobId","salary","employees","initialEFState","dniComplement","dniIssuedAt","nacionality","contractType","employeeForm","employeeReducer","calculationMethodId","inForce","rates","minimum","maximum","formula","payrollTypeId","deductions","wages","wage","index","findIndex","w","splice","payrolls","payrollEntries","payrollTypes","calculationMethods","applicableDeductions","ad","wageId","applicableDeductionIds","info","selectedWageId","wageForm","payrollReducer","username","password","errors","message","AuthModuleReducer","user","active","external_id","error","loadUser","completed","login","loginForm","users","meta","records","usersPagination","total","current","size","usersFilter","loadUsers","failed","iamModuleReducer","requests","showSidebar","prepareUnitForm","prepareNewUnitForm","prepareJobForm","prepareNewJobForm","watchPrepareUnitForm","select","unit","put","target","job","all","takeEvery","composeWithDevTools","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","employee","iam","main","auth","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","mySaga","getUnits","getJobs","getSelectedNode","getModal","getSelectedUnit","createSelector","subunits","UnitDetails","useSelector","style","fontSize","Table","responsive","width","length","map","i","scope","className","colSpan","getSelectedJob","JobDetails","getOrganizationalStructureTreeData","_","treeData","toTreeData","key","title","icon","FaSitemap","children","FaBriefcase","isLeaf","FaBuilding","MENU_ID","OrganizationalStructureTree","dispatch","useDispatch","useContextMenu","hideIfRoot","useCallback","props","nodeId","switcherIcon","data","expanded","undefined","draggable","defaultExpandedKeys","multiple","onSelect","selectedKeys","split","onRightClick","e","event","node","hidden","label","arrow","onClick","UnitForm","Form","onSubmit","preventDefault","uuidv4","Group","controlId","Label","Control","value","onChange","as","JobForm","Check","checked","FormDialog","Modal","centered","onHide","Header","closeButton","Title","Body","Footer","Button","variant","form","Organization","minWidth","marginLeft","getEmployeeFormState","getEmployeeTableView","fullName","toFixed","EmployeesList","useRouteMatch","employeesTableView","path","url","EmployeeForm","unit_id","field","updateForm","Math","round","parseFloat","Row","Col","sm","md","xs","SidebarItem","item","to","padding","verticalAlign","items","subitem","paddingLeft","Sidebar","side","renderItem","left","right","SidebarLayout","sidebar","Container","overflow","ListGroup","defaultActiveKey","Item","href","getWages","getDeductions","getApplicableDeductions","getPayrollTypes","getCalculationMethods","getWageForm","WageDetails","selectedWage","payrollType","t","d","some","deductionId","getWageById","useMemo","calculationMethod","c","makeGetWageById","join","WagesList","history","useHistory","onContextMenu","stopPropagation","push","Tab","transition","Content","Pane","eventKey","WageForm","useParams","fieldsInfo","useEffect","goBack","location","parseInt","pt","cm","height","newSelection","exact","Payrolls","Wages","Deductions","HrApp","PayrollRoutes","LoadingInput","useState","count","setCount","placeholder","loading","timeout","setInterval","clearInterval","loadingPlaceholder","Array","PDFViewer","PDFObject","embed","fallbackLink","useFetch","callback","deps","setState","fetchRef","callbackRef","useRef","useCallbackRef","response","isArray","Promise","r","json","every","ok","request","catch","initial","carnet","nombre","fechaExt","estado","empresa","disabled","paciente","lastCarnet","fetch","baseUrl","stateOfGetPaciente","getPaciente","onChangeCarnet","toUpperCase","onBlurCarnet","fecha_ext","rest","isInvalid","onBlur","readOnly","Date","now","getTime","App","doctor","proveedor","servicios","formState","dialogVisible","showDialog","nota","servicioSolicitado","updateServiciosSolicitado","onChangeDoctor","doctores","onChangeProveedor","proveedores","random","method","headers","body","JSON","stringify","servicio","stateOfSubmit","submit","stateOfLoadInitData","loadData","proveedoresAdecuados","updateProveedoresAdecuados","serviciosDisponibles","updateServiciosDisponibles","nuevosProveedores","rs","ps","np","renderPdf","Alert","marginTop","marginBottom","PacientFieldset","v","selectedService","Spinner","animation","aria-labelledby","TransferForm","getUsers","getUsersPagination","getUsersFilter","apiClient","axios","create","defaults","withCredentials","interceptors","use","config","paramsSerializer","params","Qs","arrayFormat","encode","Users","page","get","code","useLocation","pathname","search","parsedSearch","parse","substr","pageItems","firstPage","max","lastPage","min","trunc","Pagination","Link","First","Prev","Next","Last","setFields","htmlFor","srOnly","usersFilterVisible","showUsersFilter","document","then","visible","UsersFilter","UsersPagination","watchRegisterUser","lg","activeKey","setActiveKey","setPersonId","Accordion","Card","Toggle","Collapse","PersonalInfoForm","onComplete","personId","UserInfoForm","IamApp","UsersIndex","UserRegistrationForm","RolesIndex","RoleForm","getUser","getLoginState","getLoginForm","getIsAuthenticated","Login","isAuthenticated","loginCompleted","from","post","status","localStorage","setItem","Text","ProtectedRoute","render","Navbar","bg","zIndex","display","Brand","Nav","OverlayTrigger","trigger","rootClose","placement","overlay","Popover","maxWidth","whiteSpace","top","borderRadius","NavDropdown","menuAlign","Divider","MedicalApp","ReactDOM","getElementById"],"mappings":";uMAMKA,OAAOC,UAAUC,aACrBF,OAAOC,UAAUC,WAAa,SAASC,EAAKC,GAG3C,MAA0D,oBAAtDC,OAAOJ,UAAUK,SAASC,KAAKJ,GAAKK,cAChCC,KAAKC,QAAQP,EAAKC,GAInBK,KAAKC,QAAQ,IAAIC,OAAOR,EAAK,KAAMC,M,4GCZtCQ,EAAe,CACnB,CACEC,GAAI,IACJC,KAAM,qBACNC,SAAU,KACVC,YAAa,icAEf,CACEH,GAAI,IACJC,KAAM,qBACNC,SAAU,KACVC,YAAa,icAEf,CACEH,GAAI,IACJC,KAAM,iBACNC,SAAU,KACVC,YAAa,icAEf,CACEH,GAAI,IACJC,KAAM,yBACNC,SAAU,IACVC,YAAa,kcAuBXC,EAAc,CAClB,CACEJ,GAAI,IACJC,KAAM,qBACNE,YAAa,gcACbE,OAAQ,IACRC,WAAW,GAEb,CACEN,GAAI,IACJC,KAAM,gBACNE,YAAa,gcACbE,OAAQ,IACRC,WAAW,GAEb,CACEN,GAAI,IACJC,KAAM,WACNE,YAAa,gcACbE,OAAQ,IACRC,WAAW,GAEb,CACEN,GAAI,IACJC,KAAM,uBACNE,YAAa,gcACbE,OAAQ,IACRC,WAAW,GAEb,CACEN,GAAI,IACJC,KAAM,kBACNE,YAAa,gcACbE,OAAQ,IACRC,WAAW,IAmCAC,cAAgB,CAC7BC,MA1FmB,WAAsD,IAArDC,EAAoD,uDAApCV,EAAcW,EAAsB,uCACxE,MAAkB,YAAfA,EAAOC,KACF,GAAN,mBACKF,GADL,CAEEC,EAAOE,UAGY,aAAfF,EAAOC,KACN,sBACFF,EAAMI,QAAO,SAAAC,GAAC,OAAEA,EAAEd,IAAMU,EAAOE,QAAQZ,OADrC,CAELU,EAAOE,UACPG,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEhB,GAAKiB,EAAEjB,GAAK,EAAIgB,EAAEhB,GAAKiB,EAAEjB,IAAM,EAAI,KAEjC,eAAfU,EAAOC,KACNF,EAAMI,QAAO,SAAAC,GAAC,OAAEA,EAAEd,IAAMU,EAAOE,WAEjCH,GA2EPS,KAlCkB,WAAqD,IAApDT,EAAmD,uDAApCL,EAAaM,EAAuB,uCACtE,GAAkB,WAAfA,EAAOC,KAAkB,CAC1BQ,QAAQC,IAAIV,GACZ,IAAIW,EAAeZ,EACnB,GAAGC,EAAOE,QAAQN,UAAU,CAC1B,IAAMgB,EAAiBD,EAAaE,MAAK,SAAAC,GAAC,OAAEA,EAAElB,WAAakB,EAAEnB,QAAUK,EAAOE,QAAQP,UACtF,GAAGiB,EAED,OADAD,EAAeA,EAAaR,QAAO,SAAAW,GAAC,OAAEA,EAAExB,IAAMsB,EAAetB,MACvD,GAAN,mBACKqB,GADL,4BAEMC,GAFN,IAEsBhB,WAAW,IAC/BI,EAAOE,UAIb,MAAM,GAAN,mBACKH,GADL,CAEEC,EAAOE,UAGN,MAAkB,YAAfF,EAAOC,KACN,sBACFF,EAAMI,QAAO,SAAAC,GAAC,OAAEA,EAAEd,IAAMU,EAAOE,QAAQZ,OADrC,CAELU,EAAOE,UACPG,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEhB,GAAKiB,EAAEjB,GAAK,EAAIgB,EAAEhB,GAAKiB,EAAEjB,IAAM,EAAI,KAEjC,cAAfU,EAAOC,KACNF,EAAMI,QAAO,SAAAC,GAAC,OAAEA,EAAEd,IAAMU,EAAOE,WAEjCH,KC1GHgB,EAAyB,CAC7BC,OAAQ,CACN1B,GAAI,KACJC,KAAM,GACNE,YAAa,GACbD,SAAU,OCJd,IAAMuB,EAAwB,CAC5BC,OAAQ,CACN1B,GAAI,KACJC,KAAM,GACNE,YAAa,GACbG,WAAW,EACXD,OAAQ,OCQGE,kBAAgB,CAC7BoB,aArBK,WAA+C,IAAzBlB,EAAwB,uDAAlB,KAAMC,EAAY,uCACnD,MAAkB,wBAAfA,EAAOC,MACRQ,QAAQC,IAAIV,EAAOE,SACZF,EAAOE,SAETH,GAiBPmB,MATK,WAA6D,IAA9CnB,EAA6C,uDAAvC,CAACoB,MAAM,GAAQnB,EAAwB,uCACjE,MAAkB,cAAfA,EAAOC,KACDD,EAAOE,QAETH,GAMPqB,SFTK,WAA8D,IAA5CrB,EAA2C,uDAArCgB,EAAcf,EAAuB,uCAClE,MAAkB,oBAAfA,EAAOC,KACD,2BACFF,GACAC,EAAOE,SAGPH,GEGPsB,QDRK,WAA4D,IAA3CtB,EAA0C,uDAApCgB,EAAcf,EAAsB,uCAChE,MAAkB,mBAAfA,EAAOC,KACD,2BACFF,GACAC,EAAOE,SAGI,kBAAfF,EAAOC,KACD,2BACFc,GACAf,EAAOE,SAGPH,KEtBMuB,EAPazB,YAAgB,CAC1C0B,WACAC,OCHIC,EAA+B,CACnC,CACEnC,GAAI,IACJoC,IAAK,cACLnC,KAAM,UACNoC,WAAY,YACZC,SAAU,WACVC,YAAa,aACbC,OAAQ,YACRC,YAAa,YACbC,IAAK,SACLC,SAAU,CACRhC,KAAM,mBACNiC,UAAW,aACXC,MAAO,IACPC,OAAQ,MAGZ,CACE9C,GAAI,IACJoC,IAAK,cACLnC,KAAM,SACNoC,WAAY,GACZC,SAAU,iBACVC,YAAa,aACbC,OAAQ,YACRC,YAAa,aACbC,IAAK,GACLC,SAAU,CACRhC,KAAM,mBACNiC,UAAW,aACXC,MAAO,IACPC,OAAQ,OAcCvC,kBAAgB,CAC7BwC,UAXK,WAAoE,IAAjDtC,EAAgD,uDAA9B0B,EAAkBzB,EAAY,uCACxE,MAAkB,gBAAfA,EAAOC,KACF,GAAN,mBACKF,GADL,CAEEC,EAAOE,UAGJH,KCvBHuC,EAAoC,CACxCtB,OAAQ,CACNU,IAAK,GACLa,cAAe,GACfC,YAAa,GACbjD,KAAM,GACNoC,WAAY,GACZC,SAAU,GACVE,OAAQ,YACRD,YAAa,GACbY,YAAa,YAEbC,aAAc,mBACdR,UAAW,GACXE,OAAQ,GACRzC,OAAQ,GACRwC,MAAO,GAEPH,IAAK,KAgBMnC,kBAAgB,CAC7B8C,aAdF,WAAiG,IAA3E5C,EAA0E,uDAA/CuC,EAAgBtC,EAA+B,uCAC9F,MAAkB,wBAAfA,EAAOC,KACD,2BACFF,GACAC,EAAOE,SAGI,sBAAfF,EAAOC,KACDqC,EAEFvC,KC1CM6C,EAPgB/C,YAAgB,CAC7C0B,WACAC,OCLIT,EAA4B,CAChC,CACEzB,GAAI,EACJC,KAAM,sCACNE,YAAa,GACboD,oBAAqB,EACrBC,SAAS,EACTC,MAAO,CACL,CACEC,QAAS,IACTC,QAAS,GACTC,QAAS,4BAIf,CACE5D,GAAI,EACJC,KAAM,6BACNE,YAAa,GACboD,oBAAqB,EACrBC,SAAS,EACTC,MAAO,CACL,CACEC,QAAS,IACTC,QAAS,GACTC,QAAS,4BAIf,CACE5D,GAAI,EACJC,KAAM,0BACNE,YAAa,GACboD,oBAAqB,EACrBC,SAAS,EACTC,MAAO,IAET,CACEzD,GAAI,EACJC,KAAM,qBACNE,YAAa,GACboD,oBAAqB,EACrBC,SAAS,EACTC,MAAO,CACL,CACEC,QAAS,IACTC,QAAS,GACTC,QAAS,6BAIf,CACE5D,GAAI,EACJC,KAAM,uBACNE,YAAa,GACboD,oBAAqB,EACrBC,SAAS,EACTC,MAAO,CACL,CACEC,QAAS,IACTC,QAAS,GACTC,QAAS,+BAIf,CACE5D,GAAI,EACJC,KAAM,4BACNE,YAAa,GACboD,oBAAqB,EACrBC,SAAS,EACTC,MAAO,CACL,CACEC,QAAS,QACTC,QAAS,GACTC,QAAS,2BAEX,CACEF,QAAS,QACTC,QAAS,GACTC,QAAS,2BAEX,CACEF,QAAS,QACTC,QAAS,GACTC,QAAS,6BCrFXnC,EAAuB,CAC3B,CACEzB,GAAI,EACJC,KAAM,4BACNE,YAAa,yCACbqD,SAAS,EACTD,oBAAqB,EACrBK,QAAS,aACTC,cAAe,GAEjB,CACE7D,GAAI,EACJC,KAAM,4BACNE,YAAa,yCACbqD,SAAS,EACTD,oBAAqB,EACrBK,QAAS,aACTC,cAAe,GAEjB,CACE7D,GAAI,EACJC,KAAM,6BACNE,YAAa,0CACbqD,SAAS,EACTD,oBAAqB,EACrBK,QAAS,aACTC,cAAe,GAEjB,CACE7D,GAAI,EACJC,KAAM,8BACNE,YAAa,2CACbqD,SAAS,EACTD,oBAAqB,EACrBK,QAAS,aACTC,cAAe,GAEjB,CACE7D,GAAI,EACJC,KAAM,8BACNE,YAAa,2CACbqD,SAAS,EACTD,oBAAqB,EACrBK,QAAS,aACTC,cAAe,GAEjB,CACE7D,GAAI,EACJC,KAAM,8BACNE,YAAa,2CACbqD,SAAS,EACTD,oBAAqB,EACrBK,QAAS,aACTC,cAAe,GAEjB,CACE7D,GAAI,EACJC,KAAM,4BACNE,YAAa,4CACbqD,SAAS,EACTD,oBAAqB,EACrBK,QAAS,aACTC,cAAe,IC9DbpC,EAA0B,GCA1BA,EAA+B,GCA/BA,EAA8B,CAClC,CACEzB,GAAI,EACJC,KAAM,sBACNE,YAAa,uBAEf,CACEH,GAAI,EACJC,KAAM,wBACNE,YAAa,0BAEf,CACEH,GAAI,EACJC,KAAM,0BACNE,YAAa,6BCdXsB,EAAoC,CACxC,CACEzB,GAAI,EACJC,KAAM,aACNE,YAAa,8BAOf,CACEH,GAAI,EACJC,KAAM,SACNE,YAAa,mCAEf,CACEH,GAAI,EACJC,KAAM,UACNE,YAAa,0BAEf,CACEH,GAAI,EACJC,KAAM,0BACNE,YAAa,uCCxBXsB,EAAsC,GCO7BlB,cAAgB,CAC7BuD,WPmFa,WAA8D,IAA7DrD,EAA4D,uDAAzCgB,EAAcf,EAA2B,uCAC1E,MAAkB,sBAAfA,EAAOC,KACF,GAAN,mBACKF,GADL,CAEEC,EAAOE,UAGJH,GOzFPsD,MNyDa,WAAoD,IAAnDtD,EAAkD,uDAApCgB,EAAcf,EAAsB,uCAChE,GAAkB,iBAAfA,EAAOC,KACR,MAAM,GAAN,mBACKF,GADL,CAEEC,EAAOE,QAAQoD,OAGnB,GAAkB,kBAAftD,EAAOC,KAAyB,CACjC,IAAMsD,EAAQxD,EAAMyD,WAAU,SAAAC,GAAC,OAAEA,EAAEnE,IAAMU,EAAOE,QAAQoD,KAAKhE,MAE7D,OADAS,EAAM2D,OAAOH,EAAO,EAAGvD,EAAOE,QAAQoD,MAC/B,YACFvD,GAGP,MAAkB,oBAAfC,EAAOC,KACDF,EAAMI,QAAO,SAAAsD,GAAC,OAAEA,EAAEnE,IAAMU,EAAOE,WAEjCH,GMzEP4D,SLoFa,WAA0D,IAAzD5D,EAAwD,uDAAvCgB,EAAcf,EAAyB,uCACtE,MAAkB,eAAfA,EAAOC,KACF,GAAN,mBACKF,GADL,CAEEC,EAAOE,UAGJH,GK1FP6D,eJTa,WAAoE,IAAnE7D,EAAkE,uDAA5CgB,EAAcf,EAA8B,uCAChF,MAAkB,qBAAfA,EAAOC,KACF,GAAN,mBACKF,GADL,CAEEC,EAAOE,UAGJH,GIGP8D,aHMa,WAAkE,IAAjE9D,EAAgE,uDAA3CgB,EAAcf,EAA6B,uCAC9E,MAAkB,oBAAfA,EAAOC,KACF,GAAN,mBACKF,GADL,CAEEC,EAAOE,UAGJH,GGZP+D,mBFgBa,WAA8E,IAA7E/D,EAA4E,uDAAjDgB,EAAcf,EAAmC,uCAC1F,MAAkB,0BAAfA,EAAOC,KACF,GAAN,mBACKF,GADL,CAEEC,EAAOE,UAGJH,GEtBPgE,qBDZa,WAAkF,IAAjFhE,EAAgF,uDAAnDgB,EAAcf,EAAqC,uCAC9F,GAAkB,iBAAfA,EAAOC,KAAwB,CAAC,IAAD,EACKD,EAAOE,QAArC6D,EADyB,EACzBA,qBADyB,EACHT,KAC7B,MAAM,GAAN,mBACKvD,GADL,YAEKgE,IAGP,GAAkB,kBAAf/D,EAAOC,KAAyB,CAAC,IAAD,EACID,EAAOE,QAArC6D,EAD0B,EAC1BA,qBAAsBT,EADI,EACJA,KAC7B,MAAM,GAAN,mBACKvD,EAAMI,QAAO,SAAA6D,GAAE,OAAIA,EAAGC,QAAUX,EAAKhE,OAD1C,YAEKyE,IAGP,OAAOhE,KEGHgB,EAA8B,CAClCC,OAAQ,CACNzB,KAAM,GACNE,YAAa,GACb0D,cAAe,GACfL,SAAS,EACTD,oBAAqB,GACrBK,QAAS,GACTgB,uBAAwB,IAE1BC,KAAM,CACJ5E,KAAM,GACNE,YAAa,GACb0D,cAAe,GACfL,QAAS,GACTD,oBAAqB,GACrBK,QAAS,GACTgB,uBAAwB,KCnCbrE,cAAgB,CAC7BuE,eCLa,WAA4C,IAA3CrE,EAA0C,wDAA3B,EAAGC,EAAwB,uCACxD,MAAgB,2BAAbA,EAAOC,KACDD,EAAOE,QAETH,GDEPsE,SDoCa,WAAoE,IAAnEtE,EAAkE,uDAA7CgB,EAAcf,EAA+B,uCAChF,MAAgB,oBAAbA,EAAOC,KACD,2BACFF,GACAC,EAAOE,SAGE,mBAAbF,EAAOC,KACDc,EAEFhB,KGtCMuE,EATezE,YAAgB,CAC5C0B,WACAC,OCLIT,EAA0B,CAC9BC,OAAQ,CACNuD,SAAU,GACVC,SAAU,IAEZC,OAAQ,CACNF,SAAU,GACVC,SAAU,IAEZE,QAAS,ICIIC,EATkB9E,YAAgB,CAC/C+E,KCLa,WAKgB,IALf7E,EAKc,uDALG,CAC/BwE,SAAU,OACVM,QAAQ,EACRvF,GAAI,EACJwF,YAAa,GACZ9E,EAA2B,uCACrBC,EAAwBD,EAAxBC,KAAMC,EAAkBF,EAAlBE,QAAS6E,EAAS/E,EAAT+E,MACtB,OAAO9E,GACL,IAAK,WACL,IAAK,kBACL,IAAK,sBACH,OAAO8E,EAAQhF,EAAQG,EACzB,QACE,OAAOH,IDPXiF,SERa,WAAkD,IAAjDjF,EAAgD,uDAAlB,GAAIC,EAAc,uCAC9CC,GAAQD,EAAjBE,QAAiBF,EAARC,MAChB,OAAOA,GACL,IAAK,YACH,MAAO,CAACgF,WAAW,GACrB,IAAK,sBACH,MAAO,CAACA,WAAW,GAEvB,OAAOlF,GFCPmF,MGLa,WAA0C,IAAzCnF,EAAwC,uDAAlB,GAAIC,EAAc,uCAC/CC,EAAiBD,EAAjBC,KAAiBD,EAAXE,QACb,OAAOD,GACL,IAAK,QACH,MAAO,CACLgF,WAAW,GAEf,IAAK,kBACH,MAAO,CACLA,WAAW,GAGjB,OAAOlF,GHNPoF,UDGa,WAA+D,IAA9DpF,EAA6D,uDAA1CgB,EAAcf,EAA4B,uCAC3E,GAAkB,qBAAfA,EAAOC,KACR,OAAO,2BACFF,GACAC,EAAOE,SAGd,GAAkB,SAAfF,EAAOC,KACR,OAAO,2BACFF,GADL,IAEE2E,QAAS,GACTD,OAAQ1D,EAAa0D,SAGzB,GAAkB,mBAAfzE,EAAOC,MAA6BD,EAAO+E,MAAM,CAAC,IAAD,EACxB/E,EAAOE,QAA1BwE,EAD2C,EAC3CA,QAASD,EADkC,EAClCA,OAChB,OAAO,2BACF1E,GADL,IAEE2E,UACAD,OAAQA,GAAU1D,EAAa0D,SAGnC,MAAkB,mBAAfzE,EAAOC,KACDc,EAEFhB,KKnCMF,cAAgB,CAC7BuF,MCFa,WAA4C,IAA3CrF,EAA0C,uDAA5B,GAAIC,EAAwB,uCACjDC,EAA8BD,EAA9BC,KAAMC,EAAwBF,EAAxBE,QAAS6E,EAAe/E,EAAf+E,MAAe/E,EAARqF,KAC7B,OAAOpF,GACL,IAAK,uBACH,OAAO8E,EAAQhF,EAAQG,EAAQoF,QAEnC,OAAOvF,KCJMF,cAAgB,CAC7B0F,gBCLa,WAYT,IAZUxF,EAYX,uDARH,CACAyF,MAAO,EACPC,QAAS,EACTC,KAAM,IACL1F,EAIE,uCACIC,EAA8BD,EAA9BC,KAAMC,EAAwBF,EAAxBE,QAAwBF,EAAf+E,MAAe/E,EAARqF,KAC7B,OAAOpF,GACL,IAAK,0BACH,OAAO,2BACFF,GACAG,GAEP,IAAK,uBACH,OAAOA,EAAQmF,KAEnB,OAAOtF,GDjBP4F,YENa,WAQT,IARU5F,EAQX,uDAJH,GAAIC,EAID,uCACIC,EAA8BD,EAA9BC,KAAMC,EAAwBF,EAAxBE,QAAwBF,EAAf+E,MAAe/E,EAARqF,KAC7B,OAAOpF,GACL,IAAK,sBACH,OAAOC,EAEX,OAAOH,KCXMF,cAAgB,CAC7B+F,UCJa,WAGW,IAHV7F,EAGS,uDAApB,GAAIC,EAAgB,uCAChBC,EAA8BD,EAA9BC,KAAe8E,GAAe/E,EAAxBE,QAAwBF,EAAf+E,OAAe/E,EAARqF,KAC7B,OAAOpF,GACL,IAAK,aACH,MAAO,CACLgF,WAAW,GAEf,IAAK,uBACH,MAAO,CACLA,WAAW,EACXY,OAAQd,GAEZ,QACE,OAAOhF,MCDE+F,EAViBjG,YAAgB,CAC9C0B,WACAC,KACAuE,aCCalG,kBAAgB,CAC7BmG,YARK,WAA8C,IAAzBjG,IAAwB,yDAAZC,EAAY,uCAClD,MAAkB,kBAAfA,EAAOC,MACAF,EAEHA,K,oCCJCkG,G,WAqBAC,G,WAqBAC,G,WAsBAC,G,WAuBeC,GAvFzB,SAAUJ,EAAgBjG,GAA1B,uEACe,OADf,SACqBsG,aAAO,SAACvG,GAAD,OAASA,EAAMuB,aAAaC,SAASzB,MAAMe,MAAK,SAACT,GAAD,OAAUA,EAAEd,IAAMU,EAAOE,QAAQZ,SAD7G,OAEE,OADMiH,EADR,gBAEQC,YAAI,CAACvG,KAAM,mBAAoBC,QAAS,CAC5Cc,OAAQ,CACN1B,GAAIiH,EAAKjH,GACTC,KAAMgH,EAAKhH,KACXE,YAAa8G,EAAK9G,YAClBD,SAAU+G,EAAK/G,aAPrB,OAWE,OAXF,SAWQgH,YAAI,CACRvG,KAAM,aACNC,QAAS,CACPiB,MAAM,EACNsF,OAAQ,OACRnH,GAAI,QAhBV,uCAqBA,SAAU4G,EAAmBlG,GAA7B,iEAEE,OAFF,SAEQwG,YAAI,CAACvG,KAAM,mBAAoBC,QAAS,CAC5Cc,OAAQ,CACN1B,GAAI,KACJC,KAAM,GACNE,YAAa,GACbD,SAAUQ,EAAOE,QAAQV,aAP/B,OAWE,OAXF,SAWQgH,YAAI,CACRvG,KAAM,aACNC,QAAS,CACPiB,MAAM,EACNsF,OAAQ,OACRnH,GAAI,QAhBV,uCAqBA,SAAU6G,EAAenG,GAAzB,uEACc,OADd,SACoBsG,aAAO,SAACvG,GAAD,OAASA,EAAMuB,aAAaC,SAASf,KAAKK,MAAK,SAACT,GAAD,OAAUA,EAAEd,IAAMU,EAAOE,QAAQZ,SAD3G,OAEE,OADMoH,EADR,gBAEQF,YAAI,CAACvG,KAAM,kBAAmBC,QAAS,CAC3Cc,OAAQ,CACN1B,GAAIoH,EAAIpH,GACRC,KAAMmH,EAAInH,KACVE,YAAaiH,EAAIjH,YACjBG,UAAW8G,EAAI9G,UACfD,OAAQ+G,EAAI/G,WARlB,OAYE,OAZF,SAYQ6G,YAAI,CACRvG,KAAM,aACNC,QAAS,CACPiB,MAAM,EACNsF,OAAQ,MACRnH,GAAI,QAjBV,uCAsBA,SAAU8G,EAAkBpG,GAA5B,iEAEE,OAFF,SAEQwG,YAAI,CAACvG,KAAM,kBAAmBC,QAAS,CAC3Cc,OAAQ,CACN1B,GAAI,KACJC,KAAM,GACNE,YAAa,GACbG,WAAW,EACXD,OAAQK,EAAOE,QAAQP,WAR7B,OAYE,OAZF,SAYQ6G,YAAI,CACRvG,KAAM,aACNC,QAAS,CACPiB,MAAM,EACNsF,OAAQ,MACRnH,GAAI,QAjBV,uCAuBe,SAAU+G,IAAV,iEACb,OADa,SACPM,YAAI,CACRC,YAAU,oBAAqBX,GAC/BW,YAAU,wBAAyBV,GACnCU,YAAU,mBAAoBT,GAC9BS,YAAU,uBAAwBR,KALvB,uCC7Ef,IAAMS,GAAsBC,OAAOC,sCAAwCC,IAErEC,GAAcpH,YAAgB,CAClCyB,eACA4F,WACAvD,WACAwD,MACAC,OACAC,SAIIC,GAAiBC,cAEjBC,GAAQC,YACZR,GACAJ,GACEa,YAAgBJ,MAKpBA,GAAeK,IAAIC,GAGJJ,U,yJCnCFK,GAAW,SAAC,GAAD,SAAEvG,aAAeC,SAAgDzB,OAC5EgI,GAAU,SAAC,GAAD,SAAExG,aAAeC,SAAgDf,MAE3EuH,GAAkB,SAAC,GAAD,SAAEzG,aAAeE,GAAoCP,cACvE+G,GAAW,SAAC,GAAD,SAAE1G,aAAeE,GAAoCN,OCHhE+G,GAAkBC,aAC7BL,GACAC,GACAC,IACA,SAACjI,EAAOU,EAAMS,GACZ,GAAGA,GAAqC,QAArBA,EAAahB,KAAe,CAC7C,IAAMsG,EAAOzG,EAAMe,MAAK,SAAAT,GAAC,OAAEA,EAAEd,IAAM2B,EAAa3B,MAChD,MAAO,CACLA,GAAE,OAAEiH,QAAF,IAAEA,OAAF,EAAEA,EAAMjH,GACVC,KAAI,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAMhH,KACZE,YAAW,OAAE8G,QAAF,IAAEA,OAAF,EAAEA,EAAM9G,YACnB0I,SAAUrI,EAAMK,QAAO,SAAAC,GAAC,OAAEA,EAAEZ,WAAF,OAAc+G,QAAd,IAAcA,OAAd,EAAcA,EAAMjH,OAC9CkB,KAAMA,EAAKL,QAAO,SAAAC,GAAC,OAAEA,EAAET,SAAF,OAAY4G,QAAZ,IAAYA,OAAZ,EAAYA,EAAMjH,QAIzC,OAAO,Q,QCdA8I,GAAc,WACzB,IAAM7B,EAAO8B,YAAYJ,IAiDzB,OAhDAxH,QAAQC,IAAI6F,GAgDLA,EAAO,iCACZ,qBAAI+B,MAAO,CAACC,SAAU,WAAtB,SAAmChC,EAAKhH,OACxC,6BAAIgH,EAAK9G,cAhDF,uCACL,qBAAI6I,MAAO,CAACC,SAAU,UAAtB,0BACA,gBAACC,GAAA,EAAD,CAAOC,YAAU,EAAjB,UACE,iCACE,gCACE,qBAAIH,MAAO,CAACI,MAAM,GAAlB,eACA,8CAIJ,iCACGnC,EAAM4B,SAASQ,OAASpC,EAAM4B,SAASS,KAAI,SAACxI,EAAGyI,GAAJ,OAC1C,gCACE,qBAAIC,MAAM,MAAV,SAAiBD,EAAE,IACnB,8BAAKzI,EAAEb,aAGN,8BAAI,qBAAIwJ,UAAU,uBAAuBC,QAAS,EAA9C,wDAOR,uCACL,qBAAIV,MAAO,CAACC,SAAU,UAAtB,oBACA,gBAACC,GAAA,EAAD,CAAOC,YAAU,EAAjB,UACE,iCACE,gCACE,qBAAIH,MAAO,CAACI,MAAM,GAAlB,eACA,8CAGJ,iCACGnC,EAAM/F,KAAKmI,OAASpC,EAAM/F,KAAKoI,KAAI,SAAClC,EAAKmC,GAAN,OAClC,gCACE,qBAAIC,MAAM,MAAV,SAAiBD,EAAE,IACnB,wCAAQnC,EAAInH,KAAZ,YAAoBmH,EAAI9G,UAAY,kBAAoB,YAGvD,8BAAI,qBAAImJ,UAAU,uBAAuBC,QAAS,EAA9C,iEAWR,MCzDEC,GAAiBf,aAC5BJ,GACAC,IACA,SAACvH,EAAMS,GACL,GAAGA,GAAqC,OAArBA,EAAahB,KAAc,CAC5C,IAAMsG,EAAO/F,EAAKK,MAAK,SAAAT,GAAC,OAAEA,EAAEd,IAAM2B,EAAa3B,MAC/C,MAAO,CACLA,GAAE,OAAEiH,QAAF,IAAEA,OAAF,EAAEA,EAAMjH,GACVC,KAAI,OAAEgH,QAAF,IAAEA,OAAF,EAAEA,EAAMhH,KACZE,YAAW,OAAE8G,QAAF,IAAEA,OAAF,EAAEA,EAAM9G,YACnBG,UAAS,OAAE2G,QAAF,IAAEA,OAAF,EAAEA,EAAM3G,WAInB,OAAO,QCZAsJ,GAAa,WACxB,IAAMxC,EAAM2B,YAAYY,IAGxB,OAFAxI,QAAQC,IAAIgG,GAELA,EAAM,iCACX,qBAAI4B,MAAO,CAACC,SAAU,WAAtB,SAAmC7B,EAAInH,OACvC,6BAAImH,EAAIjH,cACR,uDAAyBiH,EAAI9G,UAAY,QAAO,WACzC,M,mBCNEiI,GAAW,SAAC,GAAD,SAAEvG,aAAeC,SAAgDzB,OAe5EqJ,IAZcjB,aACzBL,IACA,SAACuB,EAAUzJ,GAAX,OAA8BA,KAC9B,SAACG,EAAOH,GACN,OAAOG,EAAMK,QAAO,SAAAC,GAAC,OAAEA,EAAEZ,UAAYG,QAQSuI,aAChDL,IAfqB,SAAC,GAAD,SAAEvG,aAAeC,SAAgDf,QAiBtF,SAACV,EAAeU,GAuBd,IAAM6I,EAtBN,SAASC,EAAW9J,GAClB,OAAOM,EAAMK,QAAO,SAAAC,GAAC,OAAIA,EAAEZ,UAAYA,KAAUoJ,KAAI,SAACxI,GACpD,MAAO,CACLmJ,IAAI,QAAD,OAAUnJ,EAAEd,IACfkK,MAAOpJ,EAAEb,KACTkK,KAAMC,KAENC,SAAS,GAAD,mBACHL,EAAWlJ,EAAEd,KADV,YAEHkB,EAAKL,QAAO,SAAAW,GAAC,OAAEA,EAAEnB,QAAUS,EAAEd,MAAIsJ,KAAI,SAAC9H,GACvC,MAAO,CACLyI,IAAI,OAAD,OAASzI,EAAExB,IACdkK,MAAO1I,EAAEvB,KACTkK,KAAMG,KACNC,QAAQ,YAQHP,CAAW,MAE5B,OADA7I,QAAQC,IAAI,WAAY2I,GACjB,CACL,CACEE,IAAK,OACLC,MAAO,kCACPC,KAAMK,KACNH,SAAUN,Q,2BC5CZU,I,OAAU,gBAEHC,GAA8B,WACzC,IAAMC,EAAWC,cACT/I,EAASgJ,aAAe,CAC9B7K,GAAIyK,KADE5I,KAKFkI,EAAWhB,YAAYc,IACvBiB,EAAaC,uBAA+D,kBAA2B,QAA3B,EAAEC,MAAeC,SAAkB,IAErH,OAAO,uCACL,eAAC,KAAD,CAAMxB,UAAU,mCACdyB,aAAc,SAACF,GAAD,aAAU,UAAAA,EAAMG,YAAN,eAAYd,UAAYW,EAAMI,SAAW,eAAC,KAAD,IAAgB,eAAC,KAAD,SAAmBC,GACpGC,WAAS,EACTvB,SAAUA,EACVwB,oBAAqB,CAAC,QACtBC,UAAU,EACVC,SAAU,SAACC,GACT,GAAGA,EAAarC,OAAO,CAAC,IAAD,EACDqC,EAAa,GAAcC,MAAM,KADhC,oBACdhL,EADc,KACRX,EADQ,KAErB2K,EAAS,CACPhK,KAAM,uBACNC,QAAS,CAAEZ,KAAIW,eAIjBgK,EAAS,CACPhK,KAAM,uBACNC,QAAS,QAIfgL,aAAc,SAACC,GACbhK,EAAKgK,EAAEC,MAAO,CACZd,MAAO,CACLC,OAAQY,EAAEE,KAAK9B,IACfM,OAAQsB,EAAEE,KAAKxB,aAKvB,gBAAC,KAAD,CAAMvK,GAAIyK,GAAV,UACE,gBAAC,KAAD,CAASuB,OAAQ,YACf,OAD0B,EAAThB,MACJT,QACZ0B,MAAM,QAAQC,MAAO,eAAC,KAAD,IAFxB,UAGE,eAAC,KAAD,CAAMC,QAAS,YAAkB,IAARnB,EAAO,EAAPA,MAAO,EACO,QAAhBA,EAAMC,OAAmB,CAAC,KAAM,MAAQD,EAAMC,OAAOU,MAAM,KADlD,oBACf3L,GADe,WAE9B2K,EAAS,CACPhK,KAAM,wBACNC,QAAS,CACPV,SAAUF,MALhB,oBAWA,eAAC,KAAD,CAAMmM,QAAS,YAAkB,IAARnB,EAAO,EAAPA,MAAO,EACO,QAAhBA,EAAMC,OAAmB,CAAC,KAAM,MAAQD,EAAMC,OAAOU,MAAM,KADlD,oBACf3L,GADe,WAE9B2K,EAAS,CACPhK,KAAM,uBACNC,QAAS,CACPP,OAAQL,MALd,sBAUF,eAAC,KAAD,CAAMgM,OAAQlB,EAAYqB,QAAS,YAAkB,IAAD,IAAPnB,MACdC,OAAOU,MAAM,KADQ,oBACzCxE,EADyC,KACjCnH,EADiC,KAEhD2K,EAAS,CACPhK,KAAgB,QAAVwG,EAAmB,oBAAsB,mBAC/CvG,QAAS,CACPZ,SALR,oBAWA,eAAC,KAAD,CAAMgM,OAAQlB,EAAYqB,QAAS,YAAkB,IAAD,IAAPnB,MAChBC,OAAOU,MAAM,KADU,oBAC3CxE,EAD2C,KACnCnH,EADmC,KAGhD2K,EAAS,CACPhK,KAAgB,QAAVwG,EAAmB,cAAgB,aACzCvG,QAASZ,KALf,6B,8BCdSoM,GAtES,WACtB,IAAMzB,EAAWC,cACVlJ,EAAUqH,aAAY,SAACtI,GAAD,OAAgCA,EAAMuB,aAAaE,GAAGJ,YAA5EJ,OAEP,OAAO,gBAAC2K,GAAA,EAAD,CAAMrM,GAAG,YAAYsM,SAAU,SAACT,GACrCA,EAAEU,iBACC7K,EAAO1B,GACR2K,EAAS,CACPhK,KAAM,YACNC,QAAS,CACPZ,GAAI0B,EAAO1B,GACXC,KAAMyB,EAAOzB,KACbE,YAAauB,EAAOvB,YACpBD,SAAUwB,EAAOxB,YAKrByK,EAAS,CACPhK,KAAM,WACNC,QAAS,CACPZ,GAAIwM,eAASnN,WAAW,IAAK,IAC7BY,KAAMyB,EAAOzB,KACbE,YAAauB,EAAOvB,YACpBD,SAAUwB,EAAOxB,YAKvByK,EAAS,CACPhK,KAAM,aACNC,QAAS,CACPiB,MAAM,MA5BL,UAgCL,gBAACwK,GAAA,EAAKI,MAAN,CAAYC,UAAU,SAAtB,UACE,eAACL,GAAA,EAAKM,MAAN,qBACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOzB,KAAM6M,SAAU,SAACjB,GACvD,IAAMgB,EAAQhB,EAAE1E,OAAO0F,MACvBlC,EAAS,CACPhK,KAAM,mBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,IAEJzB,KAAM4M,aAMhB,gBAACR,GAAA,EAAKI,MAAN,CAAYC,UAAU,SAAtB,UACE,eAACL,GAAA,EAAKM,MAAN,6BACA,eAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,WAAWF,MAAOnL,EAAOvB,YAAc2M,SAAU,SAACjB,GACjE,IAAMgB,EAAQhB,EAAE1E,OAAO0F,MACvBlC,EAAS,CACPhK,KAAM,mBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,IAEJvB,YAAa0M,iBCyBZG,GArFQ,WACrB,IAAMrC,EAAWC,cACVlJ,EAAUqH,aAAY,SAACtI,GAAD,OAAgCA,EAAMuB,aAAaE,GAAGH,WAA5EL,OAEP,OADAP,QAAQC,IAAI,SAAUM,GACf,gBAAC2K,GAAA,EAAD,CAAMrM,GAAG,WAAWsM,SAAU,SAACT,GACpCA,EAAEU,iBACC7K,EAAO1B,GACR2K,EAAS,CACPhK,KAAM,WACNC,QAAS,CACPZ,GAAI0B,EAAO1B,GACXC,KAAMyB,EAAOzB,KACbK,UAAWoB,EAAOpB,UAClBH,YAAauB,EAAOvB,YACpBE,OAAQqB,EAAOrB,UAKnBsK,EAAS,CACPhK,KAAM,UACNC,QAAS,CACPZ,GAAIwM,eAASnN,WAAW,IAAK,IAC7BY,KAAMyB,EAAOzB,KACbK,UAAWoB,EAAOpB,UAClBH,YAAauB,EAAOvB,YACpBE,OAAQqB,EAAOrB,UAKrBsK,EAAS,CACPhK,KAAM,aACNC,QAAS,CACPiB,MAAM,MA9BL,UAkCL,gBAACwK,GAAA,EAAKI,MAAN,CAAYC,UAAU,OAAtB,UACE,eAACL,GAAA,EAAKM,MAAN,qBACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOzB,KAAM6M,SAAU,SAACjB,GACvD,IAAMgB,EAAQhB,EAAE1E,OAAO0F,MACvBlC,EAAS,CACPhK,KAAM,kBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,IAEJzB,KAAM4M,aAMhB,eAACR,GAAA,EAAKI,MAAN,CAAYC,UAAU,aAAtB,SACE,eAACL,GAAA,EAAKY,MAAN,CAAYtM,KAAK,WAAWsL,MAAM,mBAAmBiB,QAASxL,EAAOpB,UAAWwM,SAAU,SAACjB,GAC3EA,EAAE1E,OAAO0F,MACvBlC,EAAS,CACPhK,KAAM,kBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,IAEJpB,WAAYoB,EAAOpB,oBAM7B,gBAAC+L,GAAA,EAAKI,MAAN,CAAYC,UAAU,cAAtB,UACE,eAACL,GAAA,EAAKM,MAAN,6BACA,eAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,WAAWF,MAAOnL,EAAOvB,YAAc2M,SAAU,SAACjB,GACjE,IAAMgB,EAAQhB,EAAE1E,OAAO0F,MACvBlC,EAAS,CACPhK,KAAM,kBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,IAEJvB,YAAa0M,iBC3EdM,GAAa,WACxB,IAAMxC,EAAWC,cADW,EAED7B,YAAYL,IAAhC7G,EAFqB,EAErBA,KAAMsF,EAFe,EAEfA,OAAQnH,EAFO,EAEPA,GAErB,OAAO,gBAACoN,GAAA,EAAD,CAAOC,UAAQ,EAACxL,KAAMA,EAAMyL,OAAQ,WACzC3C,EAAS,CACPhK,KAAM,aACNC,QAAS,CACPiB,MAAM,MAJL,UAQL,eAACuL,GAAA,EAAMG,OAAP,CAAcC,aAAW,EAAzB,SACE,gBAACJ,GAAA,EAAMK,MAAP,qBAAuB,MAANzN,EAAa,SAAW,SAAU,gCAAiB,QAAVmH,EAAmB,UAAY,4BAE3F,eAACiG,GAAA,EAAMM,KAAP,UAEc,QAAVvG,EAAmB,eAAC,GAAD,IACT,OAAVA,EAAkB,eAAC,GAAD,IAClB,OAGJ,gBAACiG,GAAA,EAAMO,OAAP,WACE,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAY1B,QAAS,WACnCxB,EAAS,CACPhK,KAAM,aACNC,QAAS,CACPiB,MAAM,MAJZ,sBAUA,eAAC+L,GAAA,EAAD,CAAQC,QAAQ,UAAUC,KAAgB,QAAV3G,EAAmB,YAAc,WAAYxG,KAAK,SAAlF,4BChBSoN,GAda,WAC1B,OAAO,uBAAK/E,MAAO,CAACgF,SAAU,KAAMvE,UAAU,uEAAvC,UACL,qBAAIT,MAAO,CAACC,SAAU,QAAtB,uCACA,uBAAKQ,UAAU,uCAAf,UACE,eAAC,GAAD,IACA,uBAAKA,UAAU,yBAA0BT,MAAO,CAACiF,WAAY,SAA7D,UACE,eAAC,GAAD,IACA,eAAC,GAAD,UAGJ,eAAC,GAAD,QCjBSC,GAAuB,SAACzN,GAAD,OAA6BA,EAAMmH,SAAS1F,GAAGmB,cCEtE8K,GAAuBvF,cDHR,SAACnI,GAAD,OAA6BA,EAAMmH,SAAS3F,SAASc,YCK/EyF,GACAD,IACA,SAACxF,EAAW7B,EAAMV,GAChB,OAAOuC,EAAUuG,KAAI,SAAA1B,GACnB,IAAMR,EAAMlG,EAAKK,MAAK,SAAA6F,GAAG,OAAIA,EAAIpH,IAAM4H,EAASjF,SAASE,SACzD,MAAO,CACL7C,GAAI4H,EAAS5H,GACboC,IAAKwF,EAASxF,IACdgM,SAAS,GAAD,OAAKxG,EAAS3H,KAAd,YAAsB2H,EAASvF,WAA/B,YAA6CuF,EAAStF,UAC9DE,OAAQoF,EAASpF,OACjBD,YAAaqF,EAASrF,YACtBE,YAAamF,EAASnF,YACtBC,IAAKkF,EAASlF,IACdC,SAAU,CACRhC,KAAMiH,EAASjF,SAAShC,KACxBiC,UAAWgF,EAASjF,SAASC,UAC7BwE,IAAK,CACHnH,KAAI,OAAEmH,QAAF,IAAEA,OAAF,EAAEA,EAAKnH,KACXgH,KAAMzG,EAAMe,MAAK,SAAAT,GAAC,OAAIA,EAAEd,IAAM4H,EAASjF,SAASE,UAElDC,QAAS8E,EAASjF,SAASG,OAAO,KAAKuL,QAAQ,WCnB5CC,GAAgB,WAAK,IAAD,EACTC,eAChBC,GAFyB,EACvBC,KADuB,EACjBC,IACa3F,YAAYoF,KAEvC,OAAO,uBAAKnF,MAAO,CAACgF,SAAU,KAAMvE,UAAU,uEAAvC,UACL,qBAAIT,MAAO,CAACC,SAAU,QAAtB,gCAKA,gBAACC,GAAA,EAAD,CAAOC,YAAU,EAACM,UAAU,oBAA5B,UACE,iCACE,gCACE,qBAAIT,MAAO,CAACI,MAAO,GAAnB,eACA,sDACA,kDACA,uCACA,sDACA,+CACA,mDACA,4DACA,yCACA,wCACA,0CACA,sCACA,6BAGJ,iCACGoF,EAAmBlF,KAAI,SAACuC,EAAGtC,GAAK,IAAD,EAC9B,OAAO,gCACL,qBAAIC,MAAM,MAAV,SACGD,EAAE,IAEL,8BAAKsC,EAAEzJ,MACP,qBAAIqH,UAAU,cAAd,SAA6BoC,EAAEuC,WAC/B,8BAAKvC,EAAErJ,SACP,8BAAKqJ,EAAEtJ,cACP,8BAAKsJ,EAAEpJ,cACP,8BAAKoJ,EAAElJ,SAAShC,OAChB,8BAAKkL,EAAElJ,SAASC,YAEhB,qBAAI6G,UAAU,cAAd,mBAA6BoC,EAAElJ,SAASyE,IAAIH,YAA5C,aAA6B,EAAqBhH,OAClD,qBAAIwJ,UAAU,cAAd,SAA6BoC,EAAElJ,SAASyE,IAAInH,OAC5C,8BAAK4L,EAAElJ,SAASG,SAChB,8BAAK+I,EAAEnJ,MACP,8BACE,eAACkL,GAAA,EAAD,CAAQnE,UAAU,oBAAoBoE,QAAQ,OAA9C,SAAsD,eAAC,KAAD,uB,SC7CvDc,GAAe,WAC1B,IAAMhE,EAAWC,cACVlJ,EAAUqH,YAAYmF,IAAtBxM,OACDlB,EAAQuI,YAAYR,IACpBrH,EAAO6H,aAAY,SAACtI,GAAD,OTIE,ESJwBA,ETI4BmO,ESJrBlN,EAAOrB,OTIvC,EAAE2B,aAAeC,SAA+Df,KAAKL,QAAO,SAAAW,GAAC,OAAEA,EAAEnB,QAAUuO,KAA3G,IAAC,EAAoDA,KSUzE9B,EAAW,SAAC+B,GAAD,OAA8B,SAAChD,GAC9C,IAAMgB,EAAQhB,EAAE1E,OAAO0F,OAbN,SAACgC,EAA4BhC,GAC9ClC,EAAS,CACPhK,KAAM,uBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,mBAEHmN,EAAQhC,OAQfiC,CAAWD,EAAOhC,KAGpB,OAAO,sBAAK7D,MAAO,CAACgF,SAAU,KAAMvE,UAAU,uEAAvC,SACL,gBAAC4C,GAAA,EAAD,CAAMC,SAAU,SAACT,GACfA,EAAEU,iBACF,IAAM3E,EAAqB,CACzB5H,GAAIwM,eACJpK,IAAI,GAAD,OAAKV,EAAOU,KAAZ,OAAkBV,EAAOuB,cAAgB,IAAM,IAA/C,OAAoDvB,EAAOuB,eAA3D,OAA2EvB,EAAOwB,YAAc,IAAM,IAAtG,OAA2GxB,EAAOwB,aACrHjD,KAAMyB,EAAOzB,KACboC,WAAYX,EAAOW,WACnBC,SAAUZ,EAAOY,SACjBE,OAAQd,EAAOc,OACfD,YAAab,EAAOa,YACpBE,YAAaf,EAAOyB,YACpBT,IAAKhB,EAAOgB,IACZC,SAAU,CACRhC,KAAMe,EAAO0B,aACbR,UAAWlB,EAAOkB,UAClBC,MAAOnB,EAAOmB,MACdC,OAAQiM,KAAKC,MAAgC,IAA1BC,WAAWvN,EAAOoB,WAGzC6H,EAAS,CACPhK,KAAM,eACNC,QAASgH,IAEX+C,EAAS,CACPhK,KAAM,wBAxBV,UA2BE,sCACE,2DACA,gBAAC0L,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,GAAI,EAAGC,GAAI,EAAG3C,UAAU,eAA7C,UACE,eAACL,GAAA,EAAKM,MAAN,kCACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOU,IAAK0K,SAAUA,EAAS,YAElE,gBAACT,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKG,GAAI,EAAGF,GAAI,EAAGC,GAAI,EAAG3C,UAAU,0BAApD,UACE,eAACL,GAAA,EAAKM,MAAN,0BACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOuB,cAAe6J,SAAUA,EAAS,sBAE5E,gBAACT,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKG,GAAI,EAAGF,GAAI,EAAGC,GAAI,EAAG3C,UAAU,yBAApD,UACE,eAACL,GAAA,EAAKM,MAAN,0BACA,gBAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,SAASF,MAAOnL,EAAOwB,YAAa4J,SAAUA,EAAS,eAAxE,UACA,4BACA,yBAAQD,MAAM,KAAd,kBACA,yBAAQA,MAAM,KAAd,wBACA,yBAAQA,MAAM,KAAd,wBACA,yBAAQA,MAAM,KAAd,oBACA,yBAAQA,MAAM,KAAd,mBACA,yBAAQA,MAAM,KAAd,mBACA,yBAAQA,MAAM,KAAd,uBACA,yBAAQA,MAAM,KAAd,wBACA,yBAAQA,MAAM,KAAd,6BAIJ,eAACR,GAAA,EAAK6C,IAAN,CAAUzF,UAAU,SAApB,SACE,eAAC4C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAhB,SACE,eAACvB,GAAA,EAAD,yBAIJ,wBAEA,gBAACvB,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKE,GAAI,EAAG3C,UAAU,gBAAtC,UACE,eAACL,GAAA,EAAKM,MAAN,qBACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOzB,KAAM6M,SAAUA,EAAS,aAEnE,gBAACT,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKE,GAAI,EAAG3C,UAAU,sBAAtC,UACE,eAACL,GAAA,EAAKM,MAAN,+BACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOW,WAAYyK,SAAUA,EAAS,mBAEzE,gBAACT,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKE,GAAI,EAAG3C,UAAU,oBAAtC,UACE,eAACL,GAAA,EAAKM,MAAN,+BACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOY,SAAUwK,SAAUA,EAAS,oBAGzE,gBAACT,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,GAAI,EAAG1C,UAAU,kBAAtC,UACE,eAACL,GAAA,EAAKM,MAAN,mBACA,gBAACN,GAAA,EAAKO,QAAN,CAAcG,GAAI,SAAUF,MAAOnL,EAAOc,OAAQsK,SAAUA,EAAS,UAArE,UACE,yBAAQ9M,GAAG,IAAI6M,MAAM,YAArB,oBACA,yBAAQ7M,GAAG,IAAI6M,MAAM,WAArB,yBAGJ,gBAACR,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,GAAI,EAAGC,GAAI,EAAG3C,UAAU,sBAA7C,UACE,eAACL,GAAA,EAAKM,MAAN,kCACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOa,YAAauK,SAAUA,EAAS,oBAE1E,gBAACT,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKE,GAAI,EAAG3C,UAAU,uBAAtC,UACE,eAACL,GAAA,EAAKM,MAAN,2BACA,gBAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,SAASF,MAAOnL,EAAOyB,YAAa2J,SAAUA,EAAS,eAAxE,UACE,yBAAQD,MAAM,YAAd,uBACA,yBAAQA,MAAM,aAAd,oCAMR,sCACE,8DACA,gBAACR,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKE,GAAI,EAAG3C,UAAU,yBAAtC,UACE,eAACL,GAAA,EAAKM,MAAN,+BACA,gBAACN,GAAA,EAAKO,QAAN,CAAcG,GAAI,SAAUF,MAAOnL,EAAO0B,aAAc0J,SAAUA,EAAS,gBAA3E,UACE,yBAAQ9M,GAAG,IAAI6M,MAAM,OAArB,kBACA,yBAAQ7M,GAAG,IAAI6M,MAAM,mBAArB,8BACA,yBAAQ7M,GAAG,IAAI6M,MAAM,iBAArB,kCAGJ,gBAACR,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,GAAI,EAAGC,GAAI,EAAG3C,UAAU,+BAA7C,UACE,eAACL,GAAA,EAAKM,MAAN,8BACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOkB,UAAWkK,SAAUA,EAAS,kBAExE,gBAACT,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,GAAI,EAAG1C,UAAU,2BAAtC,UACE,eAACL,GAAA,EAAKM,MAAN,sBACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,SAASkM,MAAOnL,EAAOoB,OAAQgK,SAAUA,EAAS,kBAGzE,gBAACT,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKzC,UAAU,6BAA/B,UACE,eAACL,GAAA,EAAKM,MAAN,qBACA,eAACN,GAAA,EAAKO,QAAN,CAAcG,GAAI,SAAUF,MAAOnL,EAAOrB,OAAQyM,SAAUA,EAAS,UAArE,SACE,uCACE,yBAAQD,MAAM,KACbrM,EAAM8I,KAAI,SAAArC,GAAI,OACb,yBAAsB4F,MAAO5F,EAAKjH,GAAlC,SAAwCiH,EAAKhH,MAAhCgH,EAAKjH,eAK1B,gBAACqM,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKzC,UAAU,wBAA/B,UACE,eAACL,GAAA,EAAKM,MAAN,oBACA,eAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,SAASF,MAAOnL,EAAOmB,MAAOiK,SAAUA,EAAS,SAAlE,SACE,uCACE,yBAAQD,MAAM,KACb3L,EAAKoI,KAAI,SAAAlC,GAAG,OACX,yBAAqByF,MAAOzF,EAAIpH,GAAhC,SAAsCoH,EAAInH,MAA7BmH,EAAIpH,qBAQ7B,sCACE,+DACA,eAACqM,GAAA,EAAK6C,IAAN,UACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKzC,UAAU,eAA/B,UACE,eAACL,GAAA,EAAKM,MAAN,sBACA,gBAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,SAASF,MAAOnL,EAAOgB,IAAKoK,SAAUA,EAAS,OAAhE,UACE,4BACA,yBAAQD,MAAM,YAAd,0BACA,yBAAQA,MAAM,SAAd,oBACA,yBAAQA,MAAM,YAAd,uBACA,uCAKR,eAACe,GAAA,EAAD,CAAQjN,KAAK,SAAb,6B,sCCrLA4O,GAAc,SAACC,GACnB,OAAO,uCACL,gBAAC,KAAD,CAAMC,GAAID,EAAKf,KACbhF,UAAU,8DACVT,MAAO,CACL0G,QAAS,cAHb,UAMKF,EAAKrF,KAAK,uBAAMnB,MAAO,CAAC2G,cAAe,SAAU1B,WAAY,UAAnD,SAA+DuB,EAAKtF,UAD5EsF,EAAKxP,IAGXwP,EAAKI,OAASJ,EAAKI,MAAMtG,KAAI,SAAAuG,GAC5B,OAAO,gBAAC,KAAD,CAAMJ,GAAII,EAAQpB,KACvBzF,MAAO,CACL0G,QAAS,aACTI,YAAa,QAEfrG,UAAU,8DALL,UAOFoG,EAAQ1F,KAAK,uBAAMnB,MAAO,CAAC2G,cAAe,SAAU1B,WAAY,UAAnD,SAA+D4B,EAAQ3F,UADlF2F,EAAQ7P,WAaR+P,GAAU,SAAC/E,GAAyB,IAAD,EACgCA,EAAvEvB,iBADuC,MAC7B,GAD6B,IACgCuB,EAAzDgF,YADyB,MACpB,QADoB,IACgChF,EAA3Cd,aADW,MACL,GADK,IACgCc,EAAjC4E,aADC,MACK,GADL,EACgC5E,EAAvBiF,WADT,aACgCjF,EADhC,mDAG9C,OAAO,uBAAKvB,UAAS,UAAKA,EAAL,aADD,CAACyG,KAAM,cAAeC,MAAO,gBACGH,IAAShQ,GAAG,kBAAzD,UACL,sBAAKyJ,UAAU,kBAAf,SAAkCS,IAClC,sBAAKT,UAAU,aAAf,SACGmG,EAAMtG,KAAI,SAAAkG,GAAI,OACb,eAAC,GAAD,eAA+BA,GAAbA,EAAKxP,aCnBhBoQ,GApBc,SAAC,GAA8B,IAA7BC,EAA4B,EAA5BA,QAAShG,EAAmB,EAAnBA,SAChC3D,EAAcqC,aAAY,SAACtI,GAAD,OAAaA,EAAMqH,KAAKpB,eADC,EAEnC6H,eAFmC,EAEjDE,KAFiD,EAE3CC,IAEd,OAAO,uBAAKjF,UAAW,iDAAmD/C,EAAc,GAAK,YAAc1G,GAAG,UAAvG,UACL,eAAC,GAAD,aAASyJ,UAAU,sBAAyB4G,IAC5C,eAACC,GAAA,EAAD,CAAW7G,UAAU,iCAAiCT,MAAO,CAACuH,SAAU,QAAxE,SASGlG,Q,UCtBQ,cACb,OAAO,uBAAKZ,UAAU,uEAAf,UACP,qBAAIT,MAAO,CAACC,SAAU,QAAtB,yBACA,uBAAKQ,UAAU,oDAAf,UACE,sBAAKA,UAAU,OAAf,SACA,eAAC+G,GAAA,EAAD,CAAW/G,UAAU,cAAcgH,iBAAiB,SAApD,SACE,eAACD,GAAA,EAAUE,KAAX,CAAgBhQ,QAAM,EAACiQ,KAAK,SAA5B,wBAKF,sBAAKlH,UAAU,yBAA0BT,MAAO,CAACiF,WAAY,kBCXlD,cACb,OAAO,uBAAKxE,UAAU,uEAAf,UACP,qBAAIT,MAAO,CAACC,SAAU,QAAtB,gCAKA,gBAACC,GAAA,EAAD,CAAOC,YAAU,EAACM,UAAU,oBAA5B,UACE,iCACE,gCACE,qBAAIT,MAAO,CAACI,MAAO,GAAnB,eACA,kDACA,kDACA,yCACA,wCACA,6BAGJ,kC,UCnBSwH,GAAY,SAAC,GAAD,SAAEvM,SAAWpC,SAA2C8B,OACpE8M,GAAiB,SAAC,GAAD,SAAExM,SAAWpC,SAA2C6B,YACzEgN,GAA2B,SAAC,GAAD,SAAEzM,SAAWpC,SAA2CwC,sBAEnFsM,GAAmB,SAAC,GAAD,SAAE1M,SAAWpC,SAA2CsC,cAC3EyM,GAAyB,SAAC,GAAD,SAAE3M,SAAWpC,SAA2CuC,oBAIjFyM,GAAc,SAAC,GAAD,SAAE5M,SAAWnC,GAA+B6C,UCJ1DmM,ICHkBtI,aAC7BgI,GACAC,GACAC,GACAC,IFC+B,SAAC,GAAD,SAAE1M,SAAWnC,GAA+B4C,kBEC3E,SAACf,EAAOD,EAAYW,EAAsBF,EAAcO,GACtD,IAAMqM,EAAepN,EAAMxC,MAAK,SAAA4C,GAAC,OAAEA,EAAEnE,IAAM8E,KAC3C,OAAOqM,GAAgB,CACrBnR,GAAE,OAAEmR,QAAF,IAAEA,OAAF,EAAEA,EAAcnR,GAClBC,KAAI,OAAEkR,QAAF,IAAEA,OAAF,EAAEA,EAAclR,KACpBE,YAAW,OAAEgR,QAAF,IAAEA,OAAF,EAAEA,EAAchR,YAC3BqD,QAAO,OAAE2N,QAAF,IAAEA,OAAF,EAAEA,EAAc3N,QACvB4N,YAAa7M,EAAahD,MAAK,SAAA8P,GAAC,OAAEA,EAAErR,KAAF,OAAQmR,QAAR,IAAQA,OAAR,EAAQA,EAActN,kBACxDY,qBAAsBX,EAAWjD,QAAO,SAAAyQ,GACtC,OAAO7M,EAAqB8M,MAAK,SAAA7M,GAAE,OAAIA,EAAGC,SAAH,OAAawM,QAAb,IAAaA,OAAb,EAAaA,EAAcnR,KAAM0E,EAAG8M,aAAeF,EAAEtR,aDZzE,SAAC,GAA8B,IAA7B2E,EAA4B,EAA5BA,OACrB8M,EAAcC,mBAAQ,kBCiBC,SAAC/M,GAC9B,OAAOiE,aACLgI,GACAC,GACAC,GACAE,GACAD,IACA,SAAChN,EAAOD,EAAYW,EAAsBD,EAAoBD,GAC5D,IAAM4M,EAAepN,EAAMxC,MAAK,SAAA4C,GAAC,OAAEA,EAAEnE,IAAM2E,KAE3C,OADAxD,QAAQC,IAAI,gBAAiB+P,GACtBA,GAAgB,CACrBnR,GAAE,OAAEmR,QAAF,IAAEA,OAAF,EAAEA,EAAcnR,GAClBC,KAAI,OAAEkR,QAAF,IAAEA,OAAF,EAAEA,EAAclR,KACpBE,YAAW,OAAEgR,QAAF,IAAEA,OAAF,EAAEA,EAAchR,YAC3BqD,QAAO,OAAE2N,QAAF,IAAEA,OAAF,EAAEA,EAAc3N,QACvBI,QAAO,OAAEuN,QAAF,IAAEA,OAAF,EAAEA,EAAcvN,QACvBwN,YAAa7M,EAAahD,MAAK,SAAA8P,GAAC,OAAEA,EAAErR,KAAF,OAAQmR,QAAR,IAAQA,OAAR,EAAQA,EAActN,kBACxD8N,kBAAmBnN,EAAmBjD,MAAK,SAAAqQ,GAAC,OAAEA,EAAE5R,KAAF,OAAQmR,QAAR,IAAQA,OAAR,EAAQA,EAAc5N,wBACpEkB,qBAAsBX,EAAWjD,QAAO,SAAAyQ,GACtC,OAAO7M,EAAqB8M,MAAK,SAAA7M,GAAE,OAAIA,EAAGC,SAAH,OAAawM,QAAb,IAAaA,OAAb,EAAaA,EAAcnR,KAAM0E,EAAG8M,aAAeF,EAAEtR,aDpCpE6R,CAAgBlN,KAAS,CAACA,IACpDX,EAAO+E,YAAY0I,GAGzB,OAFAtQ,QAAQC,IAAI4C,GAELA,EAAO,iCACZ,qBAAIgF,MAAO,CAACC,SAAU,WAAtB,SAAmCjF,EAAK/D,OACxC,6BAAI+D,EAAK7D,cACT,gBAAC+I,GAAA,EAAD,WAKE,gCACE,qBAAIO,UAAU,cAAcD,MAAM,MAAMR,MAAO,CAACI,MAAO,OAAvD,4BACA,8BAAKpF,EAAKoN,YAAanR,UAEzB,gCACE,qBAAIuJ,MAAM,MAAV,qBACA,8BAAKxF,EAAKR,QAAU,QAAO,UAE7B,gCACE,qBAAIiG,UAAU,cAAcD,MAAM,MAAlC,qCACA,8BAAKxF,EAAK2N,kBAAmB1R,MAAsC,GAA9B+D,EAAK2N,kBAAmB3R,GAAxB,YAAuCgE,EAAKJ,QAA5C,KAAyD,SAEhG,gCACE,qBAAI4F,MAAM,MAAV,kCAEExF,EAAKS,qBAAqB4E,OACxB,8BAAMrF,EAAKS,qBAAqB6E,KAAI,SAAAgI,GAAC,OAAEA,EAAErR,QAAM6R,KAAK,QACpD,qBAAIrI,UAAU,WAAd,+CAYD,OE1CLgB,GAAU,aACHsH,GAAY,WACvB,IAAMhO,EAAQgF,YAAY6H,IACpBjG,EAAWC,cACT/I,EAASgJ,aAAe,CAC9B7K,GAAIyK,KADE5I,KAGFmQ,EAAUC,eANW,EAOL1D,eAARG,GAPa,EAOnBD,KAPmB,EAObC,KAEd,OAAO,uCACL,eAAC8B,GAAA,EAAD,CAAW/G,UAAU,cAAeoE,QAAQ,QAAQqE,cAAe,SAACrG,GAClEhK,EAAKgK,EAAG,CACNb,MAAO,CAAEhL,GAAI,SAFjB,SAKG+D,EAAMuF,KAAI,SAAAnF,GACT,OAAO,eAACqM,GAAA,EAAUE,KAAX,CAA2BjH,UAAU,YAAYkH,KAAI,WAAMxM,EAAEnE,IAAMU,QAAM,EAACwR,cAAe,SAACrG,GAC/FA,EAAEsG,kBACFtQ,EAAKgK,EAAG,CACNb,MAAO,CACLhL,GAAImE,EAAEnE,OAJL,SAQJmE,EAAElE,MARuBkE,EAAEnE,SAYlC,gBAAC,KAAD,CAAMA,GAAIyK,GAAV,UACE,eAAC,KAAD,CAAMuB,OAAQ,qBAAEhB,MAAehL,IAAImM,QAAS,YAAiB,EAAPnB,MAClDgH,EAAQI,KAAR,UAAgB1D,EAAhB,UAA6B,KADjC,mBAKA,eAAC,KAAD,CAAM1C,OAAQ,qBAAEhB,MAAgBhL,IAAImM,QAAS,YAAkB,IACrDnM,EADoD,EAAPgL,MAClChL,GACjBgS,EAAQI,KAAR,UAAgB1D,EAAhB,mBAA8B1O,GAAM,KAFxC,oBAMA,eAAC,KAAD,CAAMgM,OAAQ,qBAAEhB,MAAgBhL,IAAImM,QAAS,YAAkB,IACvDnM,EADsD,EAAPgL,MACpChL,GAEf2K,EAAS,CACPhK,KAAM,mBACNC,QAASZ,KALf,6BCzCS,cACb,IAAM+D,EAAQgF,YAAY6H,IAC1B,OAAO,uBAAKnH,UAAU,uEAAf,UACP,qBAAIT,MAAO,CAACC,SAAU,QAAtB,mBACA,eAACoJ,GAAA,EAAI/B,UAAL,CAAegC,YAAY,EAA3B,SACE,uBAAK7I,UAAU,oDAAf,UACE,sBAAKA,UAAU,cAAf,SACE,eAAC,GAAD,MAEF,eAAC4I,GAAA,EAAIE,QAAL,CAAa9I,UAAU,yBAA0BT,MAAO,CAACiF,WAAY,SAArE,SAEIlK,EAAMuF,KAAI,SAAAnF,GACR,OAAO,eAACkO,GAAA,EAAIG,KAAL,CAAUC,SAAQ,WAAMtO,EAAEnE,IAA1B,SACL,eAAC,GAAD,CAAwB2E,OAAQR,EAAEnE,IAAhBmE,EAAEnE,oBCbrB0S,GAAW,WACtB,IAAM/H,EAAWC,cADW,EAEL+H,eAAfjS,EAFoB,EAEpBA,OAAQV,EAFY,EAEZA,GAFY,EAMS+I,YAAYkI,IAAzCvP,EANoB,EAMpBA,OAAckR,EANM,EAMZ/N,KAChB1D,QAAQC,IAAIM,GACZ,IAAM8C,EAAqBuE,YAAYiI,IACjCzM,EAAewE,YAAYgI,IAC3B/M,EAAO+E,YAAY6H,IAAUrP,MAAK,SAAA4C,GAAC,OAAEA,EAAEnE,IAAMA,KAC7C4E,EAAyBmE,YAAY+H,IAAyBjQ,QAAO,SAAA6D,GAAE,OAAEA,EAAGC,SAAH,OAAaX,QAAb,IAAaA,OAAb,EAAaA,EAAMhE,OAAIsJ,KAAI,SAAA5E,GAAE,OAAEA,EAAG8M,eAC3G1N,EAAaiF,YAAY8H,IAAe9P,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEf,KAAOgB,EAAEhB,MAAQ,EAAIe,EAAEf,KAAOgB,EAAEhB,KAAO,EAAI,KACpG+R,EAAUC,eAChB9Q,QAAQC,IAAI4C,GACZ6O,qBAAU,WAENlI,EADC3G,EACQ,CACPrD,KAAK,mBACLC,QAAS,CACPc,OAAQ,CACNzB,KAAM+D,EAAK/D,KACXE,YAAa6D,EAAK7D,YAClBqD,QAASQ,EAAKR,QACdK,cAAeG,EAAKH,cACpBN,oBAAqBS,EAAKT,oBAC1BK,QAASI,EAAKJ,QACdgB,uBAAwBA,KAMrB,CACPjE,KAAK,sBAGR,CAACX,IAEJ,IAAM8S,EAAS/H,uBAAY,WACzB5J,QAAQC,IAAI4Q,EAAQe,UACff,EAAQe,SAAStS,MAGpBuR,EAAQc,SAFRd,EAAQnS,QAAQ,gCAGjB,IAeGiN,EAAW,SAAC+B,GAAD,OAAgC,SAAChD,GAChD,IAAMgB,EAAQhB,EAAE1E,OAAO0F,OAbN,SAACgC,EAA4BhC,GAC9ClC,EAAS,CACPhK,KAAM,mBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,mBAEHmN,EAAQhC,OAQfiC,CAAWD,EAAOhC,KAGpB,OAAO,gBAACO,GAAA,EAAD,CAAOvL,MAAM,EAAMwL,UAAQ,EAACC,OAAQwF,EAApC,UACL,eAAC1F,GAAA,EAAMG,OAAP,CAAcC,aAAW,EAAzB,SACE,eAACJ,GAAA,EAAMK,MAAP,oBAAiBzN,EAAK,SAAW,QAAjC,sBAEF,eAACoN,GAAA,EAAMM,KAAP,UACE,gBAACrB,GAAA,EAAD,CAAMrM,GAAG,YAAYsM,SAAU,SAACT,GAC9BA,EAAEU,iBACF,IAAM5H,EAAoB,SAAVjE,EAAoB8L,eAASnN,WAAW,IAAK,IAAMW,EACnE2K,EAAS,CACPhK,KAAgB,SAAVD,EAAoB,gBAAkB,iBAC5CE,QAAS,CACPoD,KAAM,CACJhE,GAAI2E,EACJ1E,KAAMyB,EAAOzB,KACbE,YAAauB,EAAOvB,YACpBqD,QAAS9B,EAAO8B,QAChBI,QAASlC,EAAOkC,QAChBC,cAAemP,SAAStR,EAAOmC,eAC/BN,oBAAqByP,SAAStR,EAAO6B,sBAEvCkB,qBAAsB/C,EAAOkD,uBAAuB0E,KAAI,SAAAkI,GACtD,MAAO,CACLA,cACA7M,gBAKRmO,KAvBF,UAyBE,gBAACzG,GAAA,EAAKI,MAAN,WACE,eAACJ,GAAA,EAAKM,MAAN,qBACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOzB,KAAM6M,SAAUA,EAAS,aAEnE,gBAACT,GAAA,EAAKI,MAAN,WACE,eAACJ,GAAA,EAAKM,MAAN,6BACA,eAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,WAAWF,MAAOnL,EAAOvB,YAAa2M,SAAUA,EAAS,oBAE5E,eAACT,GAAA,EAAKY,MAAN,CAAYxD,UAAU,OAAO9I,KAAK,WAAWsL,MAAM,UAAUiB,QAASxL,EAAO8B,QAASsJ,SAAU,SAACjB,GAC/FlB,EAAS,CACPhK,KAAM,mBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,IAEJ8B,QAASqI,EAAE1E,OAAO+F,gBAK1B,gBAACgC,GAAA,EAAD,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAhB,UACE,eAAC9C,GAAA,EAAKM,MAAN,6BACA,gBAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,SAASF,MAAOnL,EAAOmC,cAAeiJ,SAAUA,EAAS,iBAA1E,UACE,4BAEEvI,EAAa+E,KAAI,SAAA2J,GACf,OAAO,yBAAoBpG,MAAOoG,EAAGjT,GAA9B,SAAmCiT,EAAGhT,MAAzBgT,EAAGjT,aAK/B,gBAACqM,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAhB,UACE,eAAC9C,GAAA,EAAKM,MAAN,mCACA,gBAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,SAASF,MAAOnL,EAAO6B,oBAAqBuJ,SAAU,SAACjB,GAAO,IAAD,EACtEgB,EAAQhB,EAAE1E,OAAO0F,MACvBlC,EAAS,CACPhK,KAAM,mBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,IAEJ6B,oBAAqBsJ,IAEvBhI,KAAK,2BACA+N,GADD,IAEFrP,oBAAmB,UAAEiB,EAAmBjD,MAAK,SAAA2R,GAAE,OAAIA,EAAGlT,IAAMgT,SAASnG,aAAlD,aAAE,EAAyD1M,kBAXtF,UAgBE,mEACCqE,EAAmB8E,KAAI,SAAA4J,GAAE,OACxB,yBAAoBrG,MAAOqG,EAAGlT,GAA9B,SAAmCkT,EAAGjT,MAAzBiT,EAAGlT,gBAMO,KAA9B0B,EAAO6B,oBAA6B,gBAAC8I,GAAA,EAAKI,MAAN,WACnC,eAACJ,GAAA,EAAKM,MAAN,sBACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOkC,QAASkJ,SAAUA,EAAS,gBACtD,KAoBhB,uBAAMrD,UAAU,OAAhB,4CACA,eAAC+G,GAAA,EAAD,CAAWzD,GAAG,KAAKtD,UAAU,mCAAmCoE,QAAQ,QAAQ7E,MAAO,CAACmK,OAAQ,SAAhG,SACGrP,EAAWwF,KAAI,SAAAgI,GACd,OAAO,eAACd,GAAA,EAAUE,KAAX,CAA2B3D,GAAG,KAAKtD,UAAU,YAAY/I,QAAM,EAA/D,SACL,eAAC2L,GAAA,EAAKY,MAAN,CAAYtM,KAAK,WACfsL,MAAOqF,EAAErR,KACTiN,QAASxL,EAAOkD,uBAAuB2M,MAAK,SAAAvR,GAAE,OAAEA,GAAMsR,EAAEtR,MACxD8M,SAAU,SAACjB,GAET,IAAIuH,EADJjS,QAAQC,IAAIyK,EAAE1E,OAAO+F,SAElBrB,EAAE1E,OAAO+F,QACNxL,EAAOkD,uBAAuB2M,MAAK,SAAAvR,GAAE,OAAEA,GAAIsR,EAAEtR,QAC/CoT,EAAY,YAAO1R,EAAOkD,yBACbwN,KAAKd,EAAEtR,IAItBoT,EAAe1R,EAAOkD,uBAAuB/D,QAAO,SAAAb,GAAE,OAAIA,GAAMsR,EAAEtR,MAEpE0B,EAAOkD,uBAAuB/D,QAAO,SAAAb,GAAE,OAAIA,KAC3C2K,EAAS,CACPhK,KAAM,mBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,IAEJkD,uBAAwBwO,WAtBR9B,EAAEtR,cAiCtC,gBAACoN,GAAA,EAAMO,OAAP,WACE,eAACC,GAAA,EAAD,CAAQC,QAAQ,YAAY1B,QAAS2G,EAArC,sBAGA,eAAClF,GAAA,EAAD,CAAQC,QAAQ,UAAUC,KAAK,YAAYnN,KAAK,SAAhD,4BCvNS,cAAK,IAAD,EACK4N,eAARG,GADG,EACTD,KADS,EACHC,KACd,OAAO,uCACL,gBAAC,KAAD,WACE,eAAC,KAAD,CAAO2E,OAAK,EAAC5E,KAAI,UAAKC,GAAtB,SACE,eAAC4E,GAAD,MAEF,eAAC,KAAD,CAAO7E,KAAI,UAAKC,EAAL,iBAAX,SACE,eAAC6E,GAAD,MAEF,eAAC,KAAD,CAAO9E,KAAI,UAAKC,EAAL,gBAAX,SACE,eAAC8E,GAAD,SAIJ,eAAC,KAAD,CAAOH,OAAK,EAAC5E,KAAI,UAAKC,EAAL,gCAAjB,SACE,eAAC,GAAD,MAEF,eAAC,KAAD,CAAO2E,OAAK,EAAC5E,KAAI,UAAKC,EAAL,qCAAjB,SACE,eAAC,GAAD,UC4DS+E,GAvEM,WAAK,IAAD,EACDlF,eAAdE,EADe,EACfA,KAAMC,EADS,EACTA,IACd,OAAO,eAAC,GAAD,CAAe2B,QAAS,CAC7BT,MAAO,CACL,CACE5P,GAAI,2BACJmK,KAAM,eAAC,KAAD,IACNsE,KAAK,GAAD,OAAKC,EAAL,iBACJxE,MAAO,6BAET,CACElK,GAAI,WACJmK,KAAM,eAAC,KAAD,IACNsE,KAAK,GAAD,OAAKC,EAAL,cACJxE,MAAO,YACP0F,MAAO,CACL,CACE5P,GAAI,qBACJmK,KAAM,eAAC,KAAD,IACNsE,KAAK,GAAD,OAAKC,EAAL,wBACJxE,MAAO,eAIb,CACElK,GAAI,UACJmK,KAAM,eAAC,KAAD,IACNsE,KAAK,GAAD,OAAKC,EAAL,YACJxE,MAAO,UACP0F,MAAO,CACL,CACE5P,GAAI,UACJmK,KAAM,eAAC,KAAD,IACNsE,KAAK,GAAD,OAAKC,EAAL,qBACJxE,MAAO,mBAET,CACElK,GAAI,gBACJmK,KAAM,eAAC,KAAD,IACNsE,KAAK,GAAD,OAAKC,EAAL,kBACJxE,MAAO,oBAET,CACElK,GAAI,gBACJmK,KAAM,eAAC,KAAD,IACNsE,KAAK,GAAD,OAAKC,EAAL,yBACJxE,MAAO,SAET,CACElK,GAAI,qBACJmK,KAAM,eAAC,KAAD,IACNsE,KAAK,GAAD,OAAKC,EAAL,wBACJxE,MAAO,mBAlDV,SAwDL,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOmJ,OAAK,EAAC5E,KAAMA,EAAnB,SACI,eAAC,KAAD,CAAUgB,GAAE,UAAKhB,EAAL,qBAEhB,eAAC,KAAD,CAAQA,KAAI,UAAKA,EAAL,iBAAZ,SAAsC,eAAC,GAAD,MACtC,eAAC,KAAD,CAAQA,KAAI,UAAKA,EAAL,wBAAZ,SAA6C,eAAC,GAAD,MAC7C,eAAC,KAAD,CAAQA,KAAI,UAAKA,EAAL,sBAAZ,SAA2C,eAAC,GAAD,MAC3C,eAAC,KAAD,CAAQ4E,OAAK,EAAC5E,KAAI,UAAKA,EAAL,cAAlB,SAAyC,eAAC,GAAD,MACzC,eAAC,KAAD,CAAOA,KAAI,UAAKA,EAAL,YAAX,SAAgC,eAACiF,GAAD,Y,oBC/EzBC,GAAe,SAAC3I,GAAiE,IAAD,EAC/D4I,mBAAS,GADsD,oBAClFC,EADkF,KAC3EC,EAD2E,KAElFC,EAAwB/I,EAAxB+I,YAAaC,EAAWhJ,EAAXgJ,QAEpBnB,qBAAU,WACN,IAAMoB,EAAUC,aAAY,WACxBJ,GAAS,SAACD,GAAD,OAAUA,EAAM,GAAG,OAC7B,KACH,OAAO,kBAAIM,cAAcF,MAC1B,IACH,IAAMG,EAAqBL,GAAeC,EAAW,IAAIK,MAAMR,EAAM,GAAG/B,KAAK,KAAQ,IACrF,OAAO,kDAAW9G,GAAX,IAAkB+I,YAAaK,M,qBCVnC,SAASE,GAAT,GAAiE,IAA7C5F,EAA4C,EAA5CA,IAAKyE,EAAuC,EAAvCA,OAQ5B,OAPAN,qBAAU,WAKR0B,KAAUC,MAAM9F,EAAK,gBAJP,CACZ+F,aAAc,4JAIf,CAAC/F,IACG,sBAAK1O,GAAG,eAAegJ,MAAO,CAACmK,Y,cCS7BuB,GAAW,SAACC,EAAuDC,GAAgC,IAAD,EACnFhB,mBAAqB,IAD8D,oBACtGnT,EADsG,KAC/FoU,EAD+F,KAEvGC,EApBsB,SAAoCH,EAAaC,GAC7E,IAAMG,EAAcC,iBAAOL,GAI3B,OAHA9B,qBAAU,WACXkC,EAAY5O,QAAUwO,IAClB,CAACC,IACGG,EAeUE,CAAeN,EAAUC,GA+B1C,MAAO,CAACnU,EA9BKsK,uBAAY,YACV,wCAAG,8BAAA/J,EAAA,6DACd6T,EAAS,CACPlP,WAAW,IAFC,SAISmP,EAAS3O,UAJlB,cAIR+O,EAJQ,gBAKMb,MAAMc,QAAQD,GAAYE,QAAQ/N,IAAI6N,EAAS5L,KAAI,SAAA+L,GAAC,OAAEA,EAAEC,WAAWJ,EAASI,OALlF,OAKRnK,EALQ,OAMXkJ,MAAMc,QAAQD,GAAYA,EAASK,OAAM,SAAAF,GAAC,OAAEA,EAAEG,MAAMN,EAASM,GAC9DX,EAAS,CACPlP,WAAW,EACXwF,OACA1F,OAAO,IAVG,2CAAH,qDAqBbgQ,GAAUC,OAAM,SAAC7J,GACfgJ,EAAS,CACPlP,WAAW,EACXF,OAAO,SAGX,M,SC3BEkQ,GAAU,CACd3V,GAAI,EACJ4V,OAAQ,GACRC,OAAQ,GACRC,SAAU,GACVC,QAAS,EACTC,QAAS,CACPH,OAAQ,GACRE,QAAS,IAIE,eAA4C,IAA1CE,EAAyC,EAAzCA,SAAUC,EAA+B,EAA/BA,SAAUpJ,EAAqB,EAArBA,SAC7BqJ,EAAanB,iBAAOkB,EAASN,QADqB,EAEdlB,IAAS,kBAAI0B,MAAMC,KAAO,4BAAwBH,EAASN,WAAW,CAACM,EAASN,SAFlE,oBAEjDU,EAFiD,KAE7BC,EAF6B,KAIlDC,EAAiBzL,uBAAuD,SAACc,GAC7E,IAAMgB,EAAQhB,EAAE1E,OAAO0F,MAAM4J,cAC7B3J,EAAS,2BACJ6I,IADG,IAENC,OAAQ/I,OAET,CAACqJ,IAEEQ,EAAe3L,uBAAY,SAACc,GAC7BsK,EAAWhQ,SAAW+P,EAASN,SAChCO,EAAWhQ,QAAU+P,EAASN,OAC9BW,OAED,CAACL,EAASN,SAeb,OAbA/C,qBAAU,WACR,GAAGyD,EAAmB3Q,YAAc2Q,EAAmB7Q,MAAM,CAC3D,IAAM0F,EAAOmL,EAAmBnL,KAChC,GAAGA,EAAK9B,OAAO,CAAC,IAAD,EACgB8B,EAAK,GAA3BwL,EADM,EACNA,UAAcC,EADR,8BAEb9J,EAAS,2BACJ8J,GADG,IAENd,SAAUa,SAIf,CAACL,IAEG,4BAAUL,SAAUA,EAApB,UACP,+CACA,gBAAC5J,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,IAAE,EAAC1C,UAAU,kBAAlC,UACE,eAACL,GAAA,EAAKM,MAAN,2BACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OACjBkW,UAAWP,EAAmB3Q,YAAc2Q,EAAmB7Q,QAAU6Q,EAAmBnL,KAAK9B,OACjGyD,SAAU0J,EACVM,OAAQJ,EAAc7J,MAAOqJ,EAASN,YAE1C,gBAACvJ,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,GAAI,EAAG1C,UAAU,kBAAtC,UACE,eAACL,GAAA,EAAKM,MAAN,qBACA,eAACN,GAAA,EAAKO,QAAN,CAAeG,GAAI4G,GAAcK,SAAwC,IAA/BsC,EAAmB3Q,UAC3DoO,aAA4C,IAA/BuC,EAAmB3Q,UAAoB,WAAa2Q,EAAmB7Q,MAAQ,QAAU,GACtGsR,UAAQ,EAACpW,KAAK,OAAOkM,MAAOqJ,EAASL,OAAOY,sBAGlD,eAACpK,GAAA,EAAK6C,IAAN,UACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,IAAE,EAAC1C,UAAU,kBAAlC,UACE,eAACL,GAAA,EAAKM,MAAN,4BACA,eAACN,GAAA,EAAKO,QAAN,CAAcG,GAAI4G,GAAcK,SAAwC,IAA/BsC,EAAmB3Q,UAC1DoO,aAA4C,IAA/BuC,EAAmB3Q,UAAoB,WAAa2Q,EAAmB7Q,MAAQ,QAAU,GACtGsR,UAAQ,EAACpW,KAAK,OAAOkM,MAAOqJ,EAASJ,SACrCe,UAA8B,MAAnBX,EAASJ,UAAmBkB,KAAKC,OAAU,IAAID,KAAKd,EAASJ,UAAWoB,iBAWzF,gBAAC7K,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,GAAI,EAAG1C,UAAU,UAAtC,UACE,eAACL,GAAA,EAAKM,MAAN,sBACA,eAACN,GAAA,EAAKO,QAAN,CAAcG,GAAI4G,GAAcK,SAAwC,IAA/BsC,EAAmB3Q,UAC1DoO,aAA4C,IAA/BuC,EAAmB3Q,UAAoB,WAAa2Q,EAAmB7Q,MAAQ,QAAU,GACtGsR,UAAQ,EAACpW,KAAK,OAAOkM,MAAOqJ,EAASF,QAAQH,OAAOY,mBAExD,gBAACpK,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,IAAE,EAAC1C,UAAU,SAAlC,UACE,eAACL,GAAA,EAAKM,MAAN,mCACA,eAACN,GAAA,EAAKO,QAAN,CAAeG,GAAI4G,GAAcK,SAAwC,IAA/BsC,EAAmB3Q,UAC3DoO,aAA4C,IAA/BuC,EAAmB3Q,UAAoB,WAAa2Q,EAAmB7Q,MAAQ,QAAU,GACtGsR,UAAQ,EAACpW,KAAK,OAAOkW,UAAoC,GAAzBX,EAASF,QAAQD,OAAWlJ,MAAkC,GAA3BqJ,EAASF,QAAQD,OAAc,YAAsC,GAA3BG,EAASF,QAAQD,OAAc,OAAS,eC6O7J,IAEeoB,GA1Sf,WAAqC,IAAD,EACFvD,mBAAoB,CAClDsC,SAAU,CACRlW,GAAI,EACJ4V,OAAQ,GACRC,OAAQ,GACRC,SAAU,GACVC,QAAS,EACTC,QAAS,CACPH,OAAQ,GACRE,QAAS,IAGbqB,OAAQ,CACNpX,GAAI,EACJ6V,OAAQ,IAEVwB,UAAW,CACTrX,GAAI,EACJ6V,OAAQ,GACRyB,UAAW,IAEbA,UAAW,KAtBqB,oBAC3BC,EAD2B,KAChBzI,EADgB,OAyBE8E,oBAAS,GAzBX,oBAyB3B4D,EAzB2B,KAyBZC,EAzBY,OA2BsB7D,mBAAS,CAC/D5T,GAAI,EACJ0X,KAAM,KA7B0B,oBA2B3BC,EA3B2B,KA2BPC,EA3BO,KAgC5BC,EAAiB9M,uBAAuD,SAACc,GAC7EiD,EAAW,2BACNyI,GADK,IAERH,OAAQU,EAASvW,MAAK,SAAA6V,GAAM,OAAEA,EAAOpX,IAAMgT,SAASnH,EAAE1E,OAAO0F,WAAW,CAAC7M,GAAI,EAAG6V,OAAQ,SAEzF,CAAC0B,IAEEQ,EAAoBhN,uBAAuD,SAACc,GAChFiD,EAAW,2BACNyI,GADK,IAERF,UAAWW,EAAYzW,MAAK,SAAA8V,GAAS,OAAEA,EAAUrX,IAAMgT,SAASnH,EAAE1E,OAAO0F,WAAW,CAAC7M,GAAI,EAAG6V,OAAQ,GAAIyB,UAAW,SAEpH,CAACC,IAEEvW,EAAIgU,iBAAOjG,KAAKkJ,UACtB9W,QAAQC,IAAI,SAAUJ,GA/CY,MAiDF0T,IAAS,WACvC,OAAO0B,MAAMC,KAAQ,kBAAmB,CAEtC6B,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnB,YAAef,EAAUrB,SAASlW,GAClC,UAAauX,EAAUH,OAAOpX,GAC9B,aAAgBuX,EAAUF,UAAUrX,GACpC,cAAiBuX,EAAUD,UAAUhO,KAAI,SAACiP,GAAD,OAAYA,EAASvY,YAGjE,CAACuX,IA/D8B,oBAiD3BiB,EAjD2B,KAiDZC,EAjDY,KAiE5BnM,EAAWvB,uBAAY,SAACc,GAC5BA,EAAEU,iBACFkM,MACC,IApE+B,EAsEM/D,IAAS,WAC/C,OAAOU,QAAQ/N,IAAI,CACjB+O,MAAMC,KAAU,aAChBD,MAAMC,KAAU,gBAChBD,MAAMC,KAAU,kBAEjB,IA5E+B,oBAsE3BqC,EAtE2B,KAsENC,EAtEM,OA6EUD,EAAoBvN,MAAQ,CAAC,GAAG,GAAG,IA7E7C,oBA6E3B2M,EA7E2B,KA6EjBE,EA7EiB,KA6EJV,EA7EI,OA+EyB1D,mBAASoE,GA/ElC,oBA+E3BY,EA/E2B,KA+ELC,EA/EK,OAgFyBjF,mBAAS0D,GAhFlC,oBAgF3BwB,EAhF2B,KAgFLC,EAhFK,KAkFlClG,qBAAU,kBAAI8F,MAAY,IAC1B9F,qBAAU,WACR,GAAG6F,EAAoB/S,YAAc+S,EAAoBjT,MAAM,CAC7D,IAAMuT,EAAoBhB,EAAYnX,QAAO,SAAAwW,GAC3C,OAAOE,EAAUD,UAAU/B,OAAM,SAAA0D,GAC/B,OAAO5B,EAAUC,UAAU/F,MAAK,SAAA2H,GAAE,OAAIA,EAAGlZ,IAAKiZ,EAAGjZ,YAGrD6Y,EACEG,GAEEA,EAAkBzH,MAAK,SAAA4H,GAAE,OAAIA,EAAGnZ,IAAMuX,EAAUF,UAAUrX,OAC5D8O,EAAW,2BACNyI,GADK,IAERF,UAAW,CACTrX,GAAI,EACJ6V,OAAQ,GACRyB,UAAW,OAIc,GAA5B0B,EAAkB3P,QACnByF,EAAW,2BACNyI,GADK,IAERF,UAAW2B,EAAkB,MAGjC,IAAMF,EAAuBxB,EAAUzW,QAAO,SAAAkM,GAC5C,OAAOiM,EAAkBzH,MAAK,SAAA8F,GAC5B,OAAQE,EAAUD,UAAU/F,MAAK,SAAA0H,GAAE,OAAIA,EAAGjZ,IAAK+M,EAAG/M,OAAOqX,EAAUC,UAAU/F,MAAK,SAAA2H,GAAE,OAAIA,EAAGlZ,IAAM+M,EAAG/M,YAGxG+Y,EAA2BD,MAE5B,CAACvB,EAAUD,UAAWoB,IAGzB7F,qBAAU,WACL2F,EAAcrN,OAASqN,EAAc/S,OACtCgS,GAAW,KAEZ,CAACe,IAEJ,IAgBMY,EAAY,WAChB,IAGI,IAHE1K,EAAM8J,EAAcrN,MAAQqN,EAAcrN,KAAKuD,IACrD,OAAGA,EACMA,EAAM,eAAC4F,GAAD,CAAW5F,IAAKA,EAAKyE,OAAQ,MAAoB,KAGvD,gBAACkG,GAAA,EAAD,CAAOxL,QAAQ,SAAf,UACL,uCAAI2K,EAAcrN,YAAlB,aAAI,EAAoB/F,UACxB,6BAAIiT,KAAKC,UAAL,UAAeE,EAAcrN,YAA7B,aAAe,EAAoBhG,cA8H7C,OA1HAhE,QAAQC,IAAI,YAAamW,GA0HlB,uBAAK9N,UAAU,uEAAf,UACL,wDAzHO,uCACP,gBAAC4C,GAAA,EAAD,CAAMrD,MAAO,CAACsQ,UAAU,GAAIC,aAAa,IAAKjN,SAAUA,EAAxD,UACE,eAACkN,GAAD,CAAiBvD,UAAsC,IAA5BuC,EAAc7S,UAAqBuQ,SAAUqB,EAAUrB,SAAUpJ,SAAU,SAACoJ,GACrGpH,EAAW,2BACNyI,GADK,IAERrB,iBAGJ,4BAAUD,UAAsC,IAA5BuC,EAAc7S,UAAlC,UACE,6CACA,gBAAC0G,GAAA,EAAKI,MAAN,CAAYC,UAAU,SAAtB,UACI,eAACL,GAAA,EAAKM,MAAN,qBACA,gBAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,SAASpM,KAAK,OAAOmM,SAAU+K,EAAgBhL,MAAO0K,EAAUH,OAAOpX,GAAxF,UACE,yBAAQA,GAAG,MACV8X,EAASxO,KAAI,SAAC8N,GACb,OAAO,yBAAwBpX,GAAIb,OAAOiY,EAAOpX,IAAK6M,MAAO1N,OAAOiY,EAAOpX,IAApE,SAA0EoX,EAAOvB,QAApEuB,EAAOpX,gBAKrC,4BAAUiW,UAAsC,IAA5BuC,EAAc7S,UAAlC,UACE,gDACA,gBAACuD,GAAA,EAAD,WACE,iCACE,gCACE,qBAAIF,MAAO,CAACI,MAAM,GAAlB,eACA,yCACA,uCACA,qBAAIJ,MAAO,CAACI,MAAM,UAGtB,mCA5DCmO,EAAUD,UAAUhO,KAAI,SAACuD,EAAO5I,GAAR,OAC7B,gCACE,8BAAKA,EAAM,IACX,8BAAK4I,EAAMgJ,SACX,8BAAKhJ,EAAM6K,OACX,8BAAI,eAAC9J,GAAA,EAAD,CAAQC,QAAQ,OAAO1B,QAAS,WAClC2C,EAAW,2BACNyI,GADK,IAERD,UAAWC,EAAUD,UAAUzW,QAAO,SAAC4Y,EAAGlQ,GAAJ,OAAQtF,GAASsF,SAExDE,UAAU,WALT,SAKoB,eAAC,KAAD,cAoDpB,gCACE,8BAAK8N,EAAUD,UAAUjO,OAAO,IAChC,8BAAI,gBAACgD,GAAA,EAAKO,QAAN,CAAcG,GAAG,SACnBF,MAAO8K,EAAmB3X,GAC1B8M,SAAU,SAACjB,GACX1K,QAAQC,IAAI,4BAA6ByK,EAAE1E,OAAO0F,OAClD+K,EAA0B,2BACrBD,GADoB,IAEvB3X,GAAIgT,SAASnH,EAAE1E,OAAO0F,WANtB,UASF,yBAAQ7M,GAAG,MACV8Y,EAAqBxP,KAAI,SAACiP,GAAD,OACxB,yBAA0BvY,GAAIb,OAAOoZ,EAASvY,IAAK6M,MAAO1N,OAAOoZ,EAASvY,IAA1E,SAAgFuY,EAAS1C,QAA5E0C,EAASvY,YAG1B,8BAAI,eAACqM,GAAA,EAAKO,QAAN,CAAcG,GAAG,WACnBF,MAAO8K,EAAmBD,KAC1B5K,SAAU,SAACjB,GACX+L,EAA0B,2BACrBD,GADoB,IAEvBD,KAAM7L,EAAE1E,OAAO0F,cAGnB,8BAAI,eAACe,GAAA,EAAD,CAAQC,QAAQ,OAAO1B,QAAS,WAClChL,QAAQC,IAAI,mBAAoBuW,GAChC,IAAM+B,EAAkBpC,EAAU/V,MAAK,SAACgX,GAAD,OAAYA,EAASvY,IAAI2X,EAAmB3X,MAChF0Z,IACD5K,EAAW,2BACNyI,GADK,IAERD,UAAU,GAAD,mBAAMC,EAAUD,WAAhB,CAA2B,CAClCtX,GAAI0Z,EAAgB1Z,GACpB6V,OAAQ6D,EAAgB7D,OACxB6B,KAAMC,EAAmBD,WAG7BE,EAA0B,CACxB5X,GAAI,EACJ0X,KAAM,OAGTjO,UAAU,WAjBT,SAiBoB,eAAC,KAAD,oBAKhC,4BAAUwM,UAAsC,IAA5BuC,EAAc7S,UAAlC,UACE,gDACA,gBAAC0G,GAAA,EAAKI,MAAN,CAAYC,UAAU,SAAtB,UACI,eAACL,GAAA,EAAKM,MAAN,qBACA,gBAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,SAASpM,KAAK,OAAOmM,SAAUiL,EAAmBlL,MAAO0K,EAAUF,UAAUrX,GAA9F,UACE,yBAAQA,GAAG,MACV4Y,EAAqBtP,KAAI,SAAC+N,GAAD,OACxB,yBAA2BrX,GAAIb,OAAOkY,EAAUrX,IAAK6M,MAAO1N,OAAOkY,EAAUrX,IAA7E,SAAmFqX,EAAUxB,QAAhFwB,EAAUrX,gBAKjC,gBAAC4N,GAAA,EAAD,CAAQC,QAAQ,UAAUlN,KAAK,SAA/B,WAC+B,IAA5B6X,EAAc7S,WAAuB,eAACgU,GAAA,EAAD,CAASC,UAAU,SAASxT,KAAK,OADzE,iBAIF,gBAACgH,GAAA,EAAD,CACEvL,KAAM2V,EACNlK,OAAQ,WACNnM,QAAQC,IAAI,WACZqW,GAAW,IAEbrR,KAAK,KACLyT,kBAAgB,gCAChBxM,UAAQ,EARV,UAUE,eAACD,GAAA,EAAMG,OAAP,CAAcC,aAAW,EAAzB,SACE,eAACJ,GAAA,EAAMK,MAAP,CAAazN,GAAG,gCAAhB,yBAIF,eAACoN,GAAA,EAAMM,KAAP,UACE0L,YAYJ,gBAAChM,GAAA,EAAD,CACEvL,MAAO6W,EAAoB/S,UAC3BS,KAAK,KACLyT,kBAAgB,gCAChBxM,UAAQ,EAJV,UAME,eAACD,GAAA,EAAMG,OAAP,UACE,eAACH,GAAA,EAAMK,MAAP,CAAazN,GAAG,gCAAhB,wBAIF,eAACoN,GAAA,EAAMM,KAAP,UACE,eAACiM,GAAA,EAAD,CAASC,UAAU,oBCjVZ,cACb,IAAMlT,EAAcqC,aAAY,SAACtI,GAAD,OAAaA,EAAMqH,KAAKpB,eADvC,EAEK6H,eAARG,GAFG,EAETD,KAFS,EAEHC,KAEd,OAAO,uBAAKjF,UAAW,iDAAmD/C,EAAc,GAAK,YAAc1G,GAAG,UAAvG,UACH,eAAC,GAAD,CAASyJ,UAAU,sBAAsBT,MAAO,CAACmK,OAAQ,WAAYvD,MAAO,CAC1E,CACE5P,GAAI,SACJyO,KAAK,GAAD,OAAKC,EAAL,cACJxE,MAAO,aAET,CACElK,GAAI,YACJyO,KAAK,GAAD,OAAKC,EAAL,mBACJxE,MAAO,qBAGb,eAACoG,GAAA,EAAD,CAAW7G,UAAU,iCAAiCT,MAAO,CAACuH,SAAU,QAAxE,SACE,eAACuJ,GAAD,UCvBOC,GAAW,SAACtZ,GAAD,OAAgCA,EAAMoH,IAAI5F,SAAS6D,OAC9DkU,GAAqB,SAACvZ,GAAD,OAAgCA,EAAMoH,IAAI3F,GAAG+D,iBAClEgU,GAAiB,SAACxZ,GAAD,OAAgCA,EAAMoH,IAAI3F,GAAGmE,a,yCCArE6T,GAAYC,KAAMC,OAAO,CAC7B,QAAW/D,KACX,QAAW,MAGb6D,GAAUG,SAASC,iBAAkB,EAErCJ,GAAUK,aAAa9E,QAAQ+E,KAAI,SAAAC,GAUjC,OARAA,EAAOC,iBAAmB,SAAAC,GAExB,OAAOC,KAAGtC,UAAUqC,EAAQ,CAC1BE,YAAa,WACbC,QAAQ,KAILL,KAGMP,UCrBFa,GACF,SAACC,EAGPna,GAKD,OAAOqZ,GAAUe,IAAI,SAAU,CAC7BN,OAAQ,CACNK,OACAna,YAGH6U,OAAM,SAAA7J,GAEL,MADA1K,QAAQsE,MAAM,gBAAiBoG,EAAEzG,QAASyG,EAAEqP,KAAMrP,EAAEqJ,UAC9CrJ,M,UCbG,cAAK,IAAD,EACUsP,eAApBC,EADU,EACVA,SAAUC,EADA,EACAA,OADA,GAEAzQ,cACc7B,YAAYiR,KAApC9T,EAHU,EAGVA,MAAOC,EAHG,EAGHA,QAASC,EAHN,EAGMA,KACjBkV,EAAe5J,mBAAQ,kBAAIkJ,KAAGW,MAAMF,EAAOG,OAAO,MAAK,CAACH,IAC/CC,EAARN,KA2BP7Z,QAAQC,IAAI8E,EAAOC,EAASC,GAI5B,IAHA,IAAMqV,EAAY,GACZC,EAAY3M,KAAK4M,IAAI,EAAGxV,EAAU,GAClCyV,EAAW7M,KAAK8M,IAAI9M,KAAK+M,OAAO5V,EAAME,GAAMA,GAAM,EAAGsV,EAAU,IAC7DnS,EAAImS,EAAWnS,GAAKqS,EAAUrS,IACjCpD,GAAWoD,EACZkS,EAAUrJ,KAAK,eAAC2J,GAAA,EAAWrL,KAAZ,CAAyBnL,QAAQ,EAAjC,SAAwCgE,GAAlBA,IAErCkS,EAAUrJ,KAAK,eAAC2J,GAAA,EAAWrL,KAAZ,CAAyB3D,GAAIiP,KAAMrL,KAAI,UAAKyK,EAAL,YAAiBR,KAAGtC,UAAH,2BAAiBgD,GAAjB,IAA+BN,KAAM,CAAC7U,QAASoD,EAAGnD,UAAQ,CAAEyU,YAAa,WAAYC,QAAQ,KAAWrL,GAAE,UAAK2L,EAAL,YAAiBR,KAAGtC,UAAH,2BAAiBgD,GAAjB,IAA+BN,KAAM,CAAC7U,QAASoD,EAAGnD,UAAQ,CAAEyU,YAAa,WAAYC,QAAQ,KAAhR,SAA4RvR,GAAtQA,IAGzC,OAAO,gBAACwS,GAAA,EAAD,WACJ5V,EAAU,EAAI,EAAI,eAAC4V,GAAA,EAAWE,MAAZ,CAAkBlP,GAAIiP,KACvCrL,KAAI,UAAKyK,EAAL,YAAiBR,KAAGtC,UAAH,2BAAiBgD,GAAjB,IAA+BN,KAAM,CAAC7U,QAAS,EAAGC,UAAQ,CAAEyU,YAAa,WAAYC,QAAQ,KAElHrL,GAAE,UAAK2L,EAAL,YAAiBR,KAAGtC,UAAH,2BAAiBgD,GAAjB,IAA+BN,KAAM,CAAC7U,QAAS,EAAGC,UAAQ,CAAEyU,YAAa,WAAYC,QAAQ,OAAgB,KACjI3U,EAAU,EAAI,eAAC4V,GAAA,EAAWG,KAAZ,CAAiBnP,GAAIiP,KAClCrL,KAAI,UAAKyK,EAAL,YAAiBR,KAAGtC,UAAH,2BAAiBgD,GAAjB,IAA+BN,KAAM,CAAC7U,QAASA,EAAU,EAAGC,UAAQ,CAAEyU,YAAa,WAAYC,QAAQ,KAE5HrL,GAAE,UAAK2L,EAAL,YAAiBR,KAAGtC,UAAH,2BAAiBgD,GAAjB,IAA+BN,KAAM,CAAC7U,QAASA,EAAU,EAAGC,UAAQ,CAAEyU,YAAa,WAAYC,QAAQ,OAAgB,KAE3IW,EAEAtV,GAAWD,EAAME,GAAMA,EAAO,EAAI,eAAC2V,GAAA,EAAWI,KAAZ,CAAiBpP,GAAIiP,KACtDrL,KAAI,UAAKyK,EAAL,YAAiBR,KAAGtC,UAAH,2BAAiBgD,GAAjB,IAA+BN,KAAM,CAAC7U,QAASA,EAAU,EAAGC,UAAQ,CAAEyU,YAAa,WAAYC,QAAQ,KAE5HrL,GAAE,UAAK2L,EAAL,YAAiBR,KAAGtC,UAAH,2BAAiBgD,GAAjB,IAA+BN,KAAM,CAAC7U,QAASA,EAAU,EAAGC,UAAQ,CAAEyU,YAAa,WAAYC,QAAQ,OAAgB,KAC3I3U,EAAU,GAAKD,EAAME,GAAMA,EAAO,EAAI,eAAC2V,GAAA,EAAWK,KAAZ,CAAiBrP,GAAIiP,KAC1DrL,KAAI,UAAKyK,EAAL,YAAiBR,KAAGtC,UAAH,2BAAiBgD,GAAjB,IAA+BN,KAAM,CAAC7U,SAAUD,EAAME,GAAMA,EAAO,EAAGA,UAAQ,CAAEyU,YAAa,WAAYC,QAAQ,KAEtIrL,GAAE,UAAK2L,EAAL,YAAiBR,KAAGtC,UAAH,2BAAiBgD,GAAjB,IAA+BN,KAAM,CAAC7U,SAAUD,EAAME,GAAMA,EAAO,EAAGA,UAAQ,CAAEyU,YAAa,WAAYC,QAAQ,OAAgB,SC9D3I,YAAC9P,GACd,IAAML,EAAWC,cADY,EAEDgJ,mBAAS,CACnC3O,SAAU,GACVM,OAAQ,KAJmB,oBAEtB7D,EAFsB,KAEd2a,EAFc,KAO7B,OAAO,eAAChQ,GAAA,EAAD,2BAAUrB,GAAV,IAAiBsB,SAAU,SAACT,GACjCA,EAAEU,iBACF5B,EAAS,CACPhK,KAAM,sBACNC,QAAS,CACPqE,SAAUvD,EAAOuD,eAAYoG,EAC7B9F,OAAQ7D,EAAO6D,OAASyN,SAAStR,EAAO6D,aAAU8F,KAGtDL,EAAMsB,UAAYtB,EAAMsB,SAAST,IAT5B,SAWL,gBAACQ,GAAA,EAAK6C,IAAN,WACE,gBAACC,GAAA,EAAD,WACE,eAAC9C,GAAA,EAAKM,MAAN,CAAY2P,QAAQ,kBAAkBC,QAAM,EAA5C,qBAGA,eAAClQ,GAAA,EAAKO,QAAN,CACEnD,UAAU,OACVzJ,GAAG,kBACH6M,MAAOnL,EAAOuD,SACd6H,SAAU,SAACjB,GACT,IAAMgB,EAAQhB,EAAE1E,OAAO0F,MACvBwP,GAAU,SAAA3a,GAAM,kCACXA,GADW,IAEduD,SAAU4H,QAGdkH,YAAY,eAGhB,gBAAC5E,GAAA,EAAD,WACE,eAAC9C,GAAA,EAAKM,MAAN,CAAY2P,QAAQ,gBAAgBC,QAAM,EAA1C,oBAGA,gBAAClQ,GAAA,EAAKO,QAAN,CACEG,GAAG,SACHtD,UAAU,OACVzJ,GAAG,gBACH6M,MAAOnL,EAAO6D,OACduH,SAAU,SAACjB,GACT,IAAMgB,EAAQhB,EAAE1E,OAAO0F,MACvBwP,GAAU,SAAA3a,GAAM,kCACXA,GADW,IAEd6D,OAAQsH,QATd,UAaE,yBAAQA,MAAM,GAAd,6BACA,yBAAQA,MAAM,IAAd,oBACA,yBAAQA,MAAM,IAAd,4BAGJ,eAACsC,GAAA,EAAD,CAAKG,GAAG,OAAR,SACE,eAAC1B,GAAA,EAAD,CAAQjN,KAAK,SAAb,8BCtDO,cACb,IAAMgK,EAAWC,cADA,EAEwBuQ,eAFxB,KAETE,OAFS,EAED5a,MACM8N,gBAHL,KAGTG,IAHS,EAGJD,KACiCmF,oBAAS,IAJtC,oBAIV4I,EAJU,KAIUC,EAJV,KAKX3W,EAAQiD,YAAYgR,IALT,EAMOhR,YAAYiR,IAA7B7T,EANU,EAMVA,QAASC,EANC,EAMDA,KACVvF,EAASkI,YAAYkR,IAuD3B,OAlBApH,qBAAU,WACR6J,SAASxS,MAAQ,aAChB,IAEH2I,qBAAU,WACR1R,QAAQC,IAAI,GAETP,GACHka,GAAc,CAAC5U,UAASC,QAAOvF,GAC9B8b,MAAK,YAAW,IAATxR,EAAQ,EAARA,KACNR,EAAS,CACPhK,KAAM,uBACNC,QAASuK,IAEXhK,QAAQC,IAAI+J,QAEb,CAAChF,EAASC,EAAMvF,IAEZ,uBAAKmI,MAAO,CAACgF,SAAU,KAAMvE,UAAU,uEAAvC,UACL,qBAAIT,MAAO,CAACC,SAAU,QAAtB,sBACA,gBAACiG,GAAA,EAAD,CAAKzF,UAAU,sBAAf,UACE,eAAC0F,GAAA,EAAD,CAAK1F,UAAW,OAAQ6F,GAAG,OAA3B,SACE,eAAC1B,GAAA,EAAD,CAAQnE,UAAU,OAAO0C,QAAS,WAChCsQ,GAAgB,SAAAG,GAAO,OAAGA,MAD5B,SAEG,eAAC,KAAD,QAEL,eAACzN,GAAA,EAAD,CAAKG,GAAG,OAAR,SACE,eAAC1B,GAAA,EAAD,CAAQnE,UAAU,OAAO0C,QAAS,aAAlC,SAEG,eAAC,KAAD,WAGP,eAAC0Q,GAAD,CAAapT,UAAW,QAAU+S,EAAqB,GAAK,WAAYlQ,SAAU,kBAAImQ,GAAgB,MACtG,gBAACvT,GAAA,EAAD,CAAOC,YAAU,EAACM,UAAU,oBAA5B,UACE,iCACE,gCACE,qBAAIT,MAAO,CAACI,MAAO,GAAnB,eACA,oDACA,qBAAIJ,MAAO,CAACI,MAAO,QAAnB,oBACA,qBAAIJ,MAAO,CAACI,MAAO,UAGvB,iCACGtD,EAAMwD,KAAI,SAACxI,EAAGyI,GACb,OAAO,gCACL,qBAAIC,MAAM,MAAV,SACGD,EAAE,IAEL,8BAAKzI,EAAEmE,WACP,qBAAIwE,UAAW3I,EAAEyE,OAAS,aAAe,YAAzC,SAAsD,uBAAMkE,UAAU,aAAhB,SAA8B3I,EAAEyE,OAAS,SAAW,eAC1G,8BACE,sBAAKkE,UAAU,SAAf,SACE,eAACmE,GAAA,EAAD,CAAQnE,UAAU,WAAWoE,QAAQ,OAArC,SAA6C,eAAC,KAAD,YARnC/M,EAAEd,YAgBxB,sBAAKyJ,UAAU,4BAAf,SACE,eAACqT,GAAD,UC/GS,cAsBb,OAAO,MCvBM,cACIlS,cAAjB,IADmB,EAEI+H,eAFJ,EAEXjS,OAFW,EAEHV,GAIhB,OAAO,M,oBCRM+c,ICDA,YAAC/R,GAGd,OAAO,gBAACqB,GAAA,EAAD,WACL,gBAACA,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,GAAI,EAAGC,GAAI,EAAhC,UACE,eAAChD,GAAA,EAAKM,MAAN,qCACA,eAACN,GAAA,EAAKO,QAAN,OAEF,gBAACP,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,GAAI,EAAGC,GAAI,EAAhC,UACE,eAAChD,GAAA,EAAKM,MAAN,0BACA,eAACN,GAAA,EAAKO,QAAN,OAEF,gBAACP,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKC,GAAI,EAAGC,GAAI,EAAhC,UACE,eAAChD,GAAA,EAAKM,MAAN,0BACA,gBAACN,GAAA,EAAKO,QAAN,CAAcG,GAAG,SAASF,MAAM,GAAhC,UACE,yBAAQoJ,UAAQ,EAACpJ,MAAM,KACvB,yBAAQA,MAAM,KAAd,kBACA,yBAAQA,MAAM,KAAd,wBACA,yBAAQA,MAAM,KAAd,wBACA,yBAAQA,MAAM,KAAd,oBACA,yBAAQA,MAAM,KAAd,mBACA,yBAAQA,MAAM,KAAd,mBACA,yBAAQA,MAAM,KAAd,uBACA,yBAAQA,MAAM,KAAd,oBACA,yBAAQA,MAAM,KAAd,iCAIN,eAACR,GAAA,EAAK6C,IAAN,UACE,eAACC,GAAA,EAAD,CAAK1F,UAAU,OAAf,SACE,eAACmE,GAAA,EAAD,yBAGJ,gBAACvB,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAK6N,GAAI,EAAzB,UACE,eAAC3Q,GAAA,EAAKM,MAAN,sBACA,eAACN,GAAA,EAAKO,QAAN,OAEF,gBAACP,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAK6N,GAAI,EAAzB,UACE,eAAC3Q,GAAA,EAAKM,MAAN,8BACA,eAACN,GAAA,EAAKO,QAAN,OAEF,gBAACP,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAK6N,GAAI,EAAzB,UACE,eAAC3Q,GAAA,EAAKM,MAAN,+BACA,eAACN,GAAA,EAAKO,QAAN,UAGJ,gBAACP,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKE,GAAI,EAAzB,UACE,eAAChD,GAAA,EAAKM,MAAN,kCACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,YAErB,gBAAC0L,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKG,GAAI,EAAGD,GAAI,EAAhC,UACE,eAAChD,GAAA,EAAKM,MAAN,qBACA,eAACN,GAAA,EAAKO,QAAN,OAEF,gBAACP,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKG,GAAI,EAAGD,GAAI,EAAhC,UACE,eAAChD,GAAA,EAAKM,MAAN,2BACA,eAACN,GAAA,EAAKO,QAAN,UAGJ,eAACP,GAAA,EAAK6C,IAAN,UACE,eAACC,GAAA,EAAD,CAAK1F,UAAU,OAAf,SACE,eAACmE,GAAA,EAAD,CAAQjN,KAAK,SAAb,+BChEO,YAACqK,GACd,OAAO,gBAACqB,GAAA,EAAD,WACL,gBAACA,GAAA,EAAK6C,IAAN,WACE,gBAAC7C,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKE,GAAI,EAAzB,UACE,eAAChD,GAAA,EAAKM,MAAN,uBACA,eAACN,GAAA,EAAKO,QAAN,OAEF,gBAACP,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKE,GAAI,EAAzB,UACE,eAAChD,GAAA,EAAKM,MAAN,4BACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,gBAErB,gBAAC0L,GAAA,EAAKI,MAAN,CAAYM,GAAIoC,KAAKE,GAAI,EAAzB,UACE,eAAChD,GAAA,EAAKM,MAAN,oCACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,mBAGvB,eAAC0L,GAAA,EAAK6C,IAAN,UACE,eAACC,GAAA,EAAD,UACE,eAACvB,GAAA,EAAD,CAAQjN,KAAK,SAAb,+BCdO,cACIiK,cAAjB,IADmB,EAEegJ,mBAAS,KAFxB,oBAEZqJ,EAFY,KAEDC,EAFC,OAGatJ,mBAAwB,MAHrC,oBAGFuJ,GAHE,WAKnB,OAAO,uBAAK1T,UAAU,uEAAf,UACL,qBAAIT,MAAO,CAACC,SAAU,QAAtB,sBACA,gBAACmU,GAAA,EAAD,CAAWH,UAAWA,EAAtB,UACE,gBAACI,GAAA,EAAD,WACE,eAACD,GAAA,EAAUE,OAAX,CAAkBvQ,GAAIsQ,KAAK9P,OAAQ9D,UAAU,wBAAwBgJ,SAAS,IAA9E,qCAGA,eAAC2K,GAAA,EAAUG,SAAX,CAAoB9K,SAAS,IAA7B,SACE,eAAC4K,GAAA,EAAK3P,KAAN,UACE,eAAC8P,GAAD,CAAkBC,WAAY,SAACC,GAC7BR,EAAa,KACbC,EAAYO,aAKpB,gBAACL,GAAA,EAAD,WACE,eAACD,GAAA,EAAUE,OAAX,CAAkBvQ,GAAIsQ,KAAK9P,OAAQ9D,UAAU,wBAAwBgJ,SAAS,IAA9E,uCAGA,eAAC2K,GAAA,EAAUG,SAAX,CAAoB9K,SAAS,IAA7B,SACE,eAAC4K,GAAA,EAAK3P,KAAN,UACE,eAACiQ,GAAD,CAAcrR,SAAU,6BCmCrBsR,GAlDO,WAAK,IAAD,EACFrP,eAARG,GADU,EAChBD,KADgB,EACVC,KACd,OAAO,gBAAC,GAAD,CAAe2B,QAAS,CAC7BT,MAAO,CACL,CACE5P,GAAI,QACJmK,KAAM,eAAC,KAAD,IACNsE,KAAK,GAAD,OAAKC,EAAL,aACJxE,MAAO,YAUT,CACElK,GAAI,QACJmK,KAAM,eAAC,KAAD,IACNsE,KAAK,GAAD,OAAKC,EAAL,UACJxE,MAAO,WApBN,UAwBL,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOmJ,OAAK,EAAC5E,KAAI,UAAKC,GAAtB,SACE,eAAC,KAAD,CAAUe,GAAE,UAAKf,EAAL,iBAEd,eAAC,KAAD,CAAO2E,OAAK,EAAC5E,KAAI,UAAKC,EAAL,aAAjB,SACE,eAACmP,GAAD,MAEF,eAAC,KAAD,CAAOxK,OAAK,EAAC5E,KAAI,UAAKC,EAAL,uBAAjB,SACE,eAACoP,GAAD,MAEF,eAAC,KAAD,CAAOrP,KAAI,UAAKC,EAAL,UAAX,SACE,eAACqP,GAAD,SAIJ,eAAC,KAAD,CAAO1K,OAAK,EAAC5E,KAAI,UAAKC,EAAL,yBAAjB,SACE,eAACsP,GAAD,MAEF,eAAC,KAAD,CAAO3K,OAAK,EAAC5E,KAAI,UAAKC,EAAL,8BAAjB,SACE,eAACsP,GAAD,UChEOC,GAAU,SAACxd,GAAD,OAAaA,EAAMsH,KAAKzC,MAElC4Y,GAAgB,SAACzd,GAAD,OAAaA,EAAMsH,KAAKnC,OACxCuY,GAAe,SAAC1d,GAAD,OAAaA,EAAMsH,KAAKlC,WACvCuY,GAAqB,SAAC3d,GAAD,OAAgC,MAAnBA,EAAMsH,KAAKzC,MCI7C+Y,I,OAAQ,WACnB,IAAM1T,EAAWC,cACVnK,EAAS0a,eAAT1a,MACD6d,EAAkBvV,YAAYqV,IAHX,EAISrV,YAAYoV,IAAvCzc,EAJkB,EAIlBA,OAAQ0D,EAJU,EAIVA,QAASD,EAJC,EAIDA,OACNoZ,EAAkBxV,YAAYmV,IAAzCvY,UAEP,OAAO2Y,EACL,eAAC,KAAD,CAAU7O,IAAS,OAALhP,QAAK,IAALA,OAAA,EAAAA,EAAO+d,OAAQ,MAC7B,sBAAK/U,UAAU,wBAAf,SACE,sBAAKA,UAAU,uBAAf,SACE,gBAAC4C,GAAA,EAAD,CAAMC,SAAU,SAACT,GACfA,EAAEU,iBACF5B,EAAS,CACPhK,KAAM,UAERuZ,GAAUe,IAAI,wBAAwB0B,MAAK,SAAAzH,GACzCgF,GAAUuE,KAAK,SAAU,CACrBxZ,SAAUvD,EAAOuD,SACjBC,SAAUxD,EAAOwD,WAClByX,MAAK,YAAqB,IAAnBxR,EAAkB,EAAlBA,KAAkB,EAAZuT,OACdC,aAAaC,QAAQ,OAAQvG,KAAKC,UAAUnN,IAC5CR,EAAS,CACPhK,KAAM,kBACNC,QAASuK,EACT1F,OAAO,OAER,SAACA,GACFkF,EAAS,CACPhK,KAAM,kBACNC,QAAS6E,EAAMyP,SAAS/J,KACxB1F,OAAO,WApBf,UAyBE,qBAAIgE,UAAU,mBAAmBT,MAAO,CAAEC,SAAU,WAApD,gDACC7D,EAAU,eAACiU,GAAA,EAAD,CAAOxL,QAAQ,SAAf,SAA0BzI,IAAoB,KACzD,gBAACiH,GAAA,EAAKI,MAAN,WACE,eAACJ,GAAA,EAAKM,MAAN,sBACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,OAAOkM,MAAOnL,EAAOuD,SACtC4R,YAAa1R,EAAOF,SACpB6H,SAAU,SAACjB,GACT,IAAMgB,EAAQhB,EAAE1E,OAAO0F,MACvBlC,EAAS,CACPhK,KAAM,oBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,IAEJuD,SAAU4H,IAEZ1H,OAAO,2BACFA,GADC,IAEJF,SAAU,WAMpB,eAACoH,GAAA,EAAKwS,KAAN,CAAWpV,UAAU,cAArB,SAAqCtE,EAAOF,cAE9C,gBAACoH,GAAA,EAAKI,MAAN,WACE,eAACJ,GAAA,EAAKM,MAAN,4BACA,eAACN,GAAA,EAAKO,QAAN,CAAcjM,KAAK,WAAWkM,MAAOnL,EAAOwD,SAC1C2R,YAAa1R,EAAOD,SACpB4H,SAAU,SAACjB,GACT,IAAMgB,EAAQhB,EAAE1E,OAAO0F,MACvBlC,EAAS,CACPhK,KAAM,oBACNC,QAAS,CACPc,OAAO,2BACFA,GADC,IAEJwD,SAAU2H,IAEZ1H,OAAO,2BACFA,GADC,IAEJD,SAAU,WAMpB,eAACmH,GAAA,EAAKwS,KAAN,CAAWpV,UAAU,cAArB,SAAqCtE,EAAOD,cAU9C,gBAAC0I,GAAA,EAAD,CAAQjN,KAAK,SAAS8I,UAAU,4BAAhC,WACsB,IAAnB8U,EAA2B,eAAC5E,GAAA,EAAD,CAASvT,KAAK,KAAKwT,UAAU,WAAc,KACvE,uBAAMnQ,UAAU,oBAAhB,2CC9FCqV,GAAiB,SAAC,GAAkC,IAAhCzU,EAA+B,EAA/BA,SAAauM,EAAkB,6BACxD0H,EAAkBvV,YAAYqV,IACpC,OACE,eAAC,KAAD,2BACMxH,GADN,IAEEmI,OAAQ,gBAAGhM,EAAH,EAAGA,SAAH,OACNuL,EACEjU,EAEA,eAAC,KAAD,CACEoF,GAAI,CACF2L,SAAU,SACV3a,MAAO,CAAE+d,KAAMzL,WCAd,I,cAAA,WACb,IAAMpI,EAAWC,cACXtF,EAAOyD,YAAYkV,IAqCzB,OA1BApL,qBAAU,cAwBP,IAEI,gBAAC,KAAD,WACL,gBAACmM,GAAA,EAAD,CAAQvV,UAAU,0BAA0BwV,GAAG,QAAQpR,QAAQ,QAAQ7E,MAAO,CAACkW,OAAQ,GAAvF,UACG5Z,EAAO,eAAC0Z,GAAA,EAAO1B,OAAR,CAAetU,MAAO,CAACmW,QAAS,WAAYhT,QAnClC,WAEpBxB,EAAS,CACPhK,KAAK,oBAgCG,SAAqE,eAAC,KAAD,MAA6B,KAC1G,eAACqe,GAAA,EAAOI,MAAR,CAAczO,KAAK,QAAQlH,UAAU,OAArC,2BACA,gBAAC4V,GAAA,EAAD,CAAK5V,UAAU,UAAf,UACE,eAAC6V,GAAA,EAAD,CACEC,QAAQ,QACRC,WAAS,EACTC,UAAU,SACVC,QACE,gBAACC,GAAA,EAAD,CAAS3f,GAAG,OAAOgJ,MAAO,CAAC4W,SAAU,QAArC,UACE,eAACD,GAAA,EAAQlS,MAAT,CAAehE,UAAU,cAAcsD,GAAG,KAA1C,0BACA,gBAAC4S,GAAA,EAAQpN,QAAT,WACE,gBAACrD,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAK1F,UAAU,cAAf,SAA6B,gBAAC,KAAD,CAAMgG,GAAG,QAAT,UAAkB,eAAC,KAAD,CAAiBhG,UAAU,kBAAkBrD,KAAM,KAAM,0DACxG,eAAC+I,GAAA,EAAD,CAAK1F,UAAU,cAAf,SAA6B,gBAAC,KAAD,CAAMgG,GAAG,eAAT,UAAyB,eAAC,KAAD,CAAiBhG,UAAU,kBAAmBrD,KAAM,KAAM,qDAChH,eAAC+I,GAAA,EAAD,CAAK1F,UAAU,cAAf,SAA6B,gBAAC,KAAD,CAAMgG,GAAG,iBAAT,UAAuB,eAAC,KAAD,CAAiBhG,UAAU,kBAAkBrD,KAAM,KAAM,yDAE/G,gBAAC8I,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,CAAK1F,UAAU,cAAf,SAA6B,gBAAC,KAAD,CAAMgG,GAAG,OAAT,UAAgB,eAAC,KAAD,CAAchG,UAAU,kBAAkBrD,KAAM,KAAM,6CACnG,gBAAC+I,GAAA,EAAD,CAAK1F,UAAU,cAAf,UAA6B,eAAC,KAAD,CAAiBA,UAAU,kBAAkBrD,KAAM,KAAM,uBAAM4C,MAAO,CAAC6W,WAAY,UAA1B,yBACtF,gBAAC1Q,GAAA,EAAD,CAAK1F,UAAU,cAAf,UAA6B,eAAC,KAAD,CAAiBrD,KAAM,KAAM,uBAAM4C,MAAO,CAAC6W,WAAY,UAA1B,4BAE5D,gBAAC3Q,GAAA,EAAD,WACE,gBAACC,GAAA,EAAD,CAAK1F,UAAU,cAAf,UAA6B,eAAC,KAAD,CAAiBA,UAAU,kBAAkBrD,KAAM,KAAM,uBAAM4C,MAAO,CAAC6W,WAAY,UAA1B,yBACtF,gBAAC1Q,GAAA,EAAD,CAAK1F,UAAU,cAAf,UAA6B,eAAC,KAAD,CAAiBA,UAAU,kBAAkBrD,KAAM,KAAM,uBAAM4C,MAAO,CAAC6W,WAAY,UAA1B,yBACtF,gBAAC1Q,GAAA,EAAD,CAAK1F,UAAU,cAAf,UAA6B,eAAC,KAAD,CAAiBA,UAAU,kBAAkBrD,KAAM,KAAM,uBAAM4C,MAAO,CAAC6W,WAAY,UAA1B,kCArBhG,SA2BE,eAACR,GAAA,EAAIrD,KAAL,UAAU,eAAC,KAAD,CAAQ5V,KAAK,cAExBd,EAAO,eAACga,GAAA,EAAD,CACNC,QAAQ,QACRC,WAAS,EACTC,UAAU,SACVC,QACE,gBAACC,GAAA,EAAD,CAAS3f,GAAG,OAAZ,UACE,eAAC2f,GAAA,EAAQlS,MAAT,CAAehE,UAAU,cAAcsD,GAAG,KAA1C,4BACA,eAAC4S,GAAA,EAAQpN,QAAT,OAPE,SAaN,gBAAC8M,GAAA,EAAIrD,KAAL,CAAUhT,MAAO,CAAC6W,WAAY,UAA9B,UACE,eAAC,KAAD,IAEA,sBAAKpW,UAAU,kBAAkBT,MAAO,CACtCkH,KAAM,UACN4P,IAAK,WACL1W,MAAO,SACP+J,OAAQ,SACR4M,aAAc,cAGA,KACnBza,EAAO,gBAAC0a,GAAA,EAAD,CAAa9V,MAAO,uCAAE,eAAC,KAAD,IAAgB,uBAAMT,UAAU,0BAAhB,SAA2CnE,EAAKL,cAAqBgb,UAAU,QAAQjgB,GAAG,0BAAhI,UACN,eAACggB,GAAA,EAAYtP,KAAb,CAAkBC,KAAK,cAAvB,oBACA,eAACqP,GAAA,EAAYtP,KAAb,CAAkBC,KAAK,cAAvB,2BACA,eAACqP,GAAA,EAAYE,QAAb,IACA,eAACF,GAAA,EAAYtP,KAAb,CAAkB3D,GAAIa,KAAQnE,UAAU,WAAxC,iCACe,eAAC4V,GAAA,EAAIrD,KAAL,CAAUjP,GAAIiP,KAAMvM,GAAG,SAAvB,qCAKjB,gBAAC,KAAD,WACE,eAAC,GAAD,CAAgBhB,KAAK,OAArB,SACE,eAAC,GAAD,MAEF,eAAC,GAAD,CAAgBA,KAAK,QAArB,SACE,eAAC,GAAD,MAEF,eAAC,GAAD,CAAgBA,KAAK,eAArB,SACE,eAAC0R,GAAD,MAEF,eAAC,KAAD,CAAO9M,OAAK,EAAC5E,KAAK,SAAlB,SACE,eAAC,GAAD,SAhFH,U,OClDT2R,IAASrB,OAEL,eAAC,IAAD,CAAU7W,MAAOA,GAAjB,SACE,eAAC,GAAD,MAIJwU,SAAS2D,eAAe,U","file":"static/js/main.5faa0076.chunk.js","sourcesContent":["/**\r\n * String.prototype.replaceAll() polyfill\r\n * https://gomakethings.com/how-to-replace-a-section-of-a-string-with-another-one-with-vanilla-js/\r\n * @author Chris Ferdinandi\r\n * @license MIT\r\n */\r\nif (!String.prototype.replaceAll) {\r\n\tString.prototype.replaceAll = function(str, newStr){\r\n\r\n\t\t// If a regex pattern\r\n\t\tif (Object.prototype.toString.call(str).toLowerCase() === '[object regexp]') {\r\n\t\t\treturn this.replace(str, newStr);\r\n\t\t}\r\n\r\n\t\t// If a string\r\n\t\treturn this.replace(new RegExp(str, 'g'), newStr);\r\n\r\n\t};\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport { Job, OrganizationAwareState, Unit } from \"../state\";\r\n\r\nconst initialUnits = [\r\n  {\r\n    id: \"1\",\r\n    name: \"Unidad de Finanzas\",\r\n    parentId: null,\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"Unidad de Mercadeo\",\r\n    parentId: null,\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\r\n  },\r\n  {\r\n    id: \"3\",\r\n    name: \"Unidad de RRHH\",\r\n    parentId: null,\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\r\n  },\r\n  {\r\n    id: \"4\",\r\n    name: \"Unidad de Contabilidad\",\r\n    parentId: \"1\",\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\r\n  }\r\n]\r\nexport const units = (state: Unit[] = initialUnits, action: any): Unit[]=>{\r\n  if(action.type == \"ADD_UNIT\"){\r\n    return [\r\n      ...state,\r\n      action.payload\r\n    ]\r\n  }\r\n  else if(action.type == \"EDIT_UNIT\"){\r\n    return [\r\n      ...state.filter(u=>u.id != action.payload.id),\r\n      action.payload\r\n    ].sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)\r\n  }\r\n  else if(action.type == \"DELETE_UNIT\"){\r\n    return state.filter(u=>u.id != action.payload)\r\n  }\r\n  return state\r\n}\r\n\r\n\r\nconst initialJobs = [\r\n  {\r\n    id: \"1\",\r\n    name: \"Gerente Financiero\",\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\r\n    unitId: \"1\",\r\n    isManager: true\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"Secretearia I\",\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\r\n    unitId: \"1\",\r\n    isManager: false\r\n  },\r\n  {\r\n    id: \"3\",\r\n    name: \"Contador\",\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\r\n    unitId: \"4\",\r\n    isManager: false\r\n  },\r\n  {\r\n    id: \"4\",\r\n    name: \"Gerente de marketing\",\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\r\n    unitId: \"2\",\r\n    isManager: true\r\n  },\r\n  {\r\n    id: \"5\",\r\n    name: \"Gerente de rrhh\",\r\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\r\n    unitId: \"3\",\r\n    isManager: true\r\n  }\r\n]\r\nexport const jobs = (state: Job[] = initialJobs, action: any): Job[] => {\r\n  if(action.type == \"ADD_JOB\"){\r\n    console.log(action)\r\n    let currentState = state\r\n    if(action.payload.isManager){\r\n      const currentManager = currentState.find(j=>j.isManager && j.unitId == action.payload.unitId)\r\n      if(currentManager){\r\n        currentState = currentState.filter(j=>j.id != currentManager.id)\r\n        return [\r\n          ...currentState,\r\n          {...currentManager, isManager: false},\r\n          action.payload\r\n        ]\r\n      }\r\n    }\r\n    return [\r\n      ...state,\r\n      action.payload\r\n    ]\r\n  }\r\n  else if(action.type == \"EDIT_JOB\"){\r\n    return [\r\n      ...state.filter(u=>u.id != action.payload.id),\r\n      action.payload\r\n    ].sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)\r\n  }\r\n  else if(action.type == \"DELETE_JOB\"){\r\n    return state.filter(u=>u.id != action.payload)\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  units,\r\n  jobs\r\n})","\r\ntype UnitForm = {\r\n  fields: {\r\n    id: string | null,\r\n    name: string,\r\n    description: string,\r\n    parentId: string | null\r\n  }\r\n}\r\nconst initialState: UnitForm = {\r\n  fields: {\r\n    id: null,\r\n    name: \"\",\r\n    description: \"\",\r\n    parentId: null\r\n  }\r\n}\r\n\r\nexport function unitForm(state=initialState, action: any): UnitForm {\r\n  if(action.type == \"UPDATE_UNIT_FORM\"){\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    } as UnitForm\r\n  }\r\n  return state\r\n}\r\n","\r\ntype JobForm = {\r\n  fields: {\r\n    id: string | null,\r\n    name: string,\r\n    isManager: boolean,\r\n    description: string,\r\n    unitId: string | null\r\n  }\r\n}\r\nconst initialState: JobForm = {\r\n  fields: {\r\n    id: null,\r\n    name: \"\",\r\n    description: \"\",\r\n    isManager: false,\r\n    unitId: null\r\n  }\r\n}\r\n\r\nexport function jobForm(state=initialState, action: any): JobForm {\r\n  if(action.type == \"UPDATE_JOB_FORM\"){\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    } as JobForm\r\n  }\r\n  if(action.type == \"RESET_JOB_FORM\"){\r\n    return {\r\n      ...initialState,\r\n      ...action.payload\r\n    } as JobForm\r\n  }\r\n  return state\r\n}","import { combineReducers } from \"redux\"\r\nimport { unitForm } from \"./forms/unitForm\"\r\nimport { jobForm } from \"./forms/jobForm\"\r\n\r\nexport function selectedNode(state=null, action: any){\r\n  if(action.type == \"UPDATE_SELECTED_NODE\"){\r\n    console.log(action.payload)\r\n    return action.payload\r\n  }\r\n  return state\r\n}\r\n\r\ntype ModalState = {\r\n  show: boolean,\r\n  target?: \"unit\" | \"job\",\r\n  id?: string | null,\r\n}\r\nexport function modal(state={show: false}, action: any): ModalState{\r\n  if(action.type == \"SHOW_MODAL\"){\r\n    return action.payload\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  selectedNode,\r\n  modal,\r\n  unitForm,\r\n  jobForm\r\n})","import { combineReducers } from 'redux'\r\nimport entities from './entities'\r\nimport ui from './ui'\r\n\r\nexport const organization = combineReducers({\r\n  entities,\r\n  ui\r\n})\r\n\r\nexport type OrganizationState = ReturnType<typeof organization>\r\n\r\nexport default organization","import { combineReducers } from 'redux'\r\nimport { Employee } from '../state'\r\n\r\nconst initialEmployees: Employee[] = [\r\n  {\r\n    id: \"1\",\r\n    dni: \"12345678 SC\",\r\n    name: \"Joaquin\",\r\n    middlename: \"Chumacero\",\r\n    lastname: \"Yupanqui\",\r\n    dateOfBirth: \"1977-09-03\",\r\n    gender: \"Masculino\",\r\n    nationality: \"Boliviana\",\r\n    afp: \"Futuro\",\r\n    contract: {\r\n      type: \"contrato laboral\",\r\n      startDate: \"2019-09-10\",\r\n      jobId: \"1\",\r\n      salary: 500000\r\n    }\r\n  },\r\n  {\r\n    id: \"1\",\r\n    dni: \"12345678 SC\",\r\n    name: \"Arnold\",\r\n    middlename: \"\",\r\n    lastname: \"Schwarzenegger\",\r\n    dateOfBirth: \"1977-09-03\",\r\n    gender: \"Masculino\",\r\n    nationality: \"Extranjera\",\r\n    afp: \"\",\r\n    contract: {\r\n      type: \"contrato laboral\",\r\n      startDate: \"2019-09-10\",\r\n      jobId: \"1\",\r\n      salary: 500000\r\n    }\r\n  }\r\n]\r\nexport function employees(state: Employee[]=initialEmployees, action: any){\r\n  if(action.type == \"ADD_EMPLOYEE\"){\r\n    return [\r\n      ...state,\r\n      action.payload\r\n    ]\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  employees\r\n})","import {combineReducers} from \"redux\"\r\n\r\ntype EmployeeFormState = {\r\n  fields: {\r\n    dni: string,\r\n    dniComplement: string,\r\n    dniIssuedAt: string,\r\n    name: string,\r\n    middlename: string,\r\n    lastname: string,\r\n    gender: string,\r\n    dateOfBirth: string,\r\n    nacionality: string,\r\n\r\n    contractType: string,\r\n    startDate: string,\r\n    salary: string,\r\n    unitId: string,\r\n    jobId: string,\r\n\r\n    afp: string\r\n  }\r\n}\r\nconst initialEFState: EmployeeFormState = {\r\n  fields: {\r\n    dni: \"\",\r\n    dniComplement: \"\",\r\n    dniIssuedAt: \"\",\r\n    name: \"\",\r\n    middlename: \"\",\r\n    lastname: \"\",\r\n    gender: \"Masculino\",\r\n    dateOfBirth: \"\",\r\n    nacionality: \"Boliviana\",\r\n\r\n    contractType: \"contrato laboral\",\r\n    startDate: \"\",\r\n    salary: \"\",\r\n    unitId: \"\",\r\n    jobId: \"\",\r\n\r\n    afp: \"\"\r\n  }\r\n}\r\nfunction employeeForm(state: EmployeeFormState = initialEFState, action: any): EmployeeFormState{\r\n  if(action.type == \"UPDATE_EMPLOYEE_FORM\"){\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    }\r\n  }\r\n  if(action.type == \"RESET_EMPLOYE_FORM\"){\r\n    return initialEFState\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  employeeForm\r\n})","import { combineReducers } from 'redux'\r\nimport entities from './entities'\r\nimport ui from './ui'\r\n\r\n\r\nexport const employeeReducer = combineReducers({\r\n  entities,\r\n  ui\r\n})\r\n\r\nexport type EmployeeState = ReturnType<typeof employeeReducer>\r\n\r\nexport default employeeReducer","import {Deduction} from '../../state'\r\n\r\nconst initialState: Deduction[] = [\r\n  {\r\n    id: 1,\r\n    name: \"Cotización Mensual + Comisión\",\r\n    description: \"\",\r\n    calculationMethodId: 1,\r\n    inForce: true,\r\n    rates: [\r\n      {\r\n        minimum: '0',\r\n        maximum: '',\r\n        formula: '%base_imponible%*0.105'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Aporte solidario asegurado\",\r\n    description: \"\",\r\n    calculationMethodId: 1,\r\n    inForce: true,\r\n    rates: [\r\n      {\r\n        minimum: '0',\r\n        maximum: '',\r\n        formula: '%base_imponible%*0.005'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Cotización adicional\",\r\n    description: \"\",\r\n    calculationMethodId: 2,\r\n    inForce: true,\r\n    rates: []\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Prima riesgo comun\",\r\n    description: \"\",\r\n    calculationMethodId: 1,\r\n    inForce: true,\r\n    rates: [\r\n      {\r\n        minimum: '0',\r\n        maximum: '',\r\n        formula: '%base_imponible%*0.0171'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"Prima riesgo laboral\",\r\n    description: \"\",\r\n    calculationMethodId: 2,\r\n    inForce: true,\r\n    rates: [\r\n      {\r\n        minimum: '0',\r\n        maximum: '',\r\n        formula: '%base_imponible% * 0.0171'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    id: 6,\r\n    name: \"Aporte Nacional Solidario\",\r\n    description: \"\",\r\n    calculationMethodId: 2,\r\n    inForce: true,\r\n    rates: [\r\n      {\r\n        minimum: '13000',\r\n        maximum: '',\r\n        formula: '%base_imponible% * 0.01'\r\n      },\r\n      {\r\n        minimum: '25000',\r\n        maximum: '',\r\n        formula: '%base_imponible% * 0.05'\r\n      },\r\n      {\r\n        minimum: '35000',\r\n        maximum: '',\r\n        formula: '%base_imponible% * 0.1'\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nexport default (state: Deduction[]=initialState, action: any): Deduction[]=>{\r\n  if(action.type == \"ADD_DEDUCTION_TYPE\"){\r\n    return [\r\n      ...state,\r\n      action.payload\r\n    ]\r\n  }\r\n  return state\r\n}","import {Wage} from '../../state'\r\n\r\nconst initialState: Wage[] = [\r\n  {\r\n    id: 1,\r\n    name: \"Bono de Antigüedad 2-4\",\r\n    description: \"Bono de Antigüedad de 2 a 4 años\",\r\n    inForce: true,\r\n    calculationMethodId: 1,\r\n    formula: \"SMN*3*0.05\",\r\n    payrollTypeId: 1\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Bono de Antigüedad 5-7\",\r\n    description: \"Bono de Antigüedad de 5 a 7 años\",\r\n    inForce: true,\r\n    calculationMethodId: 1,\r\n    formula: \"SMN*3*0.11\",\r\n    payrollTypeId: 1\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Bono de Antigüedad 8-10\",\r\n    description: \"Bono de Antigüedad de 8 a 10 años\",\r\n    inForce: true,\r\n    calculationMethodId: 1,\r\n    formula: \"SMN*3*0.18\",\r\n    payrollTypeId: 1\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Bono de Antigüedad 11-14\",\r\n    description: \"Bono de Antigüedad de 11 a 14 años\",\r\n    inForce: true,\r\n    calculationMethodId: 1,\r\n    formula: \"SMN*3*0.26\",\r\n    payrollTypeId: 1\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"Bono de Antigüedad 15-19\",\r\n    description: \"Bono de Antigüedad de 15 a 19 años\",\r\n    inForce: true,\r\n    calculationMethodId: 1,\r\n    formula: \"SMN*3*0.34\",\r\n    payrollTypeId: 1\r\n  },\r\n  {\r\n    id: 6,\r\n    name: \"Bono de Antigüedad 20-24\",\r\n    description: \"Bono de Antigüedad de 15 a 19 años\",\r\n    inForce: true,\r\n    calculationMethodId: 1,\r\n    formula: \"SMN*3*0.42\",\r\n    payrollTypeId: 1\r\n  },\r\n  {\r\n    id: 7,\r\n    name: \"Bono de Antigüedad 25+\",\r\n    description: \"Bono de Antigüedad de 25 o mas años\",\r\n    inForce: true,\r\n    calculationMethodId: 1,\r\n    formula: \"SMN*3*0.50\",\r\n    payrollTypeId: 1\r\n  }\r\n]\r\n\r\nexport default (state: Wage[]=initialState, action: any): Wage[]=>{\r\n  if(action.type == \"ADD_WAGE_TYPE\"){\r\n    return [\r\n      ...state,\r\n      action.payload.wage\r\n    ]\r\n  }\r\n  if(action.type == \"EDIT_WAGE_TYPE\"){\r\n    const index = state.findIndex(w=>w.id == action.payload.wage.id)\r\n    state.splice(index, 1, action.payload.wage)\r\n    return [\r\n      ...state\r\n    ]\r\n  }\r\n  if(action.type == \"DELETE_WAGE_TYPE\"){\r\n    return state.filter(w=>w.id == action.payload)\r\n  }\r\n  return state\r\n}","import {Payroll} from '../../state'\r\n\r\nconst initialState: Payroll[] = [\r\n  // {\r\n  //   id: 1,\r\n  //   startDate: \"2020-01-01\",\r\n  //   endDate: \"2020-01-31\",\r\n  //   title: \"Planilla de sueldos mes de enero\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 2,\r\n  //   startDate: \"2020-02-01\",\r\n  //   endDate: \"2020-02-29\",\r\n  //   title: \"Planilla de sueldos mes de febrero\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 3,\r\n  //   startDate: \"2020-03-01\",\r\n  //   endDate: \"2020-03-31\",\r\n  //   title: \"Planilla de sueldos mes de marzo\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 4,\r\n  //   startDate: \"2020-04-01\",\r\n  //   endDate: \"2020-04-30\",\r\n  //   title: \"Planilla de sueldos mes de abril\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 5,\r\n  //   startDate: \"2020-05-01\",\r\n  //   endDate: \"2020-05-31\",\r\n  //   title: \"Planilla de sueldos mes de mayo\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 6,\r\n  //   startDate: \"2020-06-01\",\r\n  //   endDate: \"2020-06-30\",\r\n  //   title: \"Planilla de sueldos mes de junio\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 7,\r\n  //   startDate: \"2020-07-01\",\r\n  //   endDate: \"2020-07-31\",\r\n  //   title: \"Planilla de sueldos mes de julio\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 8,\r\n  //   startDate: \"2020-08-01\",\r\n  //   endDate: \"2020-08-31\",\r\n  //   title: \"Planilla de sueldos mes de agosto\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 9,\r\n  //   startDate: \"2020-09-01\",\r\n  //   endDate: \"2020-09-30\",\r\n  //   title: \"Planilla de sueldos mes de septiembre\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 10,\r\n  //   startDate: \"2020-10-01\",\r\n  //   endDate: \"2020-10-31\",\r\n  //   title: \"Planilla de sueldos mes de octubre\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 11,\r\n  //   startDate: \"2020-11-01\",\r\n  //   endDate: \"2020-11-30\",\r\n  //   title: \"Planilla de sueldos mes de noviembre\",\r\n  //   typeId: 1\r\n  // },\r\n  // {\r\n  //   id: 12,\r\n  //   startDate: \"2020-01-01\",\r\n  //   endDate: \"2020-12-15\",\r\n  //   title: \"Aguinaldos 2020\",\r\n  //   typeId: 2\r\n  // },\r\n  // {\r\n  //   id: 13,\r\n  //   startDate: \"2020-12-01\",\r\n  //   endDate: \"2020-12-31\",\r\n  //   title: \"Planilla de sueldos mes de diciembre\",\r\n  //   typeId: 1\r\n  // }\r\n]\r\n\r\nexport default (state: Payroll[]=initialState, action: any): Payroll[]=>{\r\n  if(action.type == \"ADD_PAYROLL\"){\r\n    return [\r\n      ...state,\r\n      action.payload,\r\n    ]\r\n  }\r\n  return state\r\n}","import {PayrollEntry} from '../../state'\r\n\r\nconst initialState: PayrollEntry[] = []\r\n\r\nexport default (state: PayrollEntry[]=initialState, action: any): PayrollEntry[]=>{\r\n  if(action.type == \"ADD_PAYROLL_ENTRY\"){\r\n    return [\r\n      ...state,\r\n      action.payload\r\n    ]\r\n  }\r\n  return state\r\n}","import {PayrollType} from '../../state'\r\n\r\nconst initialState: PayrollType[] = [\r\n  {\r\n    id: 1,\r\n    name: \"Planilla de sueldos\",\r\n    description: \"Planilla de sueldos\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Planilla de aguinaldo\",\r\n    description: \"Planilla de aguinaldos\",\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Planilla de retroactivo\",\r\n    description: \"Planilla de retroactivos\",\r\n  }\r\n]\r\n\r\nexport default (state: PayrollType[]=initialState, action: any): PayrollType[]=>{\r\n  if(action.type == \"ADD_PAYROLL_TYPE\"){\r\n    return [\r\n      ...state,\r\n      action.payload\r\n    ]\r\n  }\r\n  return state\r\n}","import {CalculationMethod} from '../../state'\r\n\r\nconst initialState: CalculationMethod[] = [\r\n  {\r\n    id: 1,\r\n    name: \"Fórmula\",\r\n    description: \"Calculado mediante formula\"//\"Para percepciones que son de una cantidad fijas. Ejemplo: Bono desayuno: Bs 300.00\",\r\n  },\r\n  // {\r\n  //   id: 2,\r\n  //   name: \"Porcentual\",\r\n  //   description: \"Para percepciones que son un porcentaje del haber básico. Ejemplo: Categoria profesional: 10%\",\r\n  // },\r\n  {\r\n    id: 2,\r\n    name: \"Manual\",\r\n    description: \"No es calculado automaticamente\",\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Sistema\",\r\n    description: \"Calculado internamente\"\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Definido por el usuario\",\r\n    description: \"Debe ser definido por cada usuario\"\r\n  }\r\n\r\n]\r\n\r\nexport default (state: CalculationMethod[]=initialState, action: any): CalculationMethod[]=>{\r\n  if(action.type == \"ADD_CALCULATION_METHOD\"){\r\n    return [\r\n      ...state,\r\n      action.payload\r\n    ]\r\n  }\r\n  return state\r\n}","import {ApplicableDeduction} from '../../state'\r\n\r\nconst initialState: ApplicableDeduction[] = []\r\n\r\nexport default (state: ApplicableDeduction[]=initialState, action: any): ApplicableDeduction[]=>{\r\n  if(action.type == \"ADD_WAGE_TYPE\"){\r\n    const {applicableDeductions, wage} = action.payload\r\n    return [\r\n      ...state,\r\n      ...applicableDeductions\r\n    ]\r\n  }\r\n  if(action.type == \"EDIT_WAGE_TYPE\"){\r\n    const {applicableDeductions, wage} = action.payload\r\n    return [\r\n      ...state.filter(ad => ad.wageId != wage.id),\r\n      ...applicableDeductions\r\n    ]\r\n  }\r\n  return state\r\n}","import deductions from './deductions'\r\nimport wages from './wages'\r\nimport payrolls from './payrolls'\r\nimport payrollEntries from './payrollEntries'\r\nimport payrollTypes from './payrollTypes'\r\nimport calculationMethods from './calculationMethods'\r\nimport applicableDeductions from './applicableDeductions'\r\nimport { combineReducers } from 'redux'\r\n\r\nexport default combineReducers({\r\n  deductions,\r\n  wages,\r\n  payrolls,\r\n  payrollEntries,\r\n  payrollTypes,\r\n  calculationMethods,\r\n  applicableDeductions\r\n})","\r\ntype WageFormState = {\r\n  fields: {\r\n    name: string,\r\n    description: string,\r\n    payrollTypeId: string,\r\n    inForce: boolean,\r\n    calculationMethodId: string,\r\n    formula: string,\r\n    applicableDeductionIds: number[] \r\n  },\r\n  info: {\r\n    name: string,\r\n    description: string,\r\n    payrollTypeId: string,\r\n    inForce: string,\r\n    calculationMethodId: string,\r\n    formula: string,\r\n    applicableDeductionIds: string\r\n  }\r\n}\r\n\r\nconst initialState: WageFormState = {\r\n  fields: {\r\n    name: \"\",\r\n    description: \"\",\r\n    payrollTypeId: \"\",\r\n    inForce: true,\r\n    calculationMethodId: \"\",\r\n    formula: \"\",\r\n    applicableDeductionIds: []\r\n  },\r\n  info: {\r\n    name: \"\",\r\n    description: \"\",\r\n    payrollTypeId: \"\",\r\n    inForce: \"\",\r\n    calculationMethodId: \"\",\r\n    formula: \"\",\r\n    applicableDeductionIds: \"\"\r\n  }\r\n}\r\nexport default (state: WageFormState=initialState, action: any): WageFormState => {\r\n  if(action.type==\"UPDATE_WAGE_FORM\"){\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    }\r\n  }\r\n  if(action.type==\"RESET_WAGE_FORM\"){\r\n    return initialState\r\n  }\r\n  return state\r\n}\r\n\r\n","import { combineReducers } from 'redux'\r\nimport selectedWageId from './selectedWageId'\r\nimport wageForm from './wageForm'\r\n\r\nexport default combineReducers({\r\n  selectedWageId,\r\n  wageForm,\r\n})","export default (state: number=-1, action: any): number => {\r\n  if(action.type==\"CHANGE_SELECTED_WAGE_ID\"){\r\n    return action.payload\r\n  }\r\n  return state\r\n}\r\n\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport entities from './entities'\r\nimport ui from './ui'\r\n\r\nexport const payrollReducer = combineReducers({\r\n  entities,\r\n  ui\r\n})\r\n\r\nexport interface PayrollAwareState {\r\n  payrolls: ReturnType<typeof payrollReducer>\r\n}\r\n\r\nexport default payrollReducer","import { LoginForm } from \"../state\";\r\n\r\nconst initialState: LoginForm = {\r\n  fields: {\r\n    username: \"\",\r\n    password: \"\"\r\n  },\r\n  errors: {\r\n    username: \"\",\r\n    password: \"\"\r\n  },\r\n  message: \"\"\r\n}\r\nexport default (state: LoginForm = initialState, action: any): LoginForm  => {\r\n  if(action.type == \"UPDATE_LOGIN_FORM\"){\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    }\r\n  }\r\n  if(action.type == \"LOGIN\"){\r\n    return {\r\n      ...state,\r\n      message: \"\",\r\n      errors: initialState.errors\r\n    }\r\n  }\r\n  if(action.type == \"LOGIN_COMPLETED\" && action.error){\r\n    const {message, errors} = action.payload\r\n    return {\r\n      ...state,\r\n      message,\r\n      errors: errors || initialState.errors\r\n    }\r\n  }\r\n  if(action.type == \"LOGIN_COMPLETED\"){\r\n    return initialState\r\n  }\r\n  return state\r\n}","import { combineReducers } from 'redux'\r\nimport user from './user'\r\nimport loadUser from './loadUser'\r\nimport login from './login'\r\nimport loginForm from './loginForm'\r\n\r\nexport const AuthModuleReducer = combineReducers({\r\n  user,\r\n  loadUser,\r\n  login,\r\n  loginForm\r\n})\r\n\r\nexport type AuthModuleState = ReturnType<typeof AuthModuleReducer>\r\n\r\nexport default AuthModuleReducer","import { User } from \"../state\"\r\n\r\nexport default (state: User|null={\r\n  username: \"alex\",\r\n  active: true,\r\n  id: 1,\r\n  external_id: 1\r\n}, action: any): User|null => {\r\n  const {type, payload, error} = action\r\n  switch(type){\r\n    case \"SET_USER\":\r\n    case \"LOGIN_COMPLETED\":\r\n    case \"LOAD_USER_COMPLETED\":\r\n      return error ? state : payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default (state: {completed?:boolean} = {}, action: any)=>{\r\n  const {payload, type} = action\r\n  switch(type){\r\n    case \"LOAD_USER\":\r\n      return {completed: false}\r\n    case \"LOAD_USER_COMPLETED\":\r\n      return {completed: true}\r\n  }\r\n  return state\r\n}","\r\ntype RequestState = {\r\n  completed?: boolean,\r\n}\r\nexport default (state: RequestState = {}, action: any)=>{\r\n  const {type, payload} = action\r\n  switch(type){\r\n    case \"LOGIN\": \r\n      return {\r\n        completed: false\r\n      }\r\n    case \"LOGIN_COMPLETED\":\r\n      return {\r\n        completed: true\r\n      }\r\n  }\r\n  return state\r\n}","import { combineReducers } from 'redux'\r\nimport users from './users'\r\n\r\nexport default combineReducers({\r\n  users\r\n})","import { User } from \"../../../auth/state\"\r\n\r\nexport default (state: User[]=[], action: any): User[] => {\r\n  const {type, payload, error, meta} = action\r\n  switch(type){\r\n    case \"LOAD_USERS_COMPLETED\":\r\n      return error ? state : payload.records\r\n  }\r\n  return state\r\n}","import { combineReducers } from \"redux\"\r\nimport usersPagination from \"./usersPagination\"\r\nimport usersFilter from \"./usersFilter\"\r\n\r\nexport default combineReducers({\r\n  usersPagination,\r\n  usersFilter\r\n})","export default (state: {\r\n  total: number,\r\n  current: number,\r\n  size: number\r\n}={\r\n  total: 0,\r\n  current: 1,\r\n  size: 15\r\n}, action: any): {\r\n  total: number,\r\n  current: number,\r\n  size: number\r\n} => {\r\n  const {type, payload, error, meta} = action\r\n  switch(type) {\r\n    case \"UPDATE_USERS_PAGINATION\":\r\n      return {\r\n        ...state,\r\n        ...payload\r\n      }\r\n    case \"LOAD_USERS_COMPLETED\":\r\n      return payload.meta\r\n  }\r\n  return state\r\n}","export default (state: {\r\n  username?: string,\r\n  active?: number,\r\n  externalId?: number\r\n}={}, action: any): {\r\n  username?: string,\r\n  active?: number,\r\n  externalId?: number\r\n} => {\r\n  const {type, payload, error, meta} = action\r\n  switch(type) {\r\n    case \"UPDATE_USERS_FILTER\":\r\n      return payload\r\n  }\r\n  return state\r\n}","import { combineReducers } from 'redux'\r\nimport loadUsers from './loadUsers'\r\n\r\nexport default combineReducers({\r\n  loadUsers\r\n})","export default (state: {\r\n  completed?: boolean,\r\n  failed?: boolean\r\n} =  {}, action: any) => {\r\n  const {type, payload, error, meta} = action\r\n  switch(type){\r\n    case \"LOAD_USERS\":\r\n      return {\r\n        completed: false\r\n      }\r\n    case \"LOAD_USERS_COMPLETED\":\r\n      return {\r\n        completed: true,\r\n        failed: error\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import { combineReducers } from 'redux'\r\nimport entities from './entities'\r\nimport ui from './ui'\r\nimport requests from './requests'\r\n\r\nexport const iamModuleReducer = combineReducers({\r\n  entities,\r\n  ui,\r\n  requests\r\n})\r\n\r\nexport type IamModuleAwareState = {\r\n  iam: ReturnType<typeof iamModuleReducer>\r\n}\r\n\r\nexport default iamModuleReducer","import { combineReducers } from \"redux\"\r\n\r\nexport function showSidebar(state=true, action: any){\r\n  if(action.type == \"TOGGLE_SIDEBAR\"){\r\n    return !state\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  showSidebar\r\n})","import { takeEvery, put, select, all } from 'redux-saga/effects'\r\n\r\nfunction* prepareUnitForm(action: any){\r\n  const unit = yield select((state)=>state.organization.entities.units.find((u: any)=>u.id == action.payload.id))\r\n  yield put({type: \"UPDATE_UNIT_FORM\", payload: {\r\n    fields: {\r\n      id: unit.id,\r\n      name: unit.name,\r\n      description: unit.description,\r\n      parentId: unit.parentId\r\n    }\r\n  }})\r\n\r\n  yield put({\r\n    type: \"SHOW_MODAL\",\r\n    payload: {\r\n      show: true,\r\n      target: \"unit\",\r\n      id: null\r\n    }\r\n  })\r\n}\r\n\r\nfunction* prepareNewUnitForm(action: any){\r\n  //const unit = yield select((state)=>state.organization.entities.units.find((u: any)=>u.id == action.payload.id))\r\n  yield put({type: \"UPDATE_UNIT_FORM\", payload: {\r\n    fields: {\r\n      id: null,\r\n      name: \"\",\r\n      description: \"\",\r\n      parentId: action.payload.parentId\r\n    }\r\n  }})\r\n\r\n  yield put({\r\n    type: \"SHOW_MODAL\",\r\n    payload: {\r\n      show: true,\r\n      target: \"unit\",\r\n      id: null\r\n    }\r\n  })\r\n}\r\n\r\nfunction* prepareJobForm(action: any){\r\n  const job = yield select((state)=>state.organization.entities.jobs.find((u: any)=>u.id == action.payload.id))\r\n  yield put({type: \"UPDATE_JOB_FORM\", payload: {\r\n    fields: {\r\n      id: job.id,\r\n      name: job.name,\r\n      description: job.description,\r\n      isManager: job.isManager,\r\n      unitId: job.unitId\r\n    }\r\n  }})\r\n\r\n  yield put({\r\n    type: \"SHOW_MODAL\",\r\n    payload: {\r\n      show: true,\r\n      target: \"job\",\r\n      id: null\r\n    }\r\n  })\r\n}\r\n\r\nfunction* prepareNewJobForm(action: any){\r\n  //const unit = yield select((state)=>state.organization.entities.units.find((u: any)=>u.id == action.payload.id))\r\n  yield put({type: \"UPDATE_JOB_FORM\", payload: {\r\n    fields: {\r\n      id: null,\r\n      name: \"\",\r\n      description: \"\",\r\n      isManager: false,\r\n      unitId: action.payload.unitId\r\n    }\r\n  }})\r\n\r\n  yield put({\r\n    type: \"SHOW_MODAL\",\r\n    payload: {\r\n      show: true,\r\n      target: \"job\",\r\n      id: null\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport default function* watchPrepareUnitForm(){\r\n  yield all([\r\n    takeEvery(\"PREPARE_UNIT_FORM\", prepareUnitForm),\r\n    takeEvery(\"PREPARE_NEW_UNIT_FORM\", prepareNewUnitForm),\r\n    takeEvery(\"PREPARE_JOB_FORM\", prepareJobForm),\r\n    takeEvery(\"PREPARE_NEW_JOB_FORM\", prepareNewJobForm),\r\n  ])\r\n}","import { combineReducers, createStore, applyMiddleware, compose  } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\"\r\nimport organization from \"./features/organization/reducers\";\r\nimport employee from \"./features/employees/reducers\";\r\nimport payrolls from \"./features/payrolls/reducers\";\r\nimport auth from \"./features/auth/reducers\";\r\nimport iam from \"./features/iam/reducers\";\r\nimport main from \"./boostrap/reducers\";\r\nimport mySaga from './features/organization/actions';\r\n// import { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\n//@ts-ignore\r\nconst composeWithDevTools = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst rootReducer = combineReducers({\r\n  organization,\r\n  employee,\r\n  payrolls,\r\n  iam,\r\n  main,\r\n  auth\r\n})\r\n\r\n// create the saga middleware\r\nconst sagaMiddleware = createSagaMiddleware()\r\n// mount it on the Store\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(sagaMiddleware)\r\n  )\r\n)\r\n\r\n// then run the saga\r\nsagaMiddleware.run(mySaga)\r\n\r\n\r\nexport default store","import { OrganizationAwareState } from \"../state\"\r\n\r\nexport const getUnits = ({organization: {entities}}: OrganizationAwareState) => entities.units//.find(u=>u.id==unit_id)\r\nexport const getJobs = ({organization: {entities}}: OrganizationAwareState) => entities.jobs//.units.find(u=>u.id==unit_id)\r\n\r\nexport const getSelectedNode = ({organization: {ui}}: OrganizationAwareState) => ui.selectedNode\r\nexport const getModal = ({organization: {ui}}: OrganizationAwareState) => ui.modal","import { createSelector } from \"reselect\";\r\nimport { getSelectedNode, getUnits, getJobs } from \"./inputs\";\r\n\r\nexport const getSelectedUnit = createSelector(\r\n  getUnits,\r\n  getJobs,\r\n  getSelectedNode,\r\n  (units, jobs, selectedNode) => {\r\n    if(selectedNode && selectedNode.type == \"unit\"){\r\n      const unit = units.find(u=>u.id == selectedNode.id)\r\n      return {\r\n        id: unit?.id,\r\n        name: unit?.name,\r\n        description: unit?.description,\r\n        subunits: units.filter(u=>u.parentId == unit?.id),\r\n        jobs: jobs.filter(u=>u.unitId == unit?.id)\r\n      }\r\n    }\r\n    else\r\n      return null\r\n  }\r\n)","import React from 'react'\r\nimport { Table } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport { getSelectedUnit } from '../selectors/getSelectedUnit'\r\n\r\nexport const UnitDetails = ()=>{\r\n  const unit = useSelector(getSelectedUnit)\r\n  console.log(unit)\r\n  function renderSubUnits(){\r\n    return <>\r\n      <h3 style={{fontSize: \"1.5rem\"}}>Sub unidades</h3>\r\n      <Table responsive>\r\n        <thead>\r\n          <tr>\r\n            <th style={{width:0}}>#</th>\r\n            <th>Nombre</th>\r\n            {/* <th style={{width:0}}></th> */}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {unit!.subunits.length ? unit!.subunits.map((u, i)=>(\r\n            <tr>\r\n              <th scope=\"row\">{i+1}</th>\r\n              <td>{u.name}</td>\r\n              {/* <td></td> */}\r\n            </tr>\r\n          )) : <tr><td className=\"bg-light text-center\" colSpan={3}>Aun no se agregaron sub unidades</td></tr>}\r\n        </tbody>\r\n      </Table>\r\n    </>\r\n  }\r\n\r\n  function renderJobs(){\r\n    return <>\r\n      <h3 style={{fontSize: \"1.5rem\"}}>Cargos</h3>\r\n      <Table responsive>\r\n        <thead>\r\n          <tr>\r\n            <th style={{width:0}}>#</th>\r\n            <th>Nombre</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {unit!.jobs.length ? unit!.jobs.map((job, i)=>(\r\n            <tr>\r\n              <th scope=\"row\">{i+1}</th>\r\n              <td>{`${job.name} ${job.isManager ? \"(Administrador)\" : \"\"}`}</td>\r\n              {/* <td></td> */}\r\n            </tr>\r\n          )) : <tr><td className=\"bg-light text-center\" colSpan={3}>Aun no se agregaron puestos de trabajo</td></tr>}\r\n        </tbody>\r\n      </Table>\r\n    </>\r\n  }\r\n\r\n  return unit ? <div>\r\n    <h2 style={{fontSize: \"1.75rem\"}}>{unit.name}</h2>\r\n    <p>{unit.description}</p>\r\n    {renderSubUnits()}\r\n    {renderJobs()}\r\n  </div> : null\r\n}","import { createSelector } from \"reselect\";\r\nimport { getSelectedNode, getUnits, getJobs } from \"./inputs\";\r\n\r\nexport const getSelectedJob = createSelector(\r\n  getJobs,\r\n  getSelectedNode,\r\n  (jobs, selectedNode) => {\r\n    if(selectedNode && selectedNode.type == \"job\"){\r\n      const unit = jobs.find(u=>u.id == selectedNode.id)\r\n      return {\r\n        id: unit?.id,\r\n        name: unit?.name,\r\n        description: unit?.description,\r\n        isManager: unit?.isManager\r\n      }\r\n    }\r\n    else\r\n      return null\r\n  }\r\n)","import React from 'react'\r\nimport { Table } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport { getSelectedJob } from '../selectors/getSelectedJob'\r\n\r\nexport const JobDetails = ()=>{\r\n  const job = useSelector(getSelectedJob)\r\n  console.log(job)\r\n\r\n  return job ? <div>\r\n    <h2 style={{fontSize: \"1.75rem\"}}>{job.name}</h2>\r\n    <p>{job.description}</p>\r\n    <span>Es administrador: {job.isManager ? \"Sí\" : \"No\"}</span>\r\n  </div> : null\r\n}","import { TreeProps } from \"rc-tree\"\r\nimport { DataNode } from \"rc-tree/lib/interface\"\r\nimport {FaSitemap, FaBriefcase, FaBuilding, FaCaretRight, FaCaretDown} from 'react-icons/fa'\r\nimport {BsCaretRight, BsCaretDown} from 'react-icons/bs'\r\nimport {createSelector} from \"reselect\"\r\nimport { OrganizationAwareState, Unit, Job } from \"../state\"\r\n\r\nexport const getUnits = ({organization: {entities}}: OrganizationAwareState) => entities.units//.find(u=>u.id==unit_id)\r\nexport const getJobs = ({organization: {entities}}: OrganizationAwareState) => entities.jobs//.units.find(u=>u.id==unit_id)\r\nexport const getUnit = ({organization: {entities}}: OrganizationAwareState, unit_id: string) => entities.units.find(u=>u.id==unit_id)\r\nexport const getSubunits = createSelector(\r\n  getUnits,\r\n  (_:Unit[], unitId: string) => unitId,\r\n  (units, unitId) =>{\r\n    return units.filter(u=>u.parentId == unitId)\r\n  }\r\n)\r\n//({organization: {entities}}: OrganizationAwareState, unit_id: string)=>entities.units.filter(u=>u.parentId == unit_id)\r\nexport const getOwnedJobs = ({organization: {entities}}: OrganizationAwareState, unit_id: string)=>entities.jobs.filter(j=>j.unitId == unit_id)\r\n\r\nexport const getRootIds = ({organization: {entities}}: OrganizationAwareState) => entities.units.filter(u=>u.parentId == null).map(u=>u.id)\r\n\r\nexport const getOrganizationalStructureTreeData = createSelector(\r\n  getUnits,\r\n  getJobs,\r\n  (units: Unit[], jobs: Job[]):DataNode[] => {\r\n    function toTreeData(parentId: string | null){\r\n      return units.filter(u => u.parentId == parentId).map((u):DataNode=>{\r\n        return {\r\n          key: `unit-${u.id}`,\r\n          title: u.name,\r\n          icon: FaSitemap,\r\n          //switcherIcon: BsCaretRight,\r\n          children: [\r\n            ...toTreeData(u.id),\r\n            ...jobs.filter(j=>j.unitId == u.id).map((j):DataNode=>{\r\n              return {\r\n                key: `job-${j.id}`,\r\n                title: j.name,\r\n                icon: FaBriefcase,\r\n                isLeaf: true\r\n              }\r\n            })\r\n          ]\r\n        }\r\n      })\r\n    }\r\n\r\n    const treeData = toTreeData(null)\r\n    console.log(\"TreeData\", treeData)\r\n    return [\r\n      {\r\n        key: \"root\",\r\n        title: \"Caja de Salud de Caminos y R.A.\",\r\n        icon: FaBuilding,\r\n        children: treeData\r\n      }\r\n    ]\r\n  }\r\n)\r\n","import React, { useCallback } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Tree from 'rc-tree'\r\nimport { getOrganizationalStructureTreeData } from '../selectors/getOrganizationalStructure'\r\nimport './tree.css'\r\nimport './organization.css'\r\nimport { Item, ItemProps, Menu, Separator, Submenu, useContextMenu } from 'react-contexify'\r\nimport { FaArrowRight, FaCaretDown, FaCaretRight } from 'react-icons/fa'\r\nimport { BsCaretDown, BsCaretRight } from 'react-icons/bs'\r\nimport \"react-contexify/dist/ReactContexify.css\";\r\n\r\nconst MENU_ID = \"ORG_STR_MENU\";\r\n\r\nexport const OrganizationalStructureTree = ()=>{\r\n  const dispatch = useDispatch()\r\n  const { show } = useContextMenu({\r\n    id: MENU_ID\r\n  });\r\n  \r\n\r\n  const treeData = useSelector(getOrganizationalStructureTreeData)\r\n  const hideIfRoot = useCallback<Exclude<ItemProps[\"hidden\"], boolean | undefined>>(({props})=>props.nodeId == \"root\", [])\r\n\r\n  return <>\r\n    <Tree className=\"os-tree position-absolute border\"\r\n      switcherIcon={(props)=> props.data?.children ? (props.expanded ? <BsCaretDown/>: <BsCaretRight/>) : undefined}\r\n      draggable \r\n      treeData={treeData}\r\n      defaultExpandedKeys={[\"root\"]}\r\n      multiple={false}\r\n      onSelect={(selectedKeys)=>{\r\n        if(selectedKeys.length){\r\n          const [type, id] = (selectedKeys[0] as String).split(\"-\")\r\n          dispatch({\r\n            type: \"UPDATE_SELECTED_NODE\",\r\n            payload: { id, type } \r\n          })\r\n        }\r\n        else{\r\n          dispatch({\r\n            type: \"UPDATE_SELECTED_NODE\",\r\n            payload: null\r\n          })\r\n        }\r\n      }}\r\n      onRightClick={(e)=>{\r\n        show(e.event, {\r\n          props: {\r\n            nodeId: e.node.key,\r\n            isLeaf: e.node.isLeaf\r\n          }\r\n        })\r\n      }}\r\n    />\r\n    <Menu id={MENU_ID}>\r\n      <Submenu hidden={({props})=>{\r\n        return props.isLeaf\r\n      }} label=\"Crear\" arrow={<BsCaretRight/>}>\r\n        <Item onClick={function({props}){\r\n          const [target, id] = props.nodeId == \"root\" ? [null, null] : props.nodeId.split(\"-\")\r\n          dispatch({\r\n            type: \"PREPARE_NEW_UNIT_FORM\",\r\n            payload: {\r\n              parentId: id,\r\n            }\r\n          })\r\n        }}>\r\n          Unidad\r\n        </Item>\r\n        <Item onClick={function({props}){\r\n          const [target, id] = props.nodeId == \"root\" ? [null, null] : props.nodeId.split(\"-\")\r\n          dispatch({\r\n            type: \"PREPARE_NEW_JOB_FORM\",\r\n            payload: {\r\n              unitId: id,\r\n            }\r\n          })\r\n        }}>Cargo</Item>\r\n      </Submenu>\r\n      <Item hidden={hideIfRoot} onClick={function({props}){\r\n          const [target, id] = props.nodeId.split(\"-\")\r\n          dispatch({\r\n            type: target == 'unit' ? \"PREPARE_UNIT_FORM\" : \"PREPARE_JOB_FORM\",\r\n            payload: {\r\n              id\r\n            }\r\n          })\r\n        }}>\r\n        Editar\r\n      </Item>\r\n      <Item hidden={hideIfRoot} onClick={function({props}){\r\n        const [target, id] = props.nodeId.split(\"-\")\r\n        // if(confirm(\"¿Está seguro de eliminar? Esta accion es irreversible\")){\r\n          dispatch({\r\n            type: target == \"unit\" ? \"DELETE_UNIT\" : \"DELETE_JOB\",\r\n            payload: id\r\n          })\r\n        // }\r\n      }}>\r\n        Eliminar\r\n      </Item>\r\n    </Menu>\r\n  </>\r\n}","import React from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport { Form } from 'react-bootstrap'\r\nimport { OrganizationAwareState } from '../state'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport const UnitForm = () => {\r\n  const dispatch = useDispatch()\r\n  const {fields} = useSelector((state:OrganizationAwareState)=>state.organization.ui.unitForm)\r\n  \r\n  return <Form id=\"unit-form\" onSubmit={(e)=>{\r\n    e.preventDefault()\r\n    if(fields.id){\r\n      dispatch({\r\n        type: \"EDIT_UNIT\",\r\n        payload: {\r\n          id: fields.id,\r\n          name: fields.name,\r\n          description: fields.description,\r\n          parentId: fields.parentId\r\n        }\r\n      })\r\n    }\r\n    else{\r\n      dispatch({\r\n        type: \"ADD_UNIT\",\r\n        payload: {\r\n          id: uuidv4().replaceAll(\"-\", \"\"),\r\n          name: fields.name,\r\n          description: fields.description,\r\n          parentId: fields.parentId\r\n        }\r\n      })\r\n    }\r\n\r\n    dispatch({\r\n      type: \"SHOW_MODAL\",\r\n      payload: {\r\n        show: false\r\n      }\r\n    })\r\n  }}>\r\n    <Form.Group controlId=\"doctor\">\r\n      <Form.Label>Nombre</Form.Label>\r\n      <Form.Control type=\"text\" value={fields.name} onChange={(e)=>{\r\n        const value = e.target.value\r\n        dispatch({\r\n          type: \"UPDATE_UNIT_FORM\",\r\n          payload: {\r\n            fields: {\r\n              ...fields,\r\n              name: value\r\n            }\r\n          }\r\n        })\r\n      }}/>\r\n    </Form.Group>\r\n    <Form.Group controlId=\"doctor\">\r\n      <Form.Label>Descripción</Form.Label>\r\n      <Form.Control as=\"textarea\" value={fields.description}  onChange={(e)=>{\r\n        const value = e.target.value\r\n        dispatch({\r\n          type: \"UPDATE_UNIT_FORM\",\r\n          payload: {\r\n            fields: {\r\n              ...fields,\r\n              description: value\r\n            }\r\n          }\r\n        })\r\n      }}/>\r\n    </Form.Group>\r\n      \r\n  </Form>\r\n}\r\n\r\nexport default UnitForm","import React from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport { Form } from 'react-bootstrap'\r\nimport { OrganizationAwareState } from '../state'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport const JobForm = () => {\r\n  const dispatch = useDispatch()\r\n  const {fields} = useSelector((state:OrganizationAwareState)=>state.organization.ui.jobForm)\r\n  console.log(\"Fields\", fields)\r\n  return <Form id=\"job-form\" onSubmit={(e)=>{\r\n    e.preventDefault()\r\n    if(fields.id){\r\n      dispatch({\r\n        type: \"EDIT_JOB\",\r\n        payload: {\r\n          id: fields.id,\r\n          name: fields.name,\r\n          isManager: fields.isManager,\r\n          description: fields.description,\r\n          unitId: fields.unitId\r\n        }\r\n      })\r\n    }\r\n    else{\r\n      dispatch({\r\n        type: \"ADD_JOB\",\r\n        payload: {\r\n          id: uuidv4().replaceAll(\"-\", \"\"),\r\n          name: fields.name,\r\n          isManager: fields.isManager,\r\n          description: fields.description,\r\n          unitId: fields.unitId\r\n        }\r\n      })\r\n    }\r\n\r\n    dispatch({\r\n      type: \"SHOW_MODAL\",\r\n      payload: {\r\n        show: false\r\n      }\r\n    })\r\n  }}>\r\n    <Form.Group controlId=\"name\">\r\n      <Form.Label>Nombre</Form.Label>\r\n      <Form.Control type=\"text\" value={fields.name} onChange={(e)=>{\r\n        const value = e.target.value\r\n        dispatch({\r\n          type: \"UPDATE_JOB_FORM\",\r\n          payload: {\r\n            fields: {\r\n              ...fields,\r\n              name: value\r\n            }\r\n          }\r\n        })\r\n      }}/>\r\n    </Form.Group>\r\n    <Form.Group controlId=\"is-manager\">\r\n      <Form.Check type=\"checkbox\" label=\"Es administrador\" checked={fields.isManager} onChange={(e)=>{\r\n        const value = e.target.value\r\n        dispatch({\r\n          type: \"UPDATE_JOB_FORM\",\r\n          payload: {\r\n            fields: {\r\n              ...fields,\r\n              isManager: !fields.isManager\r\n            }\r\n          }\r\n        })\r\n      }}/>\r\n    </Form.Group>\r\n    <Form.Group controlId=\"description\">\r\n      <Form.Label>Descripción</Form.Label>\r\n      <Form.Control as=\"textarea\" value={fields.description}  onChange={(e)=>{\r\n        const value = e.target.value\r\n        dispatch({\r\n          type: \"UPDATE_JOB_FORM\",\r\n          payload: {\r\n            fields: {\r\n              ...fields,\r\n              description: value\r\n            }\r\n          }\r\n        })\r\n      }}/>\r\n    </Form.Group>\r\n  </Form>\r\n}\r\n\r\nexport default JobForm","import React from 'react'\r\nimport { Modal, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getModal } from '../selectors/inputs'\r\nimport UnitForm from './UnitForm'\r\nimport JobForm from './JobForm'\r\n\r\nexport const FormDialog = ()=>{\r\n  const dispatch = useDispatch()\r\n  const {show, target, id} = useSelector(getModal)\r\n\r\n  return <Modal centered show={show} onHide={()=>{\r\n    dispatch({\r\n      type: \"SHOW_MODAL\",\r\n      payload: {\r\n        show: false\r\n      }\r\n    })\r\n  }}>\r\n    <Modal.Header closeButton>\r\n      <Modal.Title>{`${id != null ? \"Editar\" : \"Crear\"}`}<span>{target == 'unit' ? \" Unidad\" : \" Puesto de Trabajo\"}</span></Modal.Title>\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n      {\r\n        target == 'unit' ? <UnitForm /> :\r\n        target == 'job' ? <JobForm /> :\r\n        null\r\n      }\r\n    </Modal.Body>\r\n    <Modal.Footer>\r\n      <Button variant=\"secondary\" onClick={()=>{\r\n        dispatch({\r\n          type: \"SHOW_MODAL\",\r\n          payload: {\r\n            show: false\r\n          }\r\n        })\r\n      }}>\r\n        Cancelar\r\n      </Button>\r\n      <Button variant=\"primary\" form={target == 'unit' ? 'unit-form' : 'job-form'} type=\"submit\">\r\n        Guardar\r\n      </Button>\r\n    </Modal.Footer>\r\n  </Modal>\r\n}","import React from 'react'\r\nimport Tree, { TreeNode } from 'rc-tree'\r\nimport {FaSitemap, FaBriefcase} from 'react-icons/fa'\r\nimport './tree.css'\r\nimport UnitForm from './UnitForm'\r\nimport { UnitDetails } from './UnitDetails'\r\nimport { JobDetails } from './JobDetails'\r\nimport { OrganizationalStructureTree } from './OrganizationalStructureTree'\r\nimport { FormDialog } from './FormDialog'\r\n\r\nexport const Organization = ()=>{\r\n  return <div style={{minWidth: 480}} className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n    <h1 style={{fontSize: \"2rem\"}}>Estructura Organizacional</h1>\r\n    <div className=\"position-relative d-flex flex-grow-1\">\r\n      <OrganizationalStructureTree />\r\n      <div className=\"p-3 border flex-grow-1\"  style={{marginLeft: \"11rem\"}}>\r\n        <UnitDetails />\r\n        <JobDetails />\r\n      </div>\r\n    </div>\r\n    <FormDialog></FormDialog>\r\n  </div>\r\n}\r\n\r\nexport default Organization","import { EmployeeAwareState } from \"../state\";\r\n\r\nexport const getEmployees = (state: EmployeeAwareState)=>state.employee.entities.employees\r\nexport const getEmployeeFormState = (state: EmployeeAwareState)=>state.employee.ui.employeeForm","import { createSelector } from \"reselect\";\r\nimport { getJobs, getUnits } from \"../../organization/selectors/inputs\";\r\nimport { getEmployees } from \"./inputs\";\r\n\r\n\r\nexport const getEmployeeTableView = createSelector(\r\n  getEmployees,\r\n  getJobs,\r\n  getUnits,\r\n  (employees, jobs, units)=>{\r\n    return employees.map(employee => {\r\n      const job = jobs.find(job => job.id == employee.contract.jobId)\r\n      return {\r\n        id: employee.id,\r\n        dni: employee.dni,\r\n        fullName: `${employee.name} ${employee.middlename} ${employee.lastname}`,\r\n        gender: employee.gender,\r\n        dateOfBirth: employee.dateOfBirth,\r\n        nationality: employee.nationality,\r\n        afp: employee.afp,\r\n        contract: {\r\n          type: employee.contract.type,\r\n          startDate: employee.contract.startDate,\r\n          job: {\r\n            name: job?.name,\r\n            unit: units.find(u => u.id == employee.contract.jobId),\r\n          },\r\n          salary: (employee.contract.salary/100).toFixed(2)\r\n        }\r\n      }\r\n    })\r\n  }\r\n)\r\n\r\n","import React from \"react\"\r\nimport { Table, Button } from 'react-bootstrap'\r\nimport { BsEyeFill, BsTrashFill } from \"react-icons/bs\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { Link, useRouteMatch } from \"react-router-dom\"\r\nimport { getEmployeeTableView } from \"../selectors\"\r\nimport FilterEmployeesForm from \"./FilterEmployeesForm\"\r\n\r\nexport const EmployeesList = ()=>{  \r\n  const { path, url } = useRouteMatch()\r\n  const employeesTableView = useSelector(getEmployeeTableView)\r\n\r\n  return <div style={{minWidth: 480}} className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n    <h1 style={{fontSize: \"2rem\"}}>Lista de empleados</h1>\r\n    {/* <FilterEmployeesForm /> */}\r\n    {/* <div className=\"ml-auto mb-2\">\r\n      <Link to={`${url}/registrar`} className=\"btn btn-primary text-white\">Registrar</Link>\r\n    </div> */}\r\n    <Table responsive className=\"small text-nowrap\">\r\n      <thead>\r\n        <tr>\r\n          <th style={{width: 0}}>#</th>\r\n          <th >Carnet de identidad</th>\r\n          <th >Nombre completo</th>\r\n          <th >Sexo</th>\r\n          <th >Fecha de nacimiento</th>\r\n          <th >Nacionalidad</th>\r\n          <th >Tipo de contrato</th>\r\n          <th >Fecha de incorporación</th>\r\n          <th >Unidad</th>\r\n          <th >Cargo</th>\r\n          <th >Salario</th>\r\n          <th >Afp</th>\r\n          <th ></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {employeesTableView.map((e, i)=>{\r\n          return <tr>\r\n            <th scope=\"row\">\r\n              {i+1}\r\n            </th>\r\n            <td>{e.dni}</td>\r\n            <td className=\"text-nowrap\">{e.fullName}</td>\r\n            <td>{e.gender}</td>\r\n            <td>{e.dateOfBirth}</td>\r\n            <td>{e.nationality}</td>\r\n            <td>{e.contract.type}</td>\r\n            <td>{e.contract.startDate}</td>\r\n            {/* <td>{e.contract.endDate}</td> */}\r\n            <td className=\"text-nowrap\">{e.contract.job.unit?.name}</td>\r\n            <td className=\"text-nowrap\">{e.contract.job.name}</td>\r\n            <td>{e.contract.salary}</td>\r\n            <td>{e.afp}</td>\r\n            <td>\r\n              <Button className=\"btn-icon d-inline\" variant=\"link\" ><BsEyeFill /></Button>\r\n              {/* <Button className=\"btn-icon d-inline\" variant=\"link\" ><BsTrashFill /></Button> */}\r\n            </td>\r\n          </tr>\r\n        })}\r\n      </tbody>\r\n    </Table>\r\n  </div>\r\n}","import React, {useState} from 'react'\r\nimport { Form, Button, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getOwnedJobs } from '../../organization/selectors/getOrganizationalStructure'\r\nimport { getUnits } from '../../organization/selectors/inputs'\r\nimport {getEmployeeFormState} from \"../selectors\"\r\nimport { Employee } from '../state'\r\nimport {v4 as uuidv4} from 'uuid'\r\nimport { Redirect, useRouteMatch, useLocation } from 'react-router-dom'\r\n\r\nexport const EmployeeForm = ()=>{\r\n  const dispatch = useDispatch()\r\n  const {fields} = useSelector(getEmployeeFormState)\r\n  const units = useSelector(getUnits)\r\n  const jobs = useSelector((state:any)=>getOwnedJobs(state, fields.unitId))\r\n\r\n  const updateForm = (field: keyof typeof fields, value: string) => {\r\n    dispatch({\r\n      type: \"UPDATE_EMPLOYEE_FORM\",\r\n      payload: {\r\n        fields: {\r\n          ...fields,\r\n          [field]: value\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  const onChange = (field: keyof typeof fields)=>(e:any) =>{\r\n    const value = e.target.value\r\n    updateForm(field, value)\r\n  }\r\n\r\n  return <div style={{minWidth: 480}} className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n    <Form onSubmit={(e)=>{\r\n      e.preventDefault()\r\n      const employee: Employee = {\r\n        id: uuidv4(),\r\n        dni: `${fields.dni}${fields.dniComplement ? \"-\" : \"\"}${fields.dniComplement}${fields.dniIssuedAt ? \" \" : \"\"}${fields.dniIssuedAt}`,\r\n        name: fields.name,\r\n        middlename: fields.middlename,\r\n        lastname: fields.lastname,\r\n        gender: fields.gender as \"Masculino\" | \"Femenino\",\r\n        dateOfBirth: fields.dateOfBirth,\r\n        nationality: fields.nacionality as \"Boliviana\" | \"Extranjera\",\r\n        afp: fields.afp,\r\n        contract: {\r\n          type: fields.contractType,\r\n          startDate: fields.startDate,\r\n          jobId: fields.jobId,\r\n          salary: Math.round(parseFloat(fields.salary)*100)\r\n        }\r\n      }\r\n      dispatch({\r\n        type: \"ADD_EMPLOYEE\",\r\n        payload: employee\r\n      })\r\n      dispatch({\r\n        type: \"RESET_EMPLOYE_FORM\"\r\n      })\r\n    }}>\r\n      <fieldset>\r\n        <legend>Informacion Personal</legend>\r\n        <Form.Row>\r\n          <Form.Group as={Col} sm={6} md={4} controlId=\"employee-dni\">\r\n            <Form.Label>Carnet de Identidad</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.dni} onChange={onChange(\"dni\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} xs={6} sm={3} md={2} controlId=\"employee-dni-complement\">\r\n            <Form.Label>Complemento</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.dniComplement} onChange={onChange(\"dniComplement\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} xs={6} sm={3} md={2} controlId=\"employee-dni-issued-at\">\r\n            <Form.Label>Expedido en</Form.Label>\r\n            <Form.Control as=\"select\" value={fields.dniIssuedAt} onChange={onChange(\"dniIssuedAt\")} >\r\n            <option></option>\r\n            <option value=\"BN\">Beni</option>\r\n            <option value=\"CH\">Chuquisaca</option>\r\n            <option value=\"CB\">Cochabamba</option>\r\n            <option value=\"LP\">La Paz</option>\r\n            <option value=\"OR\">Oruro</option>\r\n            <option value=\"PN\">Pando</option>\r\n            <option value=\"PT\">Potosí</option>\r\n            <option value=\"SC\">Santa Cruz</option>\r\n            <option value=\"TJ\">Tarija</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row className=\"d-none\">\r\n          <Form.Group as={Col}>\r\n            <Button>Buscar</Button>\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n        <hr/>\r\n\r\n        <Form.Row>\r\n          <Form.Group as={Col} md={4} controlId=\"employee-name\">\r\n            <Form.Label>Nombre</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.name} onChange={onChange(\"name\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md={4} controlId=\"employee-middlename\">\r\n            <Form.Label>Apellido Paterno</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.middlename} onChange={onChange(\"middlename\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md={4} controlId=\"employee-lastname\">\r\n            <Form.Label>Apellido Materno</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.lastname} onChange={onChange(\"lastname\")} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} sm={4} controlId=\"employee-gender\">\r\n            <Form.Label>Sexo</Form.Label>\r\n            <Form.Control as={\"select\"} value={fields.gender} onChange={onChange(\"gender\")} >\r\n              <option id=\"1\" value=\"Masculino\">Hombre</option>\r\n              <option id=\"2\" value=\"Femenino\">Mujer</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Form.Group as={Col} sm={8} md={4} controlId=\"employee-dayofbirth\">\r\n            <Form.Label>Fecha de nacimiento</Form.Label>\r\n            <Form.Control type=\"date\" value={fields.dateOfBirth} onChange={onChange(\"dateOfBirth\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} md={4} controlId=\"employee-nationality\">\r\n            <Form.Label>Nacionalidad</Form.Label>\r\n            <Form.Control as=\"select\" value={fields.nacionality} onChange={onChange(\"nacionality\")} >\r\n              <option value=\"Boliviana\">Boliviana</option>\r\n              <option value=\"Extranjera\">Extranjera</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n      </fieldset>\r\n      <fieldset>\r\n        <legend>Informacion de Contrato</legend>\r\n        <Form.Row>\r\n          <Form.Group as={Col} md={4} controlId=\"employee-contract-type\">\r\n            <Form.Label>Tipo de contrato</Form.Label>\r\n            <Form.Control as={\"select\"} value={fields.contractType} onChange={onChange(\"contractType\")} >\r\n              <option id=\"1\" value=\"item\">Item</option>\r\n              <option id=\"2\" value=\"contrato laboral\">Contrato Laboral</option>\r\n              <option id=\"3\" value=\"consultoría\">Consultoría</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Form.Group as={Col} sm={8} md={4} controlId=\"employee-contract-start-date\">\r\n            <Form.Label>Fecha de inicio</Form.Label>\r\n            <Form.Control type=\"date\" value={fields.startDate} onChange={onChange(\"startDate\")} />\r\n          </Form.Group>\r\n          <Form.Group as={Col} sm={4} controlId=\"employee-contract-salary\">\r\n            <Form.Label>Salario</Form.Label>\r\n            <Form.Control type=\"number\" value={fields.salary} onChange={onChange(\"salary\")} />\r\n          </Form.Group>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"employee-contract-job-unit\">\r\n            <Form.Label>Unidad</Form.Label>\r\n            <Form.Control as={\"select\"} value={fields.unitId} onChange={onChange(\"unitId\")} >\r\n              <>\r\n                <option value=\"\"></option>\r\n                {units.map(unit=>(\r\n                  <option key={unit.id} value={unit.id} >{unit.name}</option>\r\n                ))}\r\n              </>\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Form.Group as={Col} controlId=\"employee-contract-job\">\r\n            <Form.Label>Cargo</Form.Label>\r\n            <Form.Control as=\"select\" value={fields.jobId} onChange={onChange(\"jobId\")} >\r\n              <>\r\n                <option value=\"\"></option>\r\n                {jobs.map(job=>(\r\n                  <option key={job.id} value={job.id} >{job.name}</option>\r\n                ))}\r\n              </>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form.Row>\r\n\r\n      </fieldset>\r\n      <fieldset>\r\n        <legend>Información sobre AFP</legend>\r\n        <Form.Row>\r\n          <Form.Group as={Col} controlId=\"employee-afp\">\r\n            <Form.Label>Empresa</Form.Label>\r\n            <Form.Control as=\"select\" value={fields.afp} onChange={onChange(\"afp\")} >\r\n              <option></option>\r\n              <option value=\"Prevision\">Previsión</option>\r\n              <option value=\"Futuro\">Futuro</option>\r\n              <option value=\"No aporta\">No aporta</option>\r\n              <option></option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form.Row>\r\n      </fieldset>\r\n      <Button type=\"submit\">Registrar</Button>\r\n    </Form>\r\n  </div>\r\n}","import React, { ComponentProps } from 'react'\r\nimport { Link, Router } from 'react-router-dom'\r\nimport { JsxElement } from 'typescript'\r\n\r\ntype MenuItem = {\r\n  id: string,\r\n  title: string,\r\n  path: string,\r\n  icon?: React.ReactNode,\r\n  items?: MenuItem[]\r\n}\r\n\r\nconst SidebarItem = (item: MenuItem)=>{\r\n  return <>\r\n    <Link to={item.path} \r\n      className=\"list-group-item list-group-item-action border-0 text-nowrap\"\r\n      style={{\r\n        padding: \".5rem 1rem\"\r\n      }}\r\n      key={item.id}>\r\n        {item.icon}<span style={{verticalAlign: 'middle', marginLeft: '0.5rem'}}>{item.title}</span>\r\n    </Link>\r\n    {item.items && item.items.map(subitem=>{\r\n      return <Link to={subitem.path} \r\n        style={{\r\n          padding: \".5rem 1rem\",\r\n          paddingLeft: \"2rem\"\r\n        }}\r\n        className=\"list-group-item list-group-item-action border-0 text-nowrap\" \r\n        key={subitem.id}>\r\n          {subitem.icon}<span style={{verticalAlign: 'middle', marginLeft: '0.5rem'}}>{subitem.title}</span>\r\n      </Link>\r\n    })}\r\n  </>\r\n}\r\n\r\nexport type SidebarProps = ComponentProps<\"div\"> & {\r\n  side?: 'left' | 'right',\r\n  title?: string | JsxElement,\r\n  items?: MenuItem[],\r\n  renderItem?: (item: MenuItem) => JsxElement\r\n}\r\nexport const Sidebar = (props: SidebarProps) => {\r\n  const {className=\"\", side=\"right\", title=\"\", items=[], renderItem, ...rest} = props\r\n  const borderClass = {left: 'border-left', right: 'border-right'}\r\n  return <div className={`${className}  ${borderClass[side]}`} id=\"sidebar-wrapper\">\r\n    <div className=\"sidebar-heading\">{title}</div>\r\n    <div className=\"list-group\">\r\n      {items.map(item=>(\r\n        <SidebarItem key={item.id} {...item} />\r\n      ))}      \r\n    </div>\r\n    {/* <div className=\"list-group list-group-flush\">\r\n      {items.map(item=><a href=\"#\" className=\"list-group-item list-group-item-action\" key={item.id}>{renderItem ? renderItem(item):item.title}</a>)}\r\n    </div> */}\r\n  </div>\r\n  \r\n}","import React from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport { useRouteMatch, Switch, Route, Redirect } from 'react-router-dom'\r\nimport { Sidebar, SidebarProps } from '../Sidebar'\r\n\r\ntype Props = {\r\n  sidebar: SidebarProps\r\n  children: React.ReactNode\r\n}\r\nexport const SidebarLayout = ({sidebar, children}: Props)=>{\r\n  const showSidebar = useSelector((state:any)=>state.main.showSidebar)\r\n  const { path, url } = useRouteMatch()\r\n  \r\n  return <div className={\"position-relative d-flex flex-grow-1 bg-light\" + (showSidebar ? \"\" : \" toggled\")}  id=\"wrapper\">\r\n    <Sidebar className=\"bg-white shadow-sm\" {...sidebar}/>\r\n    <Container className=\"d-flex flex-column flex-grow-1\" style={{overflow: \"auto\"}}>\r\n      {/* <Switch>\r\n        <Route exact path={path}>\r\n            <Redirect to={`${path}/organizacion`} />\r\n        </Route>\r\n        <Route  path={`${path}/organizacion`}><Organization /></Route>\r\n        <Route  path={`${path}/empleados/registrar`}><EmployeeForm /></Route>\r\n        <Route  exact path={`${path}/empleados`}><EmployeesList /></Route>\r\n      </Switch> */}\r\n      {children}\r\n    </Container>\r\n  </div>\r\n}\r\n\r\nexport default SidebarLayout","import React from 'react'\r\nimport { ListGroup } from 'react-bootstrap'\r\n\r\nexport default ()=>{\r\n  return <div className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n  <h1 style={{fontSize: \"2rem\"}}>Deducciones</h1>\r\n  <div className=\"list-details position-relative d-flex flex-grow-1\">\r\n    <div className=\"list\">\r\n    <ListGroup className=\"flex-grow-1\" defaultActiveKey=\"#link1\">\r\n      <ListGroup.Item action href=\"#link1\">\r\n        Link 1\r\n      </ListGroup.Item>\r\n    </ListGroup>\r\n    </div>\r\n    <div className=\"p-3 border flex-grow-1\"  style={{marginLeft: \"11rem\"}}>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n} ","import React from 'react'\r\nimport { Table } from 'react-bootstrap'\r\n\r\nexport default () => {\r\n  return <div className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n  <h1 style={{fontSize: \"2rem\"}}>Lista de empleados</h1>\r\n  {/* <FilterEmployeesForm /> */}\r\n  {/* <div className=\"ml-auto mb-2\">\r\n    <Link to={`${url}/registrar`} className=\"btn btn-primary text-white\">Registrar</Link>\r\n  </div> */}\r\n  <Table responsive className=\"small text-nowrap\">\r\n    <thead>\r\n      <tr>\r\n        <th style={{width: 0}}>#</th>\r\n        <th >Fecha de inicio</th>\r\n        <th >Fecha de cierre</th>\r\n        <th >Titulo</th>\r\n        <th >Total</th>\r\n        <th ></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n\r\n    </tbody>\r\n  </Table>\r\n</div>\r\n}","import { PayrollAwareState } from \"../reducers\";\r\n\r\nexport const getWages =  ({payrolls: {entities}}: PayrollAwareState) => entities.wages\r\nexport const getDeductions =  ({payrolls: {entities}}: PayrollAwareState) => entities.deductions\r\nexport const getApplicableDeductions =  ({payrolls: {entities}}: PayrollAwareState) => entities.applicableDeductions\r\nexport const getPayrolls =  ({payrolls: {entities}}: PayrollAwareState) => entities.payrolls\r\nexport const getPayrollTypes =  ({payrolls: {entities}}: PayrollAwareState) => entities.payrollTypes\r\nexport const getCalculationMethods =  ({payrolls: {entities}}: PayrollAwareState) => entities.calculationMethods\r\n\r\nexport const getSelectedWageId = ({payrolls: {ui}}: PayrollAwareState) => ui.selectedWageId\r\n\r\nexport const getWageForm = ({payrolls: {ui}}: PayrollAwareState) => ui.wageForm","import React, {useMemo} from 'react'\r\nimport { ListGroup, Table } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeGetWageById } from '../selectors/getSelectedWage'\r\nimport { Wage } from '../state'\r\n\r\n\r\nexport const WageDetails = ({wageId}: {wageId: number})=>{\r\n  const getWageById = useMemo(()=>makeGetWageById(wageId), [wageId])\r\n  const wage = useSelector(getWageById)\r\n  console.log(wage)\r\n\r\n  return wage ? <div>\r\n    <h2 style={{fontSize: \"1.75rem\"}}>{wage.name}</h2>\r\n    <p>{wage.description}</p>\r\n    <Table>\r\n      {/* <tr>\r\n        <th scope=\"row\" style={{width: '1px'}}>Descripción</th>\r\n        <td>{wage.description}</td>\r\n      </tr> */}\r\n      <tr>\r\n        <th className=\"text-nowrap\" scope=\"row\" style={{width: '1px'}}>Tipo de nomina</th>\r\n        <td>{wage.payrollType!.name}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Vigente</th>\r\n        <td>{wage.inForce ? 'Sí' : 'No'}</td>\r\n      </tr>\r\n      <tr>\r\n        <th className=\"text-nowrap\" scope=\"row\">Método de cálculo</th>\r\n        <td>{wage.calculationMethod!.name + (wage.calculationMethod!.id == 1 ? ` (${wage.formula})` : \"\")}</td>\r\n      </tr>\r\n      <tr>\r\n        <th scope=\"row\">Descuentos aplicados</th>\r\n        {\r\n          wage.applicableDeductions.length ? \r\n            <td >{wage.applicableDeductions.map(d=>d.name).join(', ')}</td> : \r\n            <td className=\"bg-light\">No se aplican descuentos</td>\r\n        }\r\n      </tr>\r\n    </Table>\r\n    {/* <h3 style={{fontSize: \"1.5rem\"}}>A este ingreso se le aplicaran las siguientes deducciones:</h3> */}\r\n    {/* <ListGroup>\r\n      {wage.applicableDeductions.map(d=>{\r\n        return <ListGroup.Item key={d.id}>\r\n          {d.name}\r\n        </ListGroup.Item>\r\n      })}\r\n    </ListGroup> */}\r\n  </div> : null\r\n}","import { createSelector } from \"reselect\";\r\nimport applicableDeductions from \"../reducers/entities/applicableDeductions\";\r\nimport { getSelectedWageId, getWages, getDeductions, getApplicableDeductions, getPayrollTypes, getCalculationMethods } from \"./inputSelectors\";\r\n\r\nexport const getSelectedWage = createSelector(\r\n  getWages,\r\n  getDeductions,\r\n  getApplicableDeductions,\r\n  getPayrollTypes,\r\n  getSelectedWageId,\r\n  (wages, deductions, applicableDeductions, payrollTypes, selectedWageId) => {\r\n    const selectedWage = wages.find(w=>w.id == selectedWageId)\r\n    return selectedWage && {\r\n      id: selectedWage?.id,\r\n      name: selectedWage?.name,\r\n      description: selectedWage?.description,\r\n      inForce: selectedWage?.inForce,\r\n      payrollType: payrollTypes.find(t=>t.id == selectedWage?.payrollTypeId)!,\r\n      applicableDeductions: deductions.filter(d=>{\r\n        return applicableDeductions.some(ad => ad.wageId == selectedWage?.id && ad.deductionId == d.id)\r\n      })\r\n    }\r\n  }\r\n)\r\n\r\nexport const makeGetWageById = (wageId: number)=>{\r\n  return createSelector(\r\n    getWages,\r\n    getDeductions,\r\n    getApplicableDeductions,\r\n    getCalculationMethods,\r\n    getPayrollTypes,\r\n    (wages, deductions, applicableDeductions, calculationMethods, payrollTypes) => {\r\n      const selectedWage = wages.find(w=>w.id == wageId)\r\n      console.log(\"Selected Wage\", selectedWage)\r\n      return selectedWage && {\r\n        id: selectedWage?.id,\r\n        name: selectedWage?.name,\r\n        description: selectedWage?.description,\r\n        inForce: selectedWage?.inForce,\r\n        formula: selectedWage?.formula,\r\n        payrollType: payrollTypes.find(t=>t.id == selectedWage?.payrollTypeId),\r\n        calculationMethod: calculationMethods.find(c=>c.id == selectedWage?.calculationMethodId),\r\n        applicableDeductions: deductions.filter(d=>{\r\n          return applicableDeductions.some(ad => ad.wageId == selectedWage?.id && ad.deductionId == d.id)\r\n        })\r\n      }\r\n    }\r\n  )\r\n}","import React from 'react'\r\nimport { ListGroup } from 'react-bootstrap'\r\nimport { Item, Menu, useContextMenu } from 'react-contexify'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { getWages } from '../selectors/inputSelectors'\r\n\r\nconst MENU_ID = \"WG_LS_MENU\"\r\nexport const WagesList = ()=>{\r\n  const wages = useSelector(getWages)\r\n  const dispatch = useDispatch()\r\n  const { show } = useContextMenu({\r\n    id: MENU_ID\r\n  });\r\n  const history = useHistory()\r\n  const { path, url } = useRouteMatch()\r\n\r\n  return <>\r\n    <ListGroup className=\"flex-grow-1\"  variant=\"flush\" onContextMenu={(e: any)=>{\r\n      show(e, {\r\n        props: { id: null}\r\n      })\r\n    }}>\r\n      {wages.map(w=>{\r\n        return <ListGroup.Item key={w.id} className=\"py-2 px-3\" href={`#${w.id}`} action onContextMenu={(e)=>{\r\n          e.stopPropagation()\r\n          show(e, {\r\n            props: {\r\n              id: w.id\r\n            }\r\n          })\r\n        }} >\r\n          {w.name}\r\n        </ListGroup.Item>\r\n      })}\r\n    </ListGroup>\r\n    <Menu id={MENU_ID}>\r\n      <Item hidden={({props})=>props.id} onClick={function({props}){\r\n          history.push(`${url}/crear`, {})\r\n        }}>\r\n        Crear\r\n      </Item>\r\n      <Item hidden={({props})=>!props.id} onClick={function({props}){\r\n          const id = props.id\r\n          history.push(`${url}/editar/${id}`, {})\r\n        }}>\r\n        Editar\r\n      </Item>\r\n      <Item hidden={({props})=>!props.id} onClick={function({props}){\r\n        const id = props.id\r\n        // if(confirm(\"¿Está seguro de eliminar? Esta accion es irreversible\")){\r\n          dispatch({\r\n            type: \"DELETE_WAGE_TYPE\",\r\n            payload: id\r\n          })\r\n        // }\r\n      }}>\r\n        Eliminar\r\n      </Item>\r\n    </Menu>\r\n  </>\r\n}","import React from 'react'\r\nimport { Tab } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport { WageDetails } from './WageDetails'\r\nimport { WagesList } from './WagesList'\r\nimport { getWages } from '../selectors/inputSelectors'\r\n\r\nexport default ()=>{\r\n  const wages = useSelector(getWages)\r\n  return <div className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n  <h1 style={{fontSize: \"2rem\"}}>Bonos</h1>\r\n  <Tab.Container transition={false} >\r\n    <div className=\"list-details position-relative d-flex flex-grow-1\">\r\n      <div className=\"list border\">\r\n        <WagesList />\r\n      </div>\r\n      <Tab.Content className=\"p-3 border flex-grow-1\"  style={{marginLeft: \"11rem\"}}>\r\n        {\r\n          wages.map(w=>{\r\n            return <Tab.Pane eventKey={`#${w.id}`}>\r\n              <WageDetails key={w.id} wageId={w.id} />\r\n            </Tab.Pane>\r\n          })\r\n        }\r\n      </Tab.Content>\r\n    </div>\r\n  </Tab.Container>\r\n</div>\r\n} ","import React, { useCallback, useEffect } from 'react'\r\nimport { Modal, Button, Form, Row, Col, ListGroup, InputGroup, FormControl } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { getWageForm, getCalculationMethods, getWages, getDeductions, getApplicableDeductions, getPayrollTypes } from '../selectors/inputSelectors'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport const WageForm = () => {\r\n  const dispatch = useDispatch()\r\n  const { action, id } = useParams<{\r\n    action: string,\r\n    id: string\r\n  }>()\r\n  const { fields, info: fieldsInfo } = useSelector(getWageForm)\r\n  console.log(fields)\r\n  const calculationMethods = useSelector(getCalculationMethods)\r\n  const payrollTypes = useSelector(getPayrollTypes)\r\n  const wage = useSelector(getWages).find(w=>w.id == id as unknown)\r\n  const applicableDeductionIds = useSelector(getApplicableDeductions).filter(ad=>ad.wageId == wage?.id).map(ad=>ad.deductionId)\r\n  const deductions = useSelector(getDeductions).sort((a, b) => a.name < b.name ? -1 : a.name > b.name ? 1 : 0)\r\n  const history = useHistory()\r\n  console.log(wage)\r\n  useEffect(()=>{\r\n    if(wage){\r\n      dispatch({\r\n        type:\"UPDATE_WAGE_FORM\",\r\n        payload: {\r\n          fields: {\r\n            name: wage.name,\r\n            description: wage.description,\r\n            inForce: wage.inForce,\r\n            payrollTypeId: wage.payrollTypeId,\r\n            calculationMethodId: wage.calculationMethodId,\r\n            formula: wage.formula,\r\n            applicableDeductionIds: applicableDeductionIds\r\n          }\r\n        }\r\n      })\r\n    }\r\n    else{\r\n      dispatch({\r\n        type:\"RESET_WAGE_FORM\"\r\n      })\r\n    }\r\n  }, [id])\r\n\r\n  const goBack = useCallback(() => {\r\n    console.log(history.location)\r\n    if (!history.location.state)\r\n      history.replace(\"/rrhh/nominas/percepciones\")\r\n    else\r\n      history.goBack()\r\n  }, [])\r\n\r\n\r\n  const updateForm = (field: keyof typeof fields, value: string) => {\r\n    dispatch({\r\n      type: \"UPDATE_WAGE_FORM\",\r\n      payload: {\r\n        fields: {\r\n          ...fields,\r\n          [field]: value\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  const onChange = (field: keyof typeof fields) => (e: any) => {\r\n    const value = e.target.value\r\n    updateForm(field, value)\r\n  }\r\n\r\n  return <Modal show={true} centered onHide={goBack}>\r\n    <Modal.Header closeButton>\r\n      <Modal.Title>{`${id ? \"Editar\" : \"Crear\"} Percepción`}</Modal.Title>\r\n    </Modal.Header>\r\n    <Modal.Body>\r\n      <Form id=\"wage-form\" onSubmit={(e) => {\r\n        e.preventDefault()\r\n        const wageId =  action == 'crear' ? uuidv4().replaceAll('-', '') : id\r\n        dispatch({\r\n          type: action == 'crear' ? 'ADD_WAGE_TYPE' : 'EDIT_WAGE_TYPE',\r\n          payload: {\r\n            wage: {\r\n              id: wageId,\r\n              name: fields.name,\r\n              description: fields.description,\r\n              inForce: fields.inForce,\r\n              formula: fields.formula,\r\n              payrollTypeId: parseInt(fields.payrollTypeId),\r\n              calculationMethodId: parseInt(fields.calculationMethodId),\r\n            },\r\n            applicableDeductions: fields.applicableDeductionIds.map(deductionId => {\r\n              return {\r\n                deductionId,\r\n                wageId\r\n              }\r\n            })\r\n          }\r\n        })\r\n        goBack()\r\n      }}>\r\n        <Form.Group>\r\n          <Form.Label>Nombre</Form.Label>\r\n          <Form.Control type=\"text\" value={fields.name} onChange={onChange(\"name\")} />\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Label>Descripción</Form.Label>\r\n          <Form.Control as=\"textarea\" value={fields.description} onChange={onChange(\"description\")} />\r\n        </Form.Group>\r\n        <Form.Check className=\"mb-3\" type=\"checkbox\" label=\"Vigente\" checked={fields.inForce} onChange={(e)=>{\r\n          dispatch({\r\n            type: \"UPDATE_WAGE_FORM\",\r\n            payload: {\r\n              fields: {\r\n                ...fields,\r\n                inForce: e.target.checked\r\n              }\r\n            }\r\n          })\r\n        }}/>\r\n        <Row>\r\n          <Form.Group as={Col}>\r\n            <Form.Label>Tipo de nomina</Form.Label>\r\n            <Form.Control as=\"select\" value={fields.payrollTypeId} onChange={onChange(\"payrollTypeId\")} >\r\n              <option></option>\r\n              {\r\n                payrollTypes.map(pt => {\r\n                  return <option key={pt.id} value={pt.id}>{pt.name}</option>\r\n                })\r\n              }\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Form.Group as={Col}>\r\n            <Form.Label>Metodo de cálculo</Form.Label>\r\n            <Form.Control as=\"select\" value={fields.calculationMethodId} onChange={(e) => {\r\n              const value = e.target.value\r\n              dispatch({\r\n                type: \"UPDATE_WAGE_FORM\",\r\n                payload: {\r\n                  fields: {\r\n                    ...fields,\r\n                    calculationMethodId: value\r\n                  },\r\n                  info: {\r\n                    ...fieldsInfo,\r\n                    calculationMethodId: calculationMethods.find(cm => cm.id == parseInt(value))?.description\r\n                  }\r\n                }\r\n              })\r\n            }} >\r\n              <option>¿Cómo debe calcularse?</option>\r\n              {calculationMethods.map(cm => (\r\n                <option key={cm.id} value={cm.id}>{cm.name}</option>\r\n              ))}\r\n            </Form.Control>\r\n            {/* <Form.Text>{fieldsInfo.calculationMethodId}</Form.Text> */}\r\n          </Form.Group>\r\n        </Row>\r\n        {fields.calculationMethodId == \"1\" ? <Form.Group>\r\n          <Form.Label>Formula</Form.Label>\r\n          <Form.Control type=\"text\" value={fields.formula} onChange={onChange(\"formula\")} />\r\n        </Form.Group> : null}\r\n        {/* {fields.calculationMethodId == \"1\" ? <Form.Group>\r\n          <Form.Label>Cantidad</Form.Label>\r\n          <Form.Control type=\"number\" value={fields.amount} onChange={onChange(\"amount\")} />\r\n        </Form.Group> :\r\n          fields.calculationMethodId == \"2\" ? <>\r\n            <label>Porcentaje</label>\r\n            <InputGroup className=\"mb-3\">\r\n              <FormControl\r\n                className=\"text-right\"\r\n                // placeholder=\"Recipient's username\"\r\n                // aria-label=\"Recipient's username\"\r\n                aria-describedby=\"basic-addon2\"\r\n                type=\"number\" value={fields.percentage} onChange={onChange(\"percentage\")}\r\n              />\r\n              <InputGroup.Append>\r\n                <InputGroup.Text id=\"basic-addon2\">%</InputGroup.Text>\r\n              </InputGroup.Append>\r\n            </InputGroup>\r\n          </> : null} */}\r\n        <span className=\"mb-2\">Descuentos que se aplicarán</span>\r\n        <ListGroup as=\"ul\" className=\"overflow-auto border flex-grow-1\" variant=\"flush\" style={{height: \"10rem\"}}>\r\n          {deductions.map(d=>{\r\n            return <ListGroup.Item key={d.id} as=\"li\" className=\"py-2 px-3\" action>\r\n              <Form.Check type=\"checkbox\"\r\n                label={d.name}\r\n                checked={fields.applicableDeductionIds.some(id=>id == d.id)}\r\n                onChange={(e)=>{\r\n                  console.log(e.target.checked)\r\n                  let newSelection; // = [...fields.applicableDeductionIds]\r\n                  if(e.target.checked){\r\n                    if(!fields.applicableDeductionIds.some(id=>id==d.id)){\r\n                      newSelection = [...fields.applicableDeductionIds]\r\n                      newSelection.push(d.id)\r\n                    }\r\n                  }\r\n                  else{\r\n                    newSelection = fields.applicableDeductionIds.filter(id => id != d.id)\r\n                  }\r\n                  fields.applicableDeductionIds.filter(id => id)\r\n                  dispatch({\r\n                    type: \"UPDATE_WAGE_FORM\",\r\n                    payload: {\r\n                      fields: {\r\n                        ...fields,\r\n                        applicableDeductionIds: newSelection\r\n                      }\r\n                    }\r\n                  })\r\n\r\n              }}/>\r\n            </ListGroup.Item>\r\n          })}\r\n        </ListGroup>\r\n      </Form>\r\n    </Modal.Body>\r\n    <Modal.Footer>\r\n      <Button variant=\"secondary\" onClick={goBack}>\r\n        Cancelar\r\n      </Button>\r\n      <Button variant=\"primary\" form='wage-form' type=\"submit\">\r\n        Guardar\r\n      </Button>\r\n    </Modal.Footer>\r\n  </Modal>\r\n}","import React from 'react'\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\r\nimport Deductions from './Deductions'\r\nimport Payrolls from './Payrolls'\r\nimport Wages from './Wages'\r\nimport {WageForm} from './WageForm'\r\n\r\nexport default ()=>{  \r\n  const { path, url } = useRouteMatch()\r\n  return <>\r\n    <Switch>\r\n      <Route exact path={`${url}`}>\r\n        <Payrolls />\r\n      </Route>\r\n      <Route path={`${url}/percepciones`}>\r\n        <Wages />\r\n      </Route>\r\n      <Route path={`${url}/deducciones`}>\r\n        <Deductions />\r\n      </Route>\r\n    </Switch>\r\n    \r\n    <Route exact path={`${url}/percepciones/:action(crear)`}>\r\n      <WageForm />\r\n    </Route>\r\n    <Route exact path={`${url}/percepciones/:action(editar)/:id`}>\r\n      <WageForm />\r\n    </Route>\r\n  </>\r\n}","import React from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport { useRouteMatch, Switch, Route, Redirect } from 'react-router-dom'\r\nimport {Sidebar} from '../../commons/components/Sidebar'\r\nimport Organization from '../../features/organization/components/Organization'\r\nimport {EmployeesList} from '../../features/employees/components/EmployeesList'\r\nimport {EmployeeForm} from '../../features/employees/components/EmployeeForm'\r\nimport { FaBuilding, FaCalculator } from 'react-icons/fa'\r\nimport { BsPersonFill, BsPersonPlusFill } from 'react-icons/bs'\r\nimport { GiReceiveMoney, GiPayMoney } from 'react-icons/gi'\r\nimport { GrMoney } from 'react-icons/gr'\r\nimport SidebarLayout from '../../commons/components/layouts/SidebarLayout'\r\nimport PayrollRoutes from '../../features/payrolls/components/PayrollRoutes'\r\n\r\nexport const HrApp = ()=>{\r\n  const { path, url } = useRouteMatch()\r\n  return <SidebarLayout sidebar={{\r\n    items: [\r\n      {\r\n        id: \"organizational-structure\",\r\n        icon: <FaBuilding />,\r\n        path: `${url}/organizacion`,\r\n        title: \"Estructura Organizacional\" \r\n      },\r\n      {\r\n        id: \"employee\",\r\n        icon: <BsPersonFill />,\r\n        path: `${url}/empleados`,\r\n        title: \"Empleados\",\r\n        items: [\r\n          {\r\n            id: \"registrar-empleado\",\r\n            icon: <BsPersonPlusFill />,\r\n            path: `${url}/empleados/registrar`,\r\n            title: \"Registrar\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: \"payroll\",\r\n        icon: <GrMoney />,\r\n        path: `${url}/nominas`,\r\n        title: \"Nominas\",\r\n        items: [\r\n          {\r\n            id: \"compute\",\r\n            icon: <FaCalculator />,\r\n            path: `${url}/nominas/calcular`,\r\n            title: \"Calcular nomina\"\r\n          },\r\n          {\r\n            id: \"payroll-types\",\r\n            icon: <BsPersonPlusFill />,\r\n            path: `${url}/nominas/tipos`,\r\n            title: \"Tipos de nominas\"\r\n          },\r\n          {\r\n            id: \"payroll-wages\",\r\n            icon: <GiReceiveMoney />,\r\n            path: `${url}/nominas/percepciones`,\r\n            title: \"Bonos\"\r\n          },\r\n          {\r\n            id: \"payroll-deductions\",\r\n            icon: <GiPayMoney />,\r\n            path: `${url}/nominas/deducciones`,\r\n            title: \"Deducciones\"\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }}>\r\n    <Switch>\r\n      <Route exact path={path}>\r\n          <Redirect to={`${path}/organizacion`} />\r\n      </Route>\r\n      <Route  path={`${path}/organizacion`}><Organization /></Route>\r\n      <Route  path={`${path}/empleados/registrar`}><EmployeeForm /></Route>\r\n      <Route  path={`${path}/empleados/:id/ver`}><EmployeeForm /></Route>\r\n      <Route  exact path={`${path}/empleados`}><EmployeesList /></Route>\r\n      <Route path={`${path}/nominas`}><PayrollRoutes /></Route>\r\n    </Switch>\r\n  </SidebarLayout>\r\n}\r\n\r\nexport default HrApp","import React, {useState, useEffect} from \"react\"\r\n\r\nexport const LoadingInput = (props: React.ComponentProps<'input'> & { loading: boolean }) => {\r\n    const [count, setCount] = useState(0);\r\n    const {placeholder, loading} = props\r\n\r\n    useEffect(()=>{\r\n        const timeout = setInterval(()=>{\r\n            setCount((count)=>(count+1)%3)\r\n        }, 1000)\r\n        return ()=>clearInterval(timeout)\r\n    }, [])\r\n    const loadingPlaceholder = placeholder + (loading ? (new Array(count+1).join('.')) : \"\")\r\n    return <input {...props} placeholder={loadingPlaceholder} />\r\n}","import React, {useEffect} from 'react'\r\nimport PDFObject from 'pdfobject'\r\n\r\nexport function PDFViewer({url, height}:{url: string, height: number}) {\r\n    useEffect(()=>{\r\n      var options = {\r\n        fallbackLink: '<p>Este navegador no soporta la visualizacion de archivos PDF en linea, por favor descarga el archivo haciendo clic : <a href=\"[url]\">aquí</a></p>'\r\n      };\r\n     \r\n      PDFObject.embed(url, \"#pdfcontainer\", options);\r\n    }, [url])\r\n    return <div id=\"pdfcontainer\" style={{height}}></div>\r\n  }","import { useRef, useEffect, useState, useCallback, DependencyList, MutableRefObject, useMemo } from 'react'\r\n\r\nexport const useCallbackRef = <T extends (...args: any[]) => any>(callback: T, deps: DependencyList): MutableRefObject<T> => {\r\n  const callbackRef = useRef(callback)\r\n  useEffect(() => {\r\n\tcallbackRef.current = callback\r\n  }, [deps])\r\n  return callbackRef\r\n}\r\ntype FetchState = {\r\n  completed?: boolean,\r\n  data?: any,\r\n  error?: boolean\r\n}\r\n\r\ntype Fetcher = [\r\n  state: FetchState,\r\n  send: ()=>void\r\n]\r\n\r\nexport const useFetch = (callback: ()=>Promise<Response> | Promise<Response[]>, deps: DependencyList):Fetcher=>{\r\n  const [state, setState] = useState<FetchState>({});\r\n  const fetchRef = useCallbackRef(callback, deps)\r\n  const send = useCallback(()=>{\r\n    const request = async ()=>{\r\n      setState({\r\n        completed: false,\r\n      })\r\n      const response = await fetchRef.current()\r\n      const data = await (Array.isArray(response) ? Promise.all(response.map(r=>r.json())) : response.json())\r\n      if(Array.isArray(response) ? response.every(r=>r.ok) : response.ok){\r\n        setState({\r\n          completed: true,\r\n          data,\r\n          error: false\r\n        })\r\n      }\r\n      else{\r\n        setState({\r\n          completed: true,\r\n          data,\r\n          error: false\r\n        })\r\n      }\r\n    }\r\n    request().catch((e)=>{\r\n      setState({\r\n        completed: true,\r\n        error: true\r\n      })\r\n    })\r\n  },[])\r\n\r\n  return [state, send]\r\n}","import React, { useState, useCallback, useRef, useEffect } from 'react'\r\nimport { Form, Col, FormControlProps } from 'react-bootstrap'\r\nimport {LoadingInput} from '../../../commons/components'\r\nimport {useFetch} from '../../../commons/hooks'\r\nimport {baseUrl} from \"../../../configs/app.json\"\r\n\r\ntype Paciente = {\r\n  id: number,\r\n  carnet: string,\r\n  nombre: string,\r\n  fechaExt: string,\r\n  estado: number,\r\n  empresa: {\r\n    nombre: string,\r\n    estado: number\r\n  }\r\n}\r\n\r\ntype Props = {\r\n  disabled?: boolean,\r\n  paciente: Paciente,\r\n  onChange: (paciente: Paciente)=>void\r\n}\r\n\r\nconst initial = {\r\n  id: 0,\r\n  carnet: \"\",\r\n  nombre: \"\",\r\n  fechaExt: \"\",\r\n  estado: -1,\r\n  empresa: {\r\n    nombre: \"\",\r\n    estado: -1\r\n  }\r\n}\r\n\r\nexport default ({disabled, paciente, onChange}: Props) => {\r\n  const lastCarnet = useRef(paciente.carnet)\r\n  const [stateOfGetPaciente, getPaciente] = useFetch(()=>fetch(baseUrl + `/pacientes?carnet=${paciente.carnet}`), [paciente.carnet])\r\n\r\n  const onChangeCarnet = useCallback<NonNullable<FormControlProps[\"onChange\"]>>((e)=>{\r\n    const value = e.target.value.toUpperCase()\r\n    onChange({\r\n      ...initial,\r\n      carnet: value\r\n    })\r\n  }, [paciente])\r\n\r\n  const onBlurCarnet = useCallback((e: React.FocusEvent<HTMLInputElement>)=>{\r\n    if(lastCarnet.current != paciente.carnet){\r\n      lastCarnet.current = paciente.carnet\r\n      getPaciente()\r\n    }\r\n  }, [paciente.carnet])\r\n\r\n  useEffect(()=>{\r\n    if(stateOfGetPaciente.completed && !stateOfGetPaciente.error){\r\n      const data = stateOfGetPaciente.data\r\n      if(data.length){\r\n        const {fecha_ext, ...rest} = data[0];\r\n        onChange({\r\n          ...rest,\r\n          fechaExt: fecha_ext\r\n        })\r\n      }\r\n    }\r\n  }, [stateOfGetPaciente])\r\n\r\n  return <fieldset disabled={disabled} >\r\n  <legend>Paciente</legend>\r\n  <Form.Row>\r\n    <Form.Group as={Col} sm controlId=\"carnet_paciente\">\r\n      <Form.Label>Nº Carnet</Form.Label>\r\n      <Form.Control type=\"text\" \r\n        isInvalid={stateOfGetPaciente.completed && !stateOfGetPaciente.error && !stateOfGetPaciente.data.length} \r\n        onChange={onChangeCarnet} \r\n        onBlur={onBlurCarnet} value={paciente.carnet} />\r\n    </Form.Group>\r\n    <Form.Group as={Col} sm={9} controlId=\"nombre_paciente\">\r\n      <Form.Label>Nombre</Form.Label>\r\n      <Form.Control  as={LoadingInput} loading={stateOfGetPaciente.completed===false}\r\n        placeholder={stateOfGetPaciente.completed===false ? \"Buscando\":  stateOfGetPaciente.error ? \"Error\" : \"\"}\r\n        readOnly type=\"text\" value={paciente.nombre.toUpperCase()} />\r\n    </Form.Group>\r\n  </Form.Row>\r\n  <Form.Row>\r\n    <Form.Group as={Col} sm controlId=\"carnet_paciente\">\r\n      <Form.Label>Fecha de Ext.</Form.Label>\r\n      <Form.Control as={LoadingInput} loading={stateOfGetPaciente.completed===false}\r\n        placeholder={stateOfGetPaciente.completed===false ? \"Buscando\":  stateOfGetPaciente.error ? \"Error\" : \"\"}\r\n        readOnly type=\"text\" value={paciente.fechaExt}\r\n        isInvalid={paciente.fechaExt!=null && (Date.now() >= (new Date(paciente.fechaExt)).getTime())} \r\n      />\r\n    </Form.Group>\r\n    {/* <Form.Group as={Col} sm={9} controlId=\"nombre_paciente\">\r\n      <Form.Label>Estado de afiliación</Form.Label>\r\n      <Form.Control  as={LoadingInput} loading={stateOfGetPaciente.completed===false}\r\n        placeholder={stateOfGetPaciente.completed===false ? \"Buscando\":  stateOfGetPaciente.error ? \"Error\" : \"\"}\r\n        readOnly type=\"text\" value={paciente.estado == 1 ? \"Activo\" : paciente.estado == 1 ? \"Baja\" : \"\"}\r\n        isInvalid={paciente.estado == 2}  />\r\n    </Form.Group> */}\r\n  </Form.Row>\r\n  <Form.Row>\r\n    <Form.Group as={Col} sm={9} controlId=\"empresa\">\r\n      <Form.Label>Empresa</Form.Label>\r\n      <Form.Control as={LoadingInput} loading={stateOfGetPaciente.completed===false}\r\n        placeholder={stateOfGetPaciente.completed===false ? \"Buscando\":  stateOfGetPaciente.error ? \"Error\" : \"\"}\r\n        readOnly type=\"text\" value={paciente.empresa.nombre.toUpperCase()} />\r\n    </Form.Group>\r\n    <Form.Group as={Col} sm controlId=\"estado\">\r\n      <Form.Label>Estado de la empresa</Form.Label>\r\n      <Form.Control  as={LoadingInput} loading={stateOfGetPaciente.completed===false}\r\n        placeholder={stateOfGetPaciente.completed===false ? \"Buscando\":  stateOfGetPaciente.error ? \"Error\" : \"\"}\r\n        readOnly type=\"text\" isInvalid={paciente.empresa.estado==2} value={paciente.empresa.estado == 1 ? \"Al Día\" : paciente.empresa.estado == 2 ? \"Mora\" : \"\"} />\r\n    </Form.Group>\r\n  </Form.Row>\r\n</fieldset>\r\n\r\n}","import React, { useCallback, useState, useEffect, useRef} from 'react';\r\nimport { Form, Button, Table, FormControlProps, Spinner, Modal, Alert } from 'react-bootstrap'\r\nimport { FaMinus as FaTrash, FaPlus } from 'react-icons/fa'\r\nimport PacientFieldset from './PacientFieldset'\r\nimport { PDFViewer } from './../../../commons/components'\r\nimport {useFetch} from'./../../../commons/hooks'\r\nimport {baseUrl} from './../../../configs/app.json'\r\n\r\ntype Doctor = {\r\n  id: number,\r\n  nombre: string,\r\n}\r\ntype Proveedor = {\r\n  id: number,\r\n  nombre: string,\r\n  servicios: {\r\n    id: number,\r\n  }[]\r\n}\r\ntype Servicio = {\r\n  id: number,\r\n  nombre: string,\r\n}\r\n\r\ntype FormState = {\r\n  paciente: {\r\n    id: number,\r\n    carnet: string,\r\n    nombre: string,\r\n    fechaExt: string,\r\n    estado: number,\r\n    empresa: {\r\n      nombre: string,\r\n      estado: number\r\n    }\r\n  },\r\n  doctor: {\r\n    id: number,\r\n    nombre: string,\r\n  },\r\n  proveedor: {\r\n    id: number,\r\n    nombre: string,\r\n    servicios: {\r\n      id: number\r\n    }[]\r\n  },\r\n  servicios: {\r\n    id: number,\r\n    nombre: string,\r\n    nota: string\r\n  }[]\r\n}\r\n\r\nfunction TransferenciaExternaForm() {\r\n  const [formState, updateForm] = useState<FormState>({\r\n    paciente: {\r\n      id: 0,\r\n      carnet: \"\",\r\n      nombre: \"\",\r\n      fechaExt: \"\",\r\n      estado: -1,\r\n      empresa: {\r\n        nombre: \"\",\r\n        estado: -1\r\n      },\r\n    },\r\n    doctor: {\r\n      id: 0,\r\n      nombre: \"\",\r\n    },\r\n    proveedor: {\r\n      id: 0,\r\n      nombre: \"\",\r\n      servicios: []\r\n    },\r\n    servicios: []\r\n  })\r\n\r\n  const [dialogVisible, showDialog] = useState(false)\r\n\r\n  const [servicioSolicitado, updateServiciosSolicitado] = useState({\r\n    id: 0,\r\n    nota: \"\"\r\n  })\r\n\r\n  const onChangeDoctor = useCallback<NonNullable<FormControlProps[\"onChange\"]>>((e)=>{\r\n    updateForm({\r\n      ...formState,\r\n      doctor: doctores.find(doctor=>doctor.id == parseInt(e.target.value)) || {id: 0, nombre: \"\"}\r\n    })\r\n  }, [formState])\r\n\r\n  const onChangeProveedor = useCallback<NonNullable<FormControlProps[\"onChange\"]>>((e)=>{\r\n    updateForm({\r\n      ...formState,\r\n      proveedor: proveedores.find(proveedor=>proveedor.id == parseInt(e.target.value)) || {id: 0, nombre: \"\", servicios: []}\r\n    })\r\n  }, [formState])\r\n\r\n  const a = useRef(Math.random())\r\n  console.log(\"Random\", a)\r\n\r\n  const [stateOfSubmit, submit] = useFetch(()=>{\r\n    return fetch(baseUrl+\"/transferencias\", {\r\n      // credentials: 'include',\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        \"paciente_id\": formState.paciente.id,\r\n        \"doctor_id\": formState.doctor.id,\r\n        \"proveedor_id\": formState.proveedor.id,\r\n        \"servicios_ids\": formState.servicios.map((servicio)=>servicio.id)\r\n      })\r\n    })\r\n  }, [formState])\r\n\r\n  const onSubmit = useCallback((e) => {\r\n    e.preventDefault()\r\n    submit()\r\n  }, [])\r\n\r\n  const [stateOfLoadInitData, loadData] = useFetch(()=>{\r\n    return Promise.all([\r\n      fetch(baseUrl + \"/doctores\"),\r\n      fetch(baseUrl + \"/proveedores\"),\r\n      fetch(baseUrl + \"/servicios\")\r\n    ])\r\n  }, [])\r\n  const [doctores, proveedores, servicios] = (stateOfLoadInitData.data || [[],[],[]]) as [Doctor[], Proveedor[],Servicio[]]\r\n\r\n  const [proveedoresAdecuados, updateProveedoresAdecuados] = useState(proveedores)\r\n  const [serviciosDisponibles, updateServiciosDisponibles] = useState(servicios)\r\n  \r\n  useEffect(()=>loadData(), [])\r\n  useEffect(()=>{\r\n    if(stateOfLoadInitData.completed && !stateOfLoadInitData.error){\r\n      const nuevosProveedores = proveedores.filter(proveedor=>{\r\n        return formState.servicios.every(rs => {\r\n          return proveedor.servicios.some(ps => ps.id ==rs.id)\r\n        })\r\n      })\r\n      updateProveedoresAdecuados(\r\n        nuevosProveedores\r\n      )\r\n      if(!nuevosProveedores.some(np => np.id == formState.proveedor.id)){\r\n        updateForm({\r\n          ...formState,\r\n          proveedor: {\r\n            id: 0,\r\n            nombre: \"\",\r\n            servicios: []\r\n          }\r\n        })\r\n      }\r\n      if(nuevosProveedores.length == 1){\r\n        updateForm({\r\n          ...formState,\r\n          proveedor: nuevosProveedores[0]\r\n        })\r\n      }\r\n      const serviciosDisponibles = servicios.filter(as=>{\r\n        return nuevosProveedores.some(proveedor => {\r\n          return !formState.servicios.some(rs => rs.id ==as.id) && proveedor.servicios.some(ps => ps.id == as.id)\r\n        })\r\n      })\r\n      updateServiciosDisponibles(serviciosDisponibles)\r\n    }\r\n  }, [formState.servicios, stateOfLoadInitData])\r\n\r\n\r\n  useEffect(()=>{\r\n    if(stateOfSubmit.data && !stateOfSubmit.error){\r\n      showDialog(true)\r\n    }\r\n  }, [stateOfSubmit])\r\n\r\n  const renderServicios = ()=>{\r\n    return formState.servicios.map((value, index)=>(\r\n      <tr>\r\n        <td>{index+1}</td>\r\n        <td>{value.nombre}</td>\r\n        <td>{value.nota}</td>\r\n        <td><Button variant=\"link\" onClick={()=>{\r\n          updateForm({\r\n            ...formState,\r\n            servicios: formState.servicios.filter((v, i)=>index != i)\r\n          })\r\n        }} className=\"btn-icon\"><FaTrash /></Button></td>\r\n      </tr>\r\n    ))\r\n  }\r\n\r\n  const renderPdf = () => {\r\n    const url = stateOfSubmit.data && stateOfSubmit.data.url\r\n    if(url)\r\n      return url ? <PDFViewer url={url} height={400}></PDFViewer> : null\r\n    else{\r\n      // return <p>{JSON.stringify(stateOfSubmit.data)}</p>\r\n      return <Alert variant=\"danger\" >\r\n        <p>{stateOfSubmit.data?.message}</p>\r\n        <p>{JSON.stringify(stateOfSubmit.data?.errors)}</p>\r\n      </Alert>\r\n    }\r\n  }\r\n  console.log(\"FormState\", formState)\r\n  const renderForm = () => {\r\n    return <>\r\n    <Form style={{marginTop:20, marginBottom:20}} onSubmit={onSubmit}>\r\n      <PacientFieldset disabled={stateOfSubmit.completed === false} paciente={formState.paciente} onChange={(paciente)=>{\r\n        updateForm({\r\n          ...formState,\r\n          paciente\r\n        })\r\n      }} />\r\n      <fieldset disabled={stateOfSubmit.completed === false}>\r\n        <legend>Doctor</legend>\r\n        <Form.Group controlId=\"doctor\">\r\n            <Form.Label>Nombre</Form.Label>\r\n            <Form.Control as=\"select\" type=\"text\" onChange={onChangeDoctor} value={formState.doctor.id}>\r\n              <option id=\"0\"></option>\r\n              {doctores.map((doctor)=>{\r\n                return <option key={doctor.id} id={String(doctor.id)} value={String(doctor.id)}>{doctor.nombre}</option>\r\n              })}\r\n            </Form.Control>\r\n          </Form.Group>\r\n      </fieldset>\r\n      <fieldset disabled={stateOfSubmit.completed === false}>\r\n        <legend>Servicios</legend>\r\n        <Table>\r\n          <thead>\r\n            <tr>\r\n              <th style={{width:0}}>#</th>\r\n              <th>Nombre</th>\r\n              <th>Nota</th>\r\n              <th style={{width:0}}></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {renderServicios()}\r\n            <tr>\r\n              <td>{formState.servicios.length+1}</td>\r\n              <td><Form.Control as=\"select\"\r\n                value={servicioSolicitado.id}\r\n                onChange={(e)=>{\r\n                console.log(\"onChange required service\", e.target.value)\r\n                updateServiciosSolicitado({\r\n                  ...servicioSolicitado,\r\n                  id: parseInt(e.target.value),\r\n                })\r\n              }}>\r\n                <option id=\"0\"></option>\r\n                {serviciosDisponibles.map((servicio)=>(\r\n                  <option key={servicio.id} id={String(servicio.id)} value={String(servicio.id)}>{servicio.nombre}</option>\r\n                ))}\r\n              </Form.Control></td>\r\n              <td><Form.Control as=\"textarea\"\r\n                value={servicioSolicitado.nota}\r\n                onChange={(e)=>{\r\n                updateServiciosSolicitado({\r\n                  ...servicioSolicitado,\r\n                  nota: e.target.value\r\n                })\r\n              }}></Form.Control></td>\r\n              <td><Button variant=\"link\" onClick={()=>{\r\n                console.log(\"Required Service\", servicioSolicitado)\r\n                const selectedService = servicios.find((servicio)=>servicio.id==servicioSolicitado.id)\r\n                if(selectedService){\r\n                  updateForm({\r\n                    ...formState,\r\n                    servicios: [...formState.servicios, {\r\n                      id: selectedService.id,\r\n                      nombre: selectedService.nombre,\r\n                      nota: servicioSolicitado.nota\r\n                    }]\r\n                  })\r\n                  updateServiciosSolicitado({\r\n                    id: 0,\r\n                    nota: \"\"\r\n                  })\r\n                }\r\n              }} className=\"btn-icon\"><FaPlus /></Button></td>\r\n            </tr>\r\n          </tbody>\r\n        </Table>\r\n      </fieldset>\r\n      <fieldset disabled={stateOfSubmit.completed === false}>\r\n        <legend>Proveedor</legend>\r\n        <Form.Group controlId=\"doctor\">\r\n            <Form.Label>Nombre</Form.Label>\r\n            <Form.Control as=\"select\" type=\"text\" onChange={onChangeProveedor} value={formState.proveedor.id}>\r\n              <option id=\"0\"></option>\r\n              {proveedoresAdecuados.map((proveedor)=>(\r\n                <option key={proveedor.id} id={String(proveedor.id)} value={String(proveedor.id)}>{proveedor.nombre}</option>\r\n              ))}\r\n            </Form.Control>\r\n          </Form.Group>\r\n      </fieldset>\r\n      <Button variant=\"primary\" type=\"submit\">\r\n        {stateOfSubmit.completed === false && <Spinner animation=\"border\" size=\"sm\" />} Guardar\r\n      </Button>\r\n    </Form>\r\n    <Modal\r\n      show={dialogVisible}\r\n      onHide={()=>{\r\n        console.log(\"On Hide\")\r\n        showDialog(false)\r\n      }}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          D.M. - 11\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n       {renderPdf()}\r\n      </Modal.Body>\r\n      {/* <Modal.Footer>\r\n        <Button>Close</Button>\r\n      </Modal.Footer> */}\r\n    </Modal>\r\n    </>\r\n  }\r\n\r\n  return <div className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n    <h1>Transferencia externa</h1>\r\n    {renderForm()}\r\n    <Modal\r\n      show={!stateOfLoadInitData.completed}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Cargando\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Spinner animation=\"border\" />\r\n      </Modal.Body>\r\n    </Modal>\r\n  </div>\r\n}\r\n\r\nconst App = TransferenciaExternaForm;\r\n\r\nexport default App;\r\n","import React, { useCallback, useState, useEffect, useRef, DependencyList, MutableRefObject} from 'react';\r\nimport { Container, DropdownButton, Col, Table, FormControlProps, Navbar, Nav, Spinner, Modal, NavDropdown, Badge, Popover, OverlayTrigger, Row } from 'react-bootstrap'\r\nimport { Sidebar } from '../../commons/components/Sidebar';\r\nimport TransferForm from '../../features/transfers/components/TransferForm'\r\nimport { useSelector } from 'react-redux';\r\nimport { useRouteMatch } from 'react-router-dom';\r\n\r\nexport default ()=>{  \r\n  const showSidebar = useSelector((state:any)=>state.main.showSidebar)\r\n  const { path, url } = useRouteMatch()\r\n\r\n  return <div className={\"position-relative d-flex flex-grow-1 bg-light\" + (showSidebar ? \"\" : \" toggled\")}  id=\"wrapper\">\r\n      <Sidebar className=\"bg-white shadow-sm \" style={{height: \"initial\"}} items={[\r\n        {\r\n          id: \"visits\",\r\n          path: `${url}/consultas`,\r\n          title: \"Consultas\" \r\n        },\r\n        {\r\n          id: \"transfers\",\r\n          path: `${url}/transferencias`,\r\n          title: \"Transferencias\" \r\n        }\r\n      ]}/>\r\n    <Container className=\"d-flex flex-column flex-grow-1\" style={{overflow: \"auto\"}}>\r\n      <TransferForm />\r\n    </Container>\r\n    </div>\r\n};\r\n","import { IamModuleAwareState } from \"../reducers\";\r\n\r\nexport const getUsers = (state: IamModuleAwareState) => state.iam.entities.users \r\nexport const getUsersPagination = (state: IamModuleAwareState) => state.iam.ui.usersPagination \r\nexport const getUsersFilter = (state: IamModuleAwareState) => state.iam.ui.usersFilter","import axios from 'axios'\r\nimport {baseUrl} from '../../configs/app.json'\r\nimport Qs from 'qs'\r\n\r\nconst apiClient = axios.create({\r\n  \"baseURL\": baseUrl,\r\n  \"timeout\": 30000\r\n})\r\n\r\napiClient.defaults.withCredentials = true\r\n\r\napiClient.interceptors.request.use(config => {\r\n\r\n  config.paramsSerializer = params => {\r\n    // Qs is not included in the Axios package\r\n    return Qs.stringify(params, {\r\n      arrayFormat: \"brackets\",\r\n      encode: false\r\n    });\r\n  };\r\n\r\n  return config;\r\n});\r\n\r\nexport default apiClient","import axios from \"axios\";\r\nimport apiClient from \"../../../commons/services/apiClient\"\r\n\r\nexport const Users = {\r\n  loadAll: (page: {\r\n    current: number,\r\n    size: number\r\n  }, filter: {\r\n    username?: string,\r\n    active?: number,\r\n    externalId?: number\r\n  })=>{\r\n    return apiClient.get('/users', {\r\n      params: {\r\n        page,\r\n        filter\r\n      }\r\n    })\r\n    .catch(e=>{\r\n      console.error(\"Error message\", e.message, e.code, e.response)\r\n      throw e\r\n    })\r\n  }\r\n}","import { useMemo, useEffect } from \"react\"\r\nimport { Pagination } from \"react-bootstrap\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport Qs from 'qs'\r\nimport { getUsersPagination } from \"../selectors\"\r\n\r\nexport default ()=>{\r\n  const {pathname, search} = useLocation()\r\n  const dispatch = useDispatch()\r\n  const {total, current, size} = useSelector(getUsersPagination)\r\n  const parsedSearch = useMemo(()=>Qs.parse(search.substr(1)), [search])\r\n  const {page} = parsedSearch as any\r\n\r\n  // useEffect(()=>{\r\n  //   if(page){\r\n  //     dispatch({\r\n  //       type: \"UPDATE_USERS_PAGINATION\",\r\n  //       payload: {\r\n  //         current: parseInt(page.current) || current,\r\n  //         size: parseInt(page.size) || size\r\n  //       }\r\n  //     })\r\n  //   }\r\n  // }, [page])\r\n\r\n  // const links = useMemo(()=>{\r\n  //   const parsedSearch = Qs.parse(search.substr(1))\r\n  //   return {\r\n  //     first: `${pathname}?${Qs.stringify({\r\n  //       ...parsedSearch,\r\n  //       page: {\r\n  //         current: 1,\r\n  //         size\r\n  //       }\r\n  //     })}`\r\n  //   }\r\n  // }, [search, pathname, total, current, size])\r\n\r\n  console.log(total, current, size)\r\n  const pageItems = []\r\n  const firstPage = Math.max(1, current - 4)\r\n  const lastPage = Math.min(Math.trunc((total-size)/size)+1, firstPage+10)\r\n  for(let i = firstPage; i <= lastPage; i++){\r\n    if(current == i)\r\n      pageItems.push(<Pagination.Item key={i} active={true}>{i}</Pagination.Item>)\r\n    else\r\n      pageItems.push(<Pagination.Item key={i} as={Link} href={`${pathname}?${Qs.stringify({...parsedSearch, page: {current: i, size}}, { arrayFormat: \"brackets\", encode: false})}`} to={`${pathname}?${Qs.stringify({...parsedSearch, page: {current: i, size}}, { arrayFormat: \"brackets\", encode: false})}`}>{i}</Pagination.Item>)\r\n  }\r\n  //@ts-ignore\r\n  return <Pagination>\r\n    {current - 5 > 0 ? <Pagination.First as={Link}\r\n      href={`${pathname}?${Qs.stringify({...parsedSearch, page: {current: 1, size}}, { arrayFormat: \"brackets\", encode: false})}`}\r\n      //@ts-ignore\r\n      to={`${pathname}?${Qs.stringify({...parsedSearch, page: {current: 1, size}}, { arrayFormat: \"brackets\", encode: false})}`} /> : null}\r\n    {current > 1 ? <Pagination.Prev as={Link}\r\n      href={`${pathname}?${Qs.stringify({...parsedSearch, page: {current: current - 1, size}}, { arrayFormat: \"brackets\", encode: false})}`}\r\n      //@ts-ignore\r\n      to={`${pathname}?${Qs.stringify({...parsedSearch, page: {current: current - 1, size}}, { arrayFormat: \"brackets\", encode: false})}`} /> : null}\r\n    \r\n    {pageItems}\r\n    \r\n    {current < (total-size)/size + 1 ? <Pagination.Next as={Link}\r\n      href={`${pathname}?${Qs.stringify({...parsedSearch, page: {current: current + 1, size}}, { arrayFormat: \"brackets\", encode: false})}`}\r\n      //@ts-ignore\r\n      to={`${pathname}?${Qs.stringify({...parsedSearch, page: {current: current + 1, size}}, { arrayFormat: \"brackets\", encode: false})}`} /> : null}\r\n    {current + 5 < (total-size)/size + 1 ? <Pagination.Last as={Link}\r\n      href={`${pathname}?${Qs.stringify({...parsedSearch, page: {current: (total-size)/size + 1, size}}, { arrayFormat: \"brackets\", encode: false})}`}\r\n      //@ts-ignore\r\n      to={`${pathname}?${Qs.stringify({...parsedSearch, page: {current: (total-size)/size + 1, size}}, { arrayFormat: \"brackets\", encode: false})}`} /> : null}\r\n      \r\n  </Pagination>\r\n}","import React, { useState } from 'react'\r\nimport { Button, Col, Form, FormProps } from 'react-bootstrap'\r\nimport { useDispatch } from 'react-redux'\r\n\r\ntype Props = {\r\n  // onApply: ()=>void\r\n} & FormProps\r\nexport default (props: Props)=>{\r\n  const dispatch = useDispatch()\r\n  const [fields, setFields] = useState({\r\n    username: \"\",\r\n    active: \"\",\r\n  })\r\n\r\n  return <Form {...props} onSubmit={(e)=>{\r\n    e.preventDefault()\r\n    dispatch({\r\n      type: \"UPDATE_USERS_FILTER\",\r\n      payload: {\r\n        username: fields.username || undefined,\r\n        active: fields.active ? parseInt(fields.active) : undefined\r\n      }\r\n    })\r\n    props.onSubmit && props.onSubmit(e)\r\n  }}>\r\n    <Form.Row>\r\n      <Col>\r\n        <Form.Label htmlFor=\"username-filter\" srOnly>\r\n          Usuario\r\n        </Form.Label>\r\n        <Form.Control\r\n          className=\"mb-2\"\r\n          id=\"username-filter\"\r\n          value={fields.username}\r\n          onChange={(e)=> {\r\n            const value = e.target.value\r\n            setFields(fields=>({\r\n              ...fields,\r\n              username: value\r\n            }))\r\n          }}\r\n          placeholder=\"Usuario\"\r\n        />\r\n      </Col>\r\n      <Col >\r\n        <Form.Label htmlFor=\"status-filter\" srOnly>\r\n          Estado\r\n        </Form.Label>\r\n        <Form.Control\r\n          as=\"select\"\r\n          className=\"mb-2\"\r\n          id=\"status-filter\"\r\n          value={fields.active}\r\n          onChange={(e)=> {\r\n            const value = e.target.value\r\n            setFields(fields=>({\r\n              ...fields,\r\n              active: value\r\n            }))\r\n          }}\r\n        >\r\n          <option value=\"\">Elige un estado</option>\r\n          <option value=\"1\">Activo</option>\r\n          <option value=\"0\">Inactivo</option>\r\n        </Form.Control>\r\n      </Col>\r\n      <Col xs=\"auto\">\r\n        <Button type=\"submit\" >Aplicar</Button>\r\n      </Col>\r\n    </Form.Row>\r\n  </Form>\r\n}","import React, {useEffect, useState, useMemo, useRef} from \"react\"\r\nimport { Table, Button, Pagination, Form, Row, Col } from 'react-bootstrap'\r\nimport { BsEyeFill, BsTrashFill } from \"react-icons/bs\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport Qs from \"qs\"\r\nimport { Link, useLocation, useRouteMatch } from \"react-router-dom\"\r\nimport { getUsers, getUsersPagination, getUsersFilter } from \"../selectors\"\r\nimport { Users } from \"../services\"\r\nimport UsersPagination from \"./UsersPagination\"\r\nimport { FaFilter, FaUserPlus } from \"react-icons/fa\"\r\nimport UsersFilter from \"./UsersFilter\"\r\n// import FilterUsersForm from \"./FilterUsersForm\"\r\n\r\nexport default ()=>{  \r\n  const dispatch = useDispatch()\r\n  const { search, state: locationState } = useLocation<{page: any, filter: any}>()\r\n  const { url, path } = useRouteMatch()\r\n  const [usersFilterVisible, showUsersFilter] = useState(false)\r\n  const users = useSelector(getUsers)\r\n  const {current, size} = useSelector(getUsersPagination)\r\n  const filter = useSelector(getUsersFilter)\r\n  // const parsedSearch = useMemo(()=>Qs.parse(search.substr(1)), [search])\r\n  // const mergedSearch = useRef<any>()\r\n  // const lastParsedSearch = useRef<any>()\r\n  // useEffect(()=>{\r\n  //   if(lastParsedSearch.current != parsedSearch){\r\n  //     lastParsedSearch.current = parsedSearch\r\n  //     mergedSearch.current = {\r\n  //       page: {\r\n  //         ...page,\r\n  //         ...(parsedSearch.page as Qs.ParsedQs || {})\r\n  //       },\r\n  //       filter: {\r\n  //         ...filter,\r\n  //         ...(parsedSearch.fiter as Qs.ParsedQs || {})\r\n  //       }\r\n  //     }\r\n  //     dispatch({\r\n  //       type: \"UPDATE_USERS_PAGINATION\",\r\n  //       payload: mergedSearch.current.page\r\n  //     })\r\n  //   }\r\n  // }, [page, filter, parsedSearch])\r\n\r\n  // useEffect(()=>{\r\n  //   if(mergedSearch.current){\r\n  //     Users.loadAll(mergedSearch.current.page as any, mergedSearch.current.filter as any)\r\n  //     .then(({data})=>{\r\n  //       dispatch({\r\n  //         type: \"LOAD_USERS_COMPLETED\",\r\n  //         payload: data\r\n  //       })\r\n  //       console.log(data)\r\n  //     })\r\n  //   }\r\n  // }, [mergedSearch.current])\r\n\r\n  useEffect(()=>{\r\n    document.title = \"Usuarios\"\r\n  }, [])\r\n \r\n  useEffect(()=>{\r\n    console.log({\r\n      \r\n    }, filter)\r\n    Users.loadAll({current, size}, filter)\r\n    .then(({data})=>{\r\n      dispatch({\r\n        type: \"LOAD_USERS_COMPLETED\",\r\n        payload: data\r\n      })\r\n      console.log(data)\r\n    })\r\n  }, [current, size, filter])\r\n\r\n  return <div style={{minWidth: 480}} className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n    <h1 style={{fontSize: \"2rem\"}}>Usuarios</h1>\r\n    <Row className=\"justify-content-end\" >\r\n      <Col className={\"pr-0\"} xs=\"auto\" >\r\n        <Button className=\"my-2\" onClick={()=>{\r\n          showUsersFilter(visible=>!visible)\r\n        }}><FaFilter /></Button>\r\n      </Col>\r\n      <Col xs=\"auto\">\r\n        <Button className=\"my-2\" onClick={()=>{\r\n          // showUserRegistrationModal()\r\n        }}><FaUserPlus /></Button>\r\n      </Col>\r\n    </Row>\r\n    <UsersFilter className={\"mt-2\" + (usersFilterVisible ? \"\" : \" d-none\")} onSubmit={()=>showUsersFilter(false)} />\r\n    <Table responsive className=\"small text-nowrap\">\r\n      <thead>\r\n        <tr>\r\n          <th style={{width: 1}}>#</th>\r\n          <th >Nombre de usuario</th>\r\n          <th style={{width: \"6rem\"}}>Estado</th>\r\n          <th style={{width: 1}}></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {users.map((u, i)=>{\r\n          return <tr key={u.id}>\r\n            <th scope=\"row\">\r\n              {i+1}\r\n            </th>\r\n            <td>{u.username}</td>\r\n            <td className={u.active ? \"bg-success\" : \"bg-danger\"}><span className=\"text-light\">{u.active ? \"Activo\" : \"Inactivo\"}</span></td>\r\n            <td>\r\n              <div className=\"d-flex\">\r\n                <Button className=\"btn-icon\" variant=\"link\" ><BsEyeFill /></Button>\r\n                {/* <Button className=\"btn-icon d-inline\" variant=\"link\" ><BsTrashFill /></Button> */}\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        })}\r\n      </tbody>\r\n    </Table>\r\n    <div className=\"mt-auto align-self-center\">\r\n      <UsersPagination />\r\n    </div>\r\n  </div>\r\n}","import React from 'react'\r\nimport { Tab } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\n// import { WageDetails } from './WageDetails'\r\n// import { WagesList } from './WagesList'\r\n// import { getWages } from '../selectors/inputSelectors'\r\n\r\nexport default ()=>{\r\n  // const wages = useSelector(getWages)\r\n  // return <div className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n  // <h1 style={{fontSize: \"2rem\"}}>Bonos</h1>\r\n  // <Tab.Container transition={false} >\r\n  //   <div className=\"list-details position-relative d-flex flex-grow-1\">\r\n  //     <div className=\"list border\">\r\n  //       <WagesList />\r\n  //     </div>\r\n  //     <Tab.Content className=\"p-3 border flex-grow-1\"  style={{marginLeft: \"11rem\"}}>\r\n  //       {\r\n  //         wages.map(w=>{\r\n  //           return <Tab.Pane eventKey={`#${w.id}`}>\r\n  //             <WageDetails key={w.id} wageId={w.id} />\r\n  //           </Tab.Pane>\r\n  //         })\r\n  //       }\r\n  //     </Tab.Content>\r\n  //   </div>\r\n  // </Tab.Container>\r\n  // </div>\r\n\r\n  return null\r\n} ","import React, { useCallback, useEffect } from 'react'\r\nimport { Modal, Button, Form, Row, Col, ListGroup, InputGroup, FormControl } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport default () => {\r\n  const dispatch = useDispatch()\r\n  const { action, id } = useParams<{\r\n    action: string,\r\n    id: string\r\n  }>()\r\n  return null\r\n  // const { fields, info: fieldsInfo } = useSelector(getWageForm)\r\n  // console.log(fields)\r\n  // const calculationMethods = useSelector(getCalculationMethods)\r\n  // const payrollTypes = useSelector(getPayrollTypes)\r\n  // const wage = useSelector(getWages).find(w=>w.id == id as unknown)\r\n  // const applicableDeductionIds = useSelector(getApplicableDeductions).filter(ad=>ad.wageId == wage?.id).map(ad=>ad.deductionId)\r\n  // const deductions = useSelector(getDeductions).sort((a, b) => a.name < b.name ? -1 : a.name > b.name ? 1 : 0)\r\n  // const history = useHistory()\r\n  // console.log(wage)\r\n  // useEffect(()=>{\r\n  //   if(wage){\r\n  //     dispatch({\r\n  //       type:\"UPDATE_WAGE_FORM\",\r\n  //       payload: {\r\n  //         fields: {\r\n  //           name: wage.name,\r\n  //           description: wage.description,\r\n  //           inForce: wage.inForce,\r\n  //           payrollTypeId: wage.payrollTypeId,\r\n  //           calculationMethodId: wage.calculationMethodId,\r\n  //           formula: wage.formula,\r\n  //           applicableDeductionIds: applicableDeductionIds\r\n  //         }\r\n  //       }\r\n  //     })\r\n  //   }\r\n  //   else{\r\n  //     dispatch({\r\n  //       type:\"RESET_WAGE_FORM\"\r\n  //     })\r\n  //   }\r\n  // }, [id])\r\n\r\n  // const goBack = useCallback(() => {\r\n  //   console.log(history.location)\r\n  //   if (!history.location.state)\r\n  //     history.replace(\"/rrhh/nominas/percepciones\")\r\n  //   else\r\n  //     history.goBack()\r\n  // }, [])\r\n\r\n\r\n  // const updateForm = (field: keyof typeof fields, value: string) => {\r\n  //   dispatch({\r\n  //     type: \"UPDATE_WAGE_FORM\",\r\n  //     payload: {\r\n  //       fields: {\r\n  //         ...fields,\r\n  //         [field]: value\r\n  //       }\r\n  //     }\r\n  //   })\r\n  // }\r\n\r\n  // const onChange = (field: keyof typeof fields) => (e: any) => {\r\n  //   const value = e.target.value\r\n  //   updateForm(field, value)\r\n  // }\r\n\r\n  // return <Modal show={true} centered onHide={goBack}>\r\n  //   <Modal.Header closeButton>\r\n  //     <Modal.Title>{`${id ? \"Editar\" : \"Crear\"} Percepción`}</Modal.Title>\r\n  //   </Modal.Header>\r\n  //   <Modal.Body>\r\n  //     <Form id=\"wage-form\" onSubmit={(e) => {\r\n  //       e.preventDefault()\r\n  //       const wageId =  action == 'crear' ? uuidv4().replaceAll('-', '') : id\r\n  //       dispatch({\r\n  //         type: action == 'crear' ? 'ADD_WAGE_TYPE' : 'EDIT_WAGE_TYPE',\r\n  //         payload: {\r\n  //           wage: {\r\n  //             id: wageId,\r\n  //             name: fields.name,\r\n  //             description: fields.description,\r\n  //             inForce: fields.inForce,\r\n  //             formula: fields.formula,\r\n  //             payrollTypeId: parseInt(fields.payrollTypeId),\r\n  //             calculationMethodId: parseInt(fields.calculationMethodId),\r\n  //           },\r\n  //           applicableDeductions: fields.applicableDeductionIds.map(deductionId => {\r\n  //             return {\r\n  //               deductionId,\r\n  //               wageId\r\n  //             }\r\n  //           })\r\n  //         }\r\n  //       })\r\n  //       goBack()\r\n  //     }}>\r\n  //       <Form.Group>\r\n  //         <Form.Label>Nombre</Form.Label>\r\n  //         <Form.Control type=\"text\" value={fields.name} onChange={onChange(\"name\")} />\r\n  //       </Form.Group>\r\n  //       <Form.Group>\r\n  //         <Form.Label>Descripción</Form.Label>\r\n  //         <Form.Control as=\"textarea\" value={fields.description} onChange={onChange(\"description\")} />\r\n  //       </Form.Group>\r\n  //       <Form.Check className=\"mb-3\" type=\"checkbox\" label=\"Vigente\" checked={fields.inForce} onChange={(e)=>{\r\n  //         dispatch({\r\n  //           type: \"UPDATE_WAGE_FORM\",\r\n  //           payload: {\r\n  //             fields: {\r\n  //               ...fields,\r\n  //               inForce: e.target.checked\r\n  //             }\r\n  //           }\r\n  //         })\r\n  //       }}/>\r\n  //       <Row>\r\n  //         <Form.Group as={Col}>\r\n  //           <Form.Label>Tipo de nomina</Form.Label>\r\n  //           <Form.Control as=\"select\" value={fields.payrollTypeId} onChange={onChange(\"payrollTypeId\")} >\r\n  //             <option></option>\r\n  //             {\r\n  //               payrollTypes.map(pt => {\r\n  //                 return <option key={pt.id} value={pt.id}>{pt.name}</option>\r\n  //               })\r\n  //             }\r\n  //           </Form.Control>\r\n  //         </Form.Group>\r\n  //         <Form.Group as={Col}>\r\n  //           <Form.Label>Metodo de cálculo</Form.Label>\r\n  //           <Form.Control as=\"select\" value={fields.calculationMethodId} onChange={(e) => {\r\n  //             const value = e.target.value\r\n  //             dispatch({\r\n  //               type: \"UPDATE_WAGE_FORM\",\r\n  //               payload: {\r\n  //                 fields: {\r\n  //                   ...fields,\r\n  //                   calculationMethodId: value\r\n  //                 },\r\n  //                 info: {\r\n  //                   ...fieldsInfo,\r\n  //                   calculationMethodId: calculationMethods.find(cm => cm.id == parseInt(value))?.description\r\n  //                 }\r\n  //               }\r\n  //             })\r\n  //           }} >\r\n  //             <option>¿Cómo debe calcularse?</option>\r\n  //             {calculationMethods.map(cm => (\r\n  //               <option key={cm.id} value={cm.id}>{cm.name}</option>\r\n  //             ))}\r\n  //           </Form.Control>\r\n  //           {/* <Form.Text>{fieldsInfo.calculationMethodId}</Form.Text> */}\r\n  //         </Form.Group>\r\n  //       </Row>\r\n  //       {fields.calculationMethodId == \"1\" ? <Form.Group>\r\n  //         <Form.Label>Formula</Form.Label>\r\n  //         <Form.Control type=\"text\" value={fields.formula} onChange={onChange(\"formula\")} />\r\n  //       </Form.Group> : null}\r\n  //       {/* {fields.calculationMethodId == \"1\" ? <Form.Group>\r\n  //         <Form.Label>Cantidad</Form.Label>\r\n  //         <Form.Control type=\"number\" value={fields.amount} onChange={onChange(\"amount\")} />\r\n  //       </Form.Group> :\r\n  //         fields.calculationMethodId == \"2\" ? <>\r\n  //           <label>Porcentaje</label>\r\n  //           <InputGroup className=\"mb-3\">\r\n  //             <FormControl\r\n  //               className=\"text-right\"\r\n  //               // placeholder=\"Recipient's username\"\r\n  //               // aria-label=\"Recipient's username\"\r\n  //               aria-describedby=\"basic-addon2\"\r\n  //               type=\"number\" value={fields.percentage} onChange={onChange(\"percentage\")}\r\n  //             />\r\n  //             <InputGroup.Append>\r\n  //               <InputGroup.Text id=\"basic-addon2\">%</InputGroup.Text>\r\n  //             </InputGroup.Append>\r\n  //           </InputGroup>\r\n  //         </> : null} */}\r\n  //       <span className=\"mb-2\">Descuentos que se aplicarán</span>\r\n  //       <ListGroup as=\"ul\" className=\"overflow-auto border flex-grow-1\" variant=\"flush\" style={{height: \"10rem\"}}>\r\n  //         {deductions.map(d=>{\r\n  //           return <ListGroup.Item key={d.id} as=\"li\" className=\"py-2 px-3\" action>\r\n  //             <Form.Check type=\"checkbox\"\r\n  //               label={d.name}\r\n  //               checked={fields.applicableDeductionIds.some(id=>id == d.id)}\r\n  //               onChange={(e)=>{\r\n  //                 console.log(e.target.checked)\r\n  //                 let newSelection; // = [...fields.applicableDeductionIds]\r\n  //                 if(e.target.checked){\r\n  //                   if(!fields.applicableDeductionIds.some(id=>id==d.id)){\r\n  //                     newSelection = [...fields.applicableDeductionIds]\r\n  //                     newSelection.push(d.id)\r\n  //                   }\r\n  //                 }\r\n  //                 else{\r\n  //                   newSelection = fields.applicableDeductionIds.filter(id => id != d.id)\r\n  //                 }\r\n  //                 fields.applicableDeductionIds.filter(id => id)\r\n  //                 dispatch({\r\n  //                   type: \"UPDATE_WAGE_FORM\",\r\n  //                   payload: {\r\n  //                     fields: {\r\n  //                       ...fields,\r\n  //                       applicableDeductionIds: newSelection\r\n  //                     }\r\n  //                   }\r\n  //                 })\r\n\r\n  //             }}/>\r\n  //           </ListGroup.Item>\r\n  //         })}\r\n  //       </ListGroup>\r\n  //     </Form>\r\n  //   </Modal.Body>\r\n  //   <Modal.Footer>\r\n  //     <Button variant=\"secondary\" onClick={goBack}>\r\n  //       Cancelar\r\n  //     </Button>\r\n  //     <Button variant=\"primary\" form='wage-form' type=\"submit\">\r\n  //       Guardar\r\n  //     </Button>\r\n  //   </Modal.Footer>\r\n  // </Modal>\r\n}","import watchRegisterUser, {registerUser} from './registerUser'\r\n\r\nexport { registerUser }\r\n\r\nexport default watchRegisterUser\r\n\r\n","import React from 'react'\r\nimport { Col, Form, Button, FormProps } from 'react-bootstrap'\r\n\r\nexport default (props: FormProps & {\r\n  onComplete: (personId: number)=>void\r\n})=>{\r\n  return <Form>\r\n    <Form.Row>\r\n      <Form.Group as={Col} sm={8} md={6}>\r\n        <Form.Label>Documento de identidad</Form.Label>\r\n        <Form.Control></Form.Control>\r\n      </Form.Group>\r\n      <Form.Group as={Col} sm={4} md={3}>\r\n        <Form.Label>Complemento</Form.Label>\r\n        <Form.Control></Form.Control>\r\n      </Form.Group>\r\n      <Form.Group as={Col} sm={4} md={3}>\r\n        <Form.Label>Expedido en</Form.Label>\r\n        <Form.Control as=\"select\" value=\"\">\r\n          <option disabled value=\"\"></option>\r\n          <option value=\"BN\">Beni</option>\r\n          <option value=\"CB\">Cochabamba</option>\r\n          <option value=\"CH\">Chuquisaca</option>\r\n          <option value=\"LP\">La Paz</option>\r\n          <option value=\"OR\">Oruro</option>\r\n          <option value=\"PN\">Pando</option>\r\n          <option value=\"PT\">Potosí</option>\r\n          <option value=\"TJ\">Tarija</option>\r\n          <option value=\"SC\">Santa Cruz</option>\r\n        </Form.Control>\r\n      </Form.Group>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Col className=\"mb-2\">\r\n        <Button>Buscar</Button>\r\n      </Col>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Form.Group as={Col} lg={4}>\r\n        <Form.Label>Nombres</Form.Label>\r\n        <Form.Control></Form.Control>\r\n      </Form.Group>\r\n      <Form.Group as={Col} lg={4}>\r\n        <Form.Label>Primer Apellido</Form.Label>\r\n        <Form.Control></Form.Control>\r\n      </Form.Group>\r\n      <Form.Group as={Col} lg={4}>\r\n        <Form.Label>Segundo Apellido</Form.Label>\r\n        <Form.Control></Form.Control>\r\n      </Form.Group>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Form.Group as={Col} md={4}>\r\n        <Form.Label>Fecha de nacimiento</Form.Label>\r\n        <Form.Control type=\"date\"></Form.Control>\r\n      </Form.Group>\r\n      <Form.Group as={Col} xs={6} md={4}>\r\n        <Form.Label>Genero</Form.Label>\r\n        <Form.Control></Form.Control>\r\n      </Form.Group>\r\n      <Form.Group as={Col} xs={6} md={4}>\r\n        <Form.Label>Nacionalidad</Form.Label>\r\n        <Form.Control></Form.Control>\r\n      </Form.Group>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Col className=\"mb-2\">\r\n        <Button type=\"submit\">Registrar</Button>\r\n      </Col>\r\n    </Form.Row>\r\n  </Form>\r\n}","import React from 'react'\r\nimport { Col, Form, FormProps, Button } from 'react-bootstrap'\r\n\r\nexport default (props: FormProps) =>{\r\n  return <Form>\r\n    <Form.Row>\r\n      <Form.Group as={Col} md={4}>\r\n        <Form.Label>Usuarios</Form.Label>\r\n        <Form.Control></Form.Control>\r\n      </Form.Group>\r\n      <Form.Group as={Col} md={4}>\r\n        <Form.Label>Contraseña</Form.Label>\r\n        <Form.Control type=\"password\"></Form.Control>\r\n      </Form.Group>\r\n      <Form.Group as={Col} md={4}>\r\n        <Form.Label>Repetir contraseña</Form.Label>\r\n        <Form.Control type=\"password\"></Form.Control>\r\n      </Form.Group>\r\n    </Form.Row>\r\n    <Form.Row>\r\n      <Col>\r\n        <Button type=\"submit\">Registrar</Button>\r\n      </Col>\r\n    </Form.Row>\r\n  </Form>\r\n}","import React, {useState} from 'react'\r\nimport { Accordion, Button, Card, Col, Form } from 'react-bootstrap'\r\nimport { useDispatch } from 'react-redux'\r\nimport { registerUser } from '../actions'\r\nimport PersonalInfoForm from './PersonalInfoForm'\r\nimport UserInfoForm from './UserInfoForm'\r\n\r\nexport default () => {\r\n  const dispatch = useDispatch()\r\n  const [activeKey, setActiveKey] = useState(\"0\")\r\n  const [personId, setPersonId] = useState<number | null>(null)\r\n\r\n  return <div className=\"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1\">\r\n    <h1 style={{fontSize: \"2rem\"}}>Usuarios</h1>\r\n    <Accordion activeKey={activeKey}>\r\n      <Card>\r\n        <Accordion.Toggle as={Card.Header} className=\"bg-primary text-light\" eventKey=\"0\">\r\n          Información personal\r\n        </Accordion.Toggle>\r\n        <Accordion.Collapse eventKey=\"0\">\r\n          <Card.Body>\r\n            <PersonalInfoForm onComplete={(personId)=>{\r\n              setActiveKey(\"1\")\r\n              setPersonId(personId)\r\n            }} />\r\n          </Card.Body>\r\n        </Accordion.Collapse>\r\n      </Card>\r\n      <Card>\r\n        <Accordion.Toggle as={Card.Header} className=\"bg-primary text-light\" eventKey=\"1\">\r\n          Información de Usuario\r\n        </Accordion.Toggle>\r\n        <Accordion.Collapse eventKey=\"1\">\r\n          <Card.Body>\r\n            <UserInfoForm onSubmit={()=>{\r\n              if(personId) registerUser({\r\n                username: \"\",\r\n                password: \"\",\r\n                externalId: personId\r\n              })\r\n            }} />\r\n          </Card.Body>\r\n        </Accordion.Collapse>\r\n      </Card>\r\n    </Accordion>\r\n  </div>\r\n}","import React from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport { useRouteMatch, Switch, Route, Redirect } from 'react-router-dom'\r\nimport {Sidebar} from '../../commons/components/Sidebar'\r\nimport Organization from '../../features/organization/components/Organization'\r\nimport {EmployeesList} from '../../features/employees/components/EmployeesList'\r\nimport {EmployeeForm} from '../../features/employees/components/EmployeeForm'\r\nimport { FaBuilding, FaCalculator, FaTasks, FaUserPlus, FaUsers } from 'react-icons/fa'\r\nimport { BsPersonFill, BsPersonPlusFill } from 'react-icons/bs'\r\nimport { GiReceiveMoney, GiPayMoney } from 'react-icons/gi'\r\nimport { GrMoney } from 'react-icons/gr'\r\nimport SidebarLayout from '../../commons/components/layouts/SidebarLayout'\r\nimport PayrollRoutes from '../../features/payrolls/components/PayrollRoutes'\r\nimport UsersIndex from '../../features/iam/components/UsersIndex'\r\nimport RolesIndex from '../../features/iam/components/RolesIndex'\r\nimport RoleForm from '../../features/iam/components/RoleForm'\r\nimport UserRegistrationForm from '../../features/iam/components/UserRegistrationForm'\r\n\r\nexport const IamApp = ()=>{\r\n  const { path, url } = useRouteMatch()\r\n  return <SidebarLayout sidebar={{\r\n    items: [\r\n      {\r\n        id: \"users\",\r\n        icon: <FaUsers />,\r\n        path: `${url}/usuarios`,\r\n        title: \"Usuarios\",\r\n        // items: [\r\n        //   {\r\n        //     id: \"register-user\",\r\n        //     icon: <FaUserPlus />,\r\n        //     path: `${url}/empleados/registrar`,\r\n        //     title: \"Registrar\"\r\n        //   }\r\n        // ]\r\n      },\r\n      {\r\n        id: \"roles\",\r\n        icon: <FaTasks />,\r\n        path: `${url}/roles`,\r\n        title: \"Roles\"\r\n      }\r\n    ]\r\n  }}>\r\n    <Switch>\r\n      <Route exact path={`${url}`}>\r\n        <Redirect to={`${url}/usuarios`} />\r\n      </Route>\r\n      <Route exact path={`${url}/usuarios`}>\r\n        <UsersIndex />\r\n      </Route>\r\n      <Route exact path={`${url}/usuarios/registrar`}>\r\n        <UserRegistrationForm />\r\n      </Route>\r\n      <Route path={`${url}/roles`}>\r\n        <RolesIndex />\r\n      </Route>\r\n    </Switch>\r\n    \r\n    <Route exact path={`${url}/roles/:action(crear)`}>\r\n      <RoleForm />\r\n    </Route>\r\n    <Route exact path={`${url}/roles/:action(editar)/:id`}>\r\n      <RoleForm />\r\n    </Route>\r\n  </SidebarLayout>\r\n}\r\n\r\nexport default IamApp","export const getUser = (state:any)=>state.auth.user\r\nexport const getStatusOfLoadUser = (state:any)=>state.auth.loadUser\r\nexport const getLoginState = (state:any)=>state.auth.login\r\nexport const getLoginForm = (state:any)=>state.auth.loginForm\r\nexport const getIsAuthenticated = (state:any)=>state.auth.user != null","import React, {useEffect} from \"react\"\r\nimport { Form, Button, Alert, Spinner } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Redirect, useLocation } from \"react-router\"\r\nimport apiClient from \"../../../commons/services/apiClient\"\r\nimport { getLoginForm, getLoginState, getIsAuthenticated } from \"../selectors/inputSelectors\"\r\nimport \"./auth.css\"\r\n\r\nexport const Login = () => {\r\n  const dispatch = useDispatch()\r\n  const {state} = useLocation<{from: string}>()\r\n  const isAuthenticated = useSelector(getIsAuthenticated)\r\n  const {fields, message, errors} = useSelector(getLoginForm)\r\n  const {completed: loginCompleted} = useSelector(getLoginState)\r\n\r\n  return isAuthenticated ? \r\n    <Redirect to={state?.from || \"/\"} /> :\r\n    <div className=\"auth-wrapper bg-light\">\r\n      <div className=\"auth-inner shadow-sm\">\r\n        <Form onSubmit={(e)=>{\r\n          e.preventDefault()\r\n          dispatch({\r\n            type: \"LOGIN\",\r\n          })\r\n          apiClient.get('/sanctum/csrf-cookie').then(response => {\r\n            apiClient.post('/login', {\r\n                username: fields.username,\r\n                password: fields.password\r\n            }).then(({data, status}) => {\r\n              localStorage.setItem(\"user\", JSON.stringify(data))\r\n              dispatch({\r\n                type: \"LOGIN_COMPLETED\",\r\n                payload: data,\r\n                error: false\r\n              })\r\n            }, (error)=>{\r\n              dispatch({\r\n                type: \"LOGIN_COMPLETED\",\r\n                payload: error.response.data,\r\n                error: true\r\n              })\r\n            })\r\n          });\r\n        }}>\r\n          <h3 className=\"mb-2 text-center\" style={{ fontSize: \"1.25rem\" }}>Iniciar Sesión en Hipócrates</h3>\r\n          {message ? <Alert variant=\"danger\" >{message}</Alert> :  null}\r\n          <Form.Group>\r\n            <Form.Label>Usuario</Form.Label>\r\n            <Form.Control type=\"text\" value={fields.username}\r\n              isInvalid={!!errors.username}\r\n              onChange={(e)=>{\r\n                const value = e.target.value\r\n                dispatch({\r\n                  type: \"UPDATE_LOGIN_FORM\",\r\n                  payload: {\r\n                    fields: {\r\n                      ...fields,\r\n                      username: value\r\n                    },\r\n                    errors: {\r\n                      ...errors,\r\n                      username: \"\"\r\n                    }\r\n                  }\r\n                })\r\n              }}\r\n            />\r\n            <Form.Text className=\"text-danger\" >{errors.username}</Form.Text>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Contraseña</Form.Label>\r\n            <Form.Control type=\"password\" value={fields.password}\r\n              isInvalid={!!errors.password}\r\n              onChange={(e)=>{\r\n                const value = e.target.value\r\n                dispatch({\r\n                  type: \"UPDATE_LOGIN_FORM\",\r\n                  payload: {\r\n                    fields: {\r\n                      ...fields,\r\n                      password: value\r\n                    },\r\n                    errors: {\r\n                      ...errors,\r\n                      password: \"\"\r\n                    }\r\n                  }\r\n                })\r\n              }}\r\n            />\r\n            <Form.Text className=\"text-danger\" >{errors.password}</Form.Text>\r\n          </Form.Group>\r\n\r\n          {/* <div className=\"form-group\">\r\n        <div className=\"custom-control custom-checkbox\">\r\n          <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck1\" />\r\n          <label className=\"custom-control-label\" htmlFor=\"customCheck1\">Remember me</label>\r\n        </div>\r\n      </div> */}\r\n\r\n          <Button type=\"submit\" className=\"btn btn-primary btn-block\">\r\n            {loginCompleted === false ? <Spinner size=\"sm\" animation=\"border\" /> : null}\r\n            <span className=\"align-middle ml-1\">Iniciar Sesión</span>\r\n            </Button>\r\n          {/* <p className=\"forgot-password text-right\">\r\n        ¿Olvidó su <a href=\"#\">contraseña?</a>\r\n      </p> */}\r\n        </Form>\r\n      </div>\r\n    </div>\r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route, RouteProps } from 'react-router';\r\nimport { getIsAuthenticated } from '../selectors/inputSelectors';\r\n\r\ntype Props = {\r\n  children: React.ReactNode\r\n} & RouteProps\r\nexport const ProtectedRoute = ({ children, ...rest }: Props) => {\r\n  const isAuthenticated = useSelector(getIsAuthenticated)\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        isAuthenticated ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute","import React, { useEffect } from 'react';\r\nimport { Button, Col, Navbar, Nav, Modal, NavDropdown, Popover, OverlayTrigger, Row } from 'react-bootstrap'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\"\r\nimport { MdApps } from 'react-icons/md'\r\nimport { FaBell, FaUserCircle, FaBars, FaClinicMedical, FaUserPlus } from 'react-icons/fa'\r\nimport HrApp from \"./HrApp\";\r\nimport MedicalApp from \"./MedicalApp\";\r\nimport IamApp from \"./IamApp\";\r\nimport {Login, ProtectedRoute} from \"../../features/auth/components\"\r\nimport { getUser, getStatusOfLoadUser } from \"../../features/auth/selectors/inputSelectors\"\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport '../../App.css';\r\nimport '../../simple-sidebar.css'\r\nimport apiClient from '../../commons/services/apiClient';\r\n\r\nexport default ()=>{\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(getUser)\r\n  // const {completed: userLoaded} = useSelector(getStatusOfLoadUser)\r\n\r\n\r\n  const toggleSidebar = () => {\r\n    //setSidebarVisible(visible => !visible)\r\n    dispatch({\r\n      type:\"TOGGLE_SIDEBAR\"\r\n    })\r\n  }\r\n\r\n  useEffect(()=>{\r\n    // const jsonUser = localStorage.getItem(\"user\")\r\n    // dispatch({\r\n    //   type: \"SET_USER\",\r\n    //   payload: jsonUser ? JSON.parse(jsonUser) : null\r\n    // })\r\n    // dispatch({\r\n    //   type: \"LOAD_USER\"\r\n    // })\r\n    // apiClient.get(\"/user\").then(({data})=>{\r\n    //   dispatch({\r\n    //     type: \"LOAD_USER_COMPLETED\",\r\n    //     payload: data,\r\n    //     error: false\r\n    //   })\r\n    //   // localStorage.setItem(\"user\", JSON.stringify(data))\r\n    // }, e => {\r\n    //   console.log(e)\r\n    //   dispatch({\r\n    //     type: \"LOAD_USER_COMPLETED\",\r\n    //     payload: e,\r\n    //     error: true\r\n    //   })\r\n    // })\r\n  }, [])\r\n\r\n  return <Router>\r\n    <Navbar className=\"shadow-sm border-bottom\" bg=\"white\" variant=\"light\" style={{zIndex: 1}}>\r\n      {user ? <Navbar.Toggle style={{display: \"initial\"}} onClick={toggleSidebar} ><FaBars /></Navbar.Toggle> : null}\r\n      <Navbar.Brand href=\"#home\" className=\"ml-4\">Hipócrates</Navbar.Brand>\r\n      <Nav className=\"ml-auto\">\r\n        <OverlayTrigger\r\n          trigger=\"click\"\r\n          rootClose\r\n          placement=\"bottom\"\r\n          overlay={\r\n            <Popover id=\"apps\" style={{maxWidth: \"none\"}}>\r\n              <Popover.Title className=\"text-center\" as=\"h3\">Aplicaciones</Popover.Title>\r\n              <Popover.Content>\r\n                <Row>\r\n                  <Col className=\"text-center\"><Link to=\"/rrhh\" ><FaClinicMedical className=\"d-block mx-auto\" size={48} /><span>Recursos Humanos</span></Link></Col>\r\n                  <Col className=\"text-center\"><Link to=\"/consultorio\" ><FaClinicMedical className=\"d-block mx-auto\"  size={48} /><span>Consultorio</span></Link></Col>\r\n                  <Col className=\"text-center\"><Link to=\"/afiliación\"><FaClinicMedical className=\"d-block mx-auto\" size={48} /><span >Afiliaciones</span></Link></Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col className=\"text-center\"><Link to=\"/iam\"><FaUserCircle className=\"d-block mx-auto\" size={48} /><span >IAM</span></Link></Col>\r\n                  <Col className=\"text-center\"><FaClinicMedical className=\"d-block mx-auto\" size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                  <Col className=\"text-center\"><FaClinicMedical size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col className=\"text-center\"><FaClinicMedical className=\"d-block mx-auto\" size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                  <Col className=\"text-center\"><FaClinicMedical className=\"d-block mx-auto\" size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                  <Col className=\"text-center\"><FaClinicMedical className=\"d-block mx-auto\" size={48} /><span style={{whiteSpace: \"nowrap\"}}>App Name</span></Col>\r\n                </Row>\r\n              </Popover.Content>\r\n            </Popover>\r\n          }\r\n        >\r\n          <Nav.Link><MdApps size=\"1.5em\" /></Nav.Link>\r\n        </OverlayTrigger>\r\n        {user ? <OverlayTrigger\r\n          trigger=\"click\"\r\n          rootClose\r\n          placement=\"bottom\"\r\n          overlay={\r\n            <Popover id=\"apps\">\r\n              <Popover.Title className=\"text-center\" as=\"h3\">Notificaciones</Popover.Title>\r\n              <Popover.Content>\r\n                \r\n              </Popover.Content>\r\n            </Popover>\r\n          }\r\n        >\r\n          <Nav.Link style={{whiteSpace: \"nowrap\"}}>\r\n            <FaBell />\r\n            {/* <Badge className=\"pulse\" pill variant=\"danger\">9</Badge> */}\r\n            <div className=\"pulse bg-danger\" style={{\r\n              left: \"0.65rem\",\r\n              top: \"-1.35rem\",\r\n              width: \"0.5rem\",\r\n              height: \"0.5rem\",\r\n              borderRadius: \"50%\"\r\n            }}></div>\r\n          </Nav.Link>\r\n        </OverlayTrigger> : null}\r\n        {user ? <NavDropdown title={<><FaUserCircle /><span className=\"d-none d-sm-inline ml-1\">{user.username}</span></>} menuAlign=\"right\" id=\"collasible-nav-dropdown\">\r\n          <NavDropdown.Item href=\"#action/3.2\">Cuenta</NavDropdown.Item>\r\n          <NavDropdown.Item href=\"#action/3.3\">Configuracion</NavDropdown.Item>\r\n          <NavDropdown.Divider />\r\n          <NavDropdown.Item as={Button} className=\"btn-link\" >Cerrar sesión</NavDropdown.Item>\r\n        </NavDropdown> : <Nav.Link as={Link} to=\"/login\">Iniciar sesión</Nav.Link>}\r\n      </Nav>\r\n    </Navbar>\r\n        {/* A <Switch> looks through its children <Route>s and\r\n            renders the first one that matches the current URL. */}\r\n        <Switch>\r\n          <ProtectedRoute path=\"/iam\">\r\n            <IamApp />\r\n          </ProtectedRoute>\r\n          <ProtectedRoute path=\"/rrhh\">\r\n            <HrApp />\r\n          </ProtectedRoute>\r\n          <ProtectedRoute path=\"/consultorio\">\r\n            <MedicalApp />\r\n          </ProtectedRoute>\r\n          <Route exact path=\"/login\">\r\n            <Login></Login>\r\n          </Route>\r\n        </Switch> :\r\n        {/* <Modal centered show={true}>\r\n          <Modal.Body>\r\n            Autenticando, por favor espere...\r\n          </Modal.Body>\r\n        </Modal>} */}\r\n  </Router>\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport Routes from \"./boostrap/components/App\"\nimport './polyfills/String'\n\nReactDOM.render(\n  // <React.StrictMode>\n    <Provider store={store}>\n      <Routes />\n    </Provider>\n  // </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.log);\n"],"sourceRoot":""}