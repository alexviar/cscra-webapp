/*! For license information please see main.5faa0076.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{127:function(e,t,n){},129:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t){String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return"[object regexp]"===Object.prototype.toString.call(e).toLowerCase()?this.replace(e,t):this.replace(new RegExp(e,"g"),t)})},157:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(28),i=n.n(c),r=n(11),o=n(13),s=n(117),l=n(6),d=n(15),j=[{id:"1",name:"Unidad de Finanzas",parentId:null,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{id:"2",name:"Unidad de Mercadeo",parentId:null,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{id:"3",name:"Unidad de RRHH",parentId:null,description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{id:"4",name:"Unidad de Contabilidad",parentId:"1",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}],u=[{id:"1",name:"Gerente Financiero",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",unitId:"1",isManager:!0},{id:"2",name:"Secretearia I",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",unitId:"1",isManager:!1},{id:"3",name:"Contador",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",unitId:"4",isManager:!1},{id:"4",name:"Gerente de marketing",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",unitId:"2",isManager:!0},{id:"5",name:"Gerente de rrhh",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",unitId:"3",isManager:!0}],b=Object(o.c)({units:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return"ADD_UNIT"==t.type?[].concat(Object(d.a)(e),[t.payload]):"EDIT_UNIT"==t.type?[].concat(Object(d.a)(e.filter((function(e){return e.id!=t.payload.id}))),[t.payload]).sort((function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})):"DELETE_UNIT"==t.type?e.filter((function(e){return e.id!=t.payload})):e},jobs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if("ADD_JOB"==t.type){console.log(t);var n=e;if(t.payload.isManager){var a=n.find((function(e){return e.isManager&&e.unitId==t.payload.unitId}));if(a)return n=n.filter((function(e){return e.id!=a.id})),[].concat(Object(d.a)(n),[Object(l.a)(Object(l.a)({},a),{},{isManager:!1}),t.payload])}return[].concat(Object(d.a)(e),[t.payload])}return"EDIT_JOB"==t.type?[].concat(Object(d.a)(e.filter((function(e){return e.id!=t.payload.id}))),[t.payload]).sort((function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})):"DELETE_JOB"==t.type?e.filter((function(e){return e.id!=t.payload})):e}}),p={fields:{id:null,name:"",description:"",parentId:null}};var O={fields:{id:null,name:"",description:"",isManager:!1,unitId:null}};var h=Object(o.c)({selectedNode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_SELECTED_NODE"==t.type?(console.log(t.payload),t.payload):e},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1},t=arguments.length>1?arguments[1]:void 0;return"SHOW_MODAL"==t.type?t.payload:e},unitForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_UNIT_FORM"==t.type?Object(l.a)(Object(l.a)({},e),t.payload):e},jobForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_JOB_FORM"==t.type?Object(l.a)(Object(l.a)({},e),t.payload):"RESET_JOB_FORM"==t.type?Object(l.a)(Object(l.a)({},O),t.payload):e}}),m=Object(o.c)({entities:b,ui:h}),x=[{id:"1",dni:"12345678 SC",name:"Joaquin",middlename:"Chumacero",lastname:"Yupanqui",dateOfBirth:"1977-09-03",gender:"Masculino",nationality:"Boliviana",afp:"Futuro",contract:{type:"contrato laboral",startDate:"2019-09-10",jobId:"1",salary:5e5}},{id:"1",dni:"12345678 SC",name:"Arnold",middlename:"",lastname:"Schwarzenegger",dateOfBirth:"1977-09-03",gender:"Masculino",nationality:"Extranjera",afp:"",contract:{type:"contrato laboral",startDate:"2019-09-10",jobId:"1",salary:5e5}}];var f=Object(o.c)({employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return"ADD_EMPLOYEE"==t.type?[].concat(Object(d.a)(e),[t.payload]):e}}),v={fields:{dni:"",dniComplement:"",dniIssuedAt:"",name:"",middlename:"",lastname:"",gender:"Masculino",dateOfBirth:"",nacionality:"Boliviana",contractType:"contrato laboral",startDate:"",salary:"",unitId:"",jobId:"",afp:""}};var g=Object(o.c)({employeeForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_EMPLOYEE_FORM"==t.type?Object(l.a)(Object(l.a)({},e),t.payload):"RESET_EMPLOYE_FORM"==t.type?v:e}}),y=Object(o.c)({entities:f,ui:g}),E=[{id:1,name:"Cotizaci\xf3n Mensual + Comisi\xf3n",description:"",calculationMethodId:1,inForce:!0,rates:[{minimum:"0",maximum:"",formula:"%base_imponible%*0.105"}]},{id:2,name:"Aporte solidario asegurado",description:"",calculationMethodId:1,inForce:!0,rates:[{minimum:"0",maximum:"",formula:"%base_imponible%*0.005"}]},{id:3,name:"Cotizaci\xf3n adicional",description:"",calculationMethodId:2,inForce:!0,rates:[]},{id:4,name:"Prima riesgo comun",description:"",calculationMethodId:1,inForce:!0,rates:[{minimum:"0",maximum:"",formula:"%base_imponible%*0.0171"}]},{id:5,name:"Prima riesgo laboral",description:"",calculationMethodId:2,inForce:!0,rates:[{minimum:"0",maximum:"",formula:"%base_imponible% * 0.0171"}]},{id:6,name:"Aporte Nacional Solidario",description:"",calculationMethodId:2,inForce:!0,rates:[{minimum:"13000",maximum:"",formula:"%base_imponible% * 0.01"},{minimum:"25000",maximum:"",formula:"%base_imponible% * 0.05"},{minimum:"35000",maximum:"",formula:"%base_imponible% * 0.1"}]}],I=[{id:1,name:"Bono de Antig\xfcedad 2-4",description:"Bono de Antig\xfcedad de 2 a 4 a\xf1os",inForce:!0,calculationMethodId:1,formula:"SMN*3*0.05",payrollTypeId:1},{id:2,name:"Bono de Antig\xfcedad 5-7",description:"Bono de Antig\xfcedad de 5 a 7 a\xf1os",inForce:!0,calculationMethodId:1,formula:"SMN*3*0.11",payrollTypeId:1},{id:3,name:"Bono de Antig\xfcedad 8-10",description:"Bono de Antig\xfcedad de 8 a 10 a\xf1os",inForce:!0,calculationMethodId:1,formula:"SMN*3*0.18",payrollTypeId:1},{id:4,name:"Bono de Antig\xfcedad 11-14",description:"Bono de Antig\xfcedad de 11 a 14 a\xf1os",inForce:!0,calculationMethodId:1,formula:"SMN*3*0.26",payrollTypeId:1},{id:5,name:"Bono de Antig\xfcedad 15-19",description:"Bono de Antig\xfcedad de 15 a 19 a\xf1os",inForce:!0,calculationMethodId:1,formula:"SMN*3*0.34",payrollTypeId:1},{id:6,name:"Bono de Antig\xfcedad 20-24",description:"Bono de Antig\xfcedad de 15 a 19 a\xf1os",inForce:!0,calculationMethodId:1,formula:"SMN*3*0.42",payrollTypeId:1},{id:7,name:"Bono de Antig\xfcedad 25+",description:"Bono de Antig\xfcedad de 25 o mas a\xf1os",inForce:!0,calculationMethodId:1,formula:"SMN*3*0.50",payrollTypeId:1}],C=[],w=[],N=[{id:1,name:"Planilla de sueldos",description:"Planilla de sueldos"},{id:2,name:"Planilla de aguinaldo",description:"Planilla de aguinaldos"},{id:3,name:"Planilla de retroactivo",description:"Planilla de retroactivos"}],_=[{id:1,name:"F\xf3rmula",description:"Calculado mediante formula"},{id:2,name:"Manual",description:"No es calculado automaticamente"},{id:3,name:"Sistema",description:"Calculado internamente"},{id:4,name:"Definido por el usuario",description:"Debe ser definido por cada usuario"}],D=[],T=Object(o.c)({deductions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;return"ADD_DEDUCTION_TYPE"==t.type?[].concat(Object(d.a)(e),[t.payload]):e},wages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;if("ADD_WAGE_TYPE"==t.type)return[].concat(Object(d.a)(e),[t.payload.wage]);if("EDIT_WAGE_TYPE"==t.type){var n=e.findIndex((function(e){return e.id==t.payload.wage.id}));return e.splice(n,1,t.payload.wage),Object(d.a)(e)}return"DELETE_WAGE_TYPE"==t.type?e.filter((function(e){return e.id==t.payload})):e},payrolls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return"ADD_PAYROLL"==t.type?[].concat(Object(d.a)(e),[t.payload]):e},payrollEntries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;return"ADD_PAYROLL_ENTRY"==t.type?[].concat(Object(d.a)(e),[t.payload]):e},payrollTypes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;return"ADD_PAYROLL_TYPE"==t.type?[].concat(Object(d.a)(e),[t.payload]):e},calculationMethods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return"ADD_CALCULATION_METHOD"==t.type?[].concat(Object(d.a)(e),[t.payload]):e},applicableDeductions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;if("ADD_WAGE_TYPE"==t.type){var n=t.payload,a=n.applicableDeductions;n.wage;return[].concat(Object(d.a)(e),Object(d.a)(a))}if("EDIT_WAGE_TYPE"==t.type){var c=t.payload,i=c.applicableDeductions,r=c.wage;return[].concat(Object(d.a)(e.filter((function(e){return e.wageId!=r.id}))),Object(d.a)(i))}return e}}),A={fields:{name:"",description:"",payrollTypeId:"",inForce:!0,calculationMethodId:"",formula:"",applicableDeductionIds:[]},info:{name:"",description:"",payrollTypeId:"",inForce:"",calculationMethodId:"",formula:"",applicableDeductionIds:""}},L=Object(o.c)({selectedWageId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_SELECTED_WAGE_ID"==t.type?t.payload:e},wageForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_WAGE_FORM"==t.type?Object(l.a)(Object(l.a)({},e),t.payload):"RESET_WAGE_FORM"==t.type?A:e}}),M=Object(o.c)({entities:T,ui:L}),S={fields:{username:"",password:""},errors:{username:"",password:""},message:""},F=Object(o.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"alex",active:!0,id:1,external_id:1},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,c=t.error;switch(n){case"SET_USER":case"LOGIN_COMPLETED":case"LOAD_USER_COMPLETED":return c?e:a;default:return e}},loadUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(t.payload,t.type);switch(n){case"LOAD_USER":return{completed:!1};case"LOAD_USER_COMPLETED":return{completed:!0}}return e},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case"LOGIN":return{completed:!1};case"LOGIN_COMPLETED":return{completed:!0}}return e},loginForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;if("UPDATE_LOGIN_FORM"==t.type)return Object(l.a)(Object(l.a)({},e),t.payload);if("LOGIN"==t.type)return Object(l.a)(Object(l.a)({},e),{},{message:"",errors:S.errors});if("LOGIN_COMPLETED"==t.type&&t.error){var n=t.payload,a=n.message,c=n.errors;return Object(l.a)(Object(l.a)({},e),{},{message:a,errors:c||S.errors})}return"LOGIN_COMPLETED"==t.type?S:e}}),R=Object(o.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,c=t.error;t.meta;switch(n){case"LOAD_USERS_COMPLETED":return c?e:a.records}return e}}),P=Object(o.c)({usersPagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{total:0,current:1,size:15},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;t.error,t.meta;switch(n){case"UPDATE_USERS_PAGINATION":return Object(l.a)(Object(l.a)({},e),a);case"LOAD_USERS_COMPLETED":return a.meta}return e},usersFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;t.error,t.meta;switch(n){case"UPDATE_USERS_FILTER":return a}return e}}),U=Object(o.c)({loadUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=(t.payload,t.error);t.meta;switch(n){case"LOAD_USERS":return{completed:!1};case"LOAD_USERS_COMPLETED":return{completed:!0,failed:a};default:return e}}}),G=Object(o.c)({entities:R,ui:P,requests:U});var k=Object(o.c)({showSidebar:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_SIDEBAR"==t.type?!e:e}}),B=n(26),z=n.n(B),q=n(25),W=z.a.mark(V),H=z.a.mark(X),J=z.a.mark(Q),Y=z.a.mark(Z),K=z.a.mark($);function V(e){var t;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(q.d)((function(t){return t.organization.entities.units.find((function(t){return t.id==e.payload.id}))}));case 2:return t=n.sent,n.next=5,Object(q.c)({type:"UPDATE_UNIT_FORM",payload:{fields:{id:t.id,name:t.name,description:t.description,parentId:t.parentId}}});case 5:return n.next=7,Object(q.c)({type:"SHOW_MODAL",payload:{show:!0,target:"unit",id:null}});case 7:case"end":return n.stop()}}),W)}function X(e){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(q.c)({type:"UPDATE_UNIT_FORM",payload:{fields:{id:null,name:"",description:"",parentId:e.payload.parentId}}});case 2:return t.next=4,Object(q.c)({type:"SHOW_MODAL",payload:{show:!0,target:"unit",id:null}});case 4:case"end":return t.stop()}}),H)}function Q(e){var t;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(q.d)((function(t){return t.organization.entities.jobs.find((function(t){return t.id==e.payload.id}))}));case 2:return t=n.sent,n.next=5,Object(q.c)({type:"UPDATE_JOB_FORM",payload:{fields:{id:t.id,name:t.name,description:t.description,isManager:t.isManager,unitId:t.unitId}}});case 5:return n.next=7,Object(q.c)({type:"SHOW_MODAL",payload:{show:!0,target:"job",id:null}});case 7:case"end":return n.stop()}}),J)}function Z(e){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(q.c)({type:"UPDATE_JOB_FORM",payload:{fields:{id:null,name:"",description:"",isManager:!1,unitId:e.payload.unitId}}});case 2:return t.next=4,Object(q.c)({type:"SHOW_MODAL",payload:{show:!0,target:"job",id:null}});case 4:case"end":return t.stop()}}),Y)}function $(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)([Object(q.e)("PREPARE_UNIT_FORM",V),Object(q.e)("PREPARE_NEW_UNIT_FORM",X),Object(q.e)("PREPARE_JOB_FORM",Q),Object(q.e)("PREPARE_NEW_JOB_FORM",Z)]);case 2:case"end":return e.stop()}}),K)}var ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,te=Object(o.c)({organization:m,employee:y,payrolls:M,iam:G,main:k,auth:F}),ne=Object(s.a)(),ae=Object(o.e)(te,ee(Object(o.a)(ne)));ne.run($);var ce=ae,ie=(n(127),n(174)),re=n(167),oe=n(175),se=n(176),le=n(164),de=n(109),je=n(170),ue=n(110),be=n(21),pe=n(20),Oe=n(115),he=n(17),me=(n(96),n(162)),xe=n(34),fe=function(e){return e.organization.entities.units},ve=function(e){return e.organization.entities.jobs},ge=function(e){return e.organization.ui.selectedNode},ye=function(e){return e.organization.ui.modal},Ee=Object(xe.a)(fe,ve,ge,(function(e,t,n){if(n&&"unit"==n.type){var a=e.find((function(e){return e.id==n.id}));return{id:null===a||void 0===a?void 0:a.id,name:null===a||void 0===a?void 0:a.name,description:null===a||void 0===a?void 0:a.description,subunits:e.filter((function(e){return e.parentId==(null===a||void 0===a?void 0:a.id)})),jobs:t.filter((function(e){return e.unitId==(null===a||void 0===a?void 0:a.id)}))}}return null})),Ie=n(2),Ce=function(){var e=Object(r.c)(Ee);return console.log(e),e?Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("h2",{style:{fontSize:"1.75rem"},children:e.name}),Object(Ie.jsx)("p",{children:e.description}),Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)("h3",{style:{fontSize:"1.5rem"},children:"Sub unidades"}),Object(Ie.jsxs)(me.a,{responsive:!0,children:[Object(Ie.jsx)("thead",{children:Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{style:{width:0},children:"#"}),Object(Ie.jsx)("th",{children:"Nombre"})]})}),Object(Ie.jsx)("tbody",{children:e.subunits.length?e.subunits.map((function(e,t){return Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{scope:"row",children:t+1}),Object(Ie.jsx)("td",{children:e.name})]})})):Object(Ie.jsx)("tr",{children:Object(Ie.jsx)("td",{className:"bg-light text-center",colSpan:3,children:"Aun no se agregaron sub unidades"})})})]})]}),Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)("h3",{style:{fontSize:"1.5rem"},children:"Cargos"}),Object(Ie.jsxs)(me.a,{responsive:!0,children:[Object(Ie.jsx)("thead",{children:Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{style:{width:0},children:"#"}),Object(Ie.jsx)("th",{children:"Nombre"})]})}),Object(Ie.jsx)("tbody",{children:e.jobs.length?e.jobs.map((function(e,t){return Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{scope:"row",children:t+1}),Object(Ie.jsx)("td",{children:"".concat(e.name," ").concat(e.isManager?"(Administrador)":"")})]})})):Object(Ie.jsx)("tr",{children:Object(Ie.jsx)("td",{className:"bg-light text-center",colSpan:3,children:"Aun no se agregaron puestos de trabajo"})})})]})]})]}):null},we=Object(xe.a)(ve,ge,(function(e,t){if(t&&"job"==t.type){var n=e.find((function(e){return e.id==t.id}));return{id:null===n||void 0===n?void 0:n.id,name:null===n||void 0===n?void 0:n.name,description:null===n||void 0===n?void 0:n.description,isManager:null===n||void 0===n?void 0:n.isManager}}return null})),Ne=function(){var e=Object(r.c)(we);return console.log(e),e?Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("h2",{style:{fontSize:"1.75rem"},children:e.name}),Object(Ie.jsx)("p",{children:e.description}),Object(Ie.jsxs)("span",{children:["Es administrador: ",e.isManager?"S\xed":"No"]})]}):null},_e=n(19),De=n(116),Te=function(e){return e.organization.entities.units},Ae=(Object(xe.a)(Te,(function(e,t){return t}),(function(e,t){return e.filter((function(e){return e.parentId==t}))})),Object(xe.a)(Te,(function(e){return e.organization.entities.jobs}),(function(e,t){var n=function n(a){return e.filter((function(e){return e.parentId==a})).map((function(e){return{key:"unit-".concat(e.id),title:e.name,icon:he.j,children:[].concat(Object(d.a)(n(e.id)),Object(d.a)(t.filter((function(t){return t.unitId==e.id})).map((function(e){return{key:"job-".concat(e.id),title:e.name,icon:he.c,isLeaf:!0}}))))}}))}(null);return console.log("TreeData",n),[{key:"root",title:"Caja de Salud de Caminos y R.A.",icon:he.d,children:n}]}))),Le=(n(129),n(30)),Me=n(35),Se=(n(130),"ORG_STR_MENU"),Fe=function(){var e=Object(r.b)(),t=Object(Le.d)({id:Se}).show,n=Object(r.c)(Ae),c=Object(a.useCallback)((function(e){return"root"==e.props.nodeId}),[]);return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(De.a,{className:"os-tree position-absolute border",switcherIcon:function(e){var t;return(null===(t=e.data)||void 0===t?void 0:t.children)?e.expanded?Object(Ie.jsx)(Me.a,{}):Object(Ie.jsx)(Me.b,{}):void 0},draggable:!0,treeData:n,defaultExpandedKeys:["root"],multiple:!1,onSelect:function(t){if(t.length){var n=t[0].split("-"),a=Object(_e.a)(n,2),c=a[0],i=a[1];e({type:"UPDATE_SELECTED_NODE",payload:{id:i,type:c}})}else e({type:"UPDATE_SELECTED_NODE",payload:null})},onRightClick:function(e){t(e.event,{props:{nodeId:e.node.key,isLeaf:e.node.isLeaf}})}}),Object(Ie.jsxs)(Le.b,{id:Se,children:[Object(Ie.jsxs)(Le.c,{hidden:function(e){return e.props.isLeaf},label:"Crear",arrow:Object(Ie.jsx)(Me.b,{}),children:[Object(Ie.jsx)(Le.a,{onClick:function(t){var n=t.props,a="root"==n.nodeId?[null,null]:n.nodeId.split("-"),c=Object(_e.a)(a,2),i=(c[0],c[1]);e({type:"PREPARE_NEW_UNIT_FORM",payload:{parentId:i}})},children:"Unidad"}),Object(Ie.jsx)(Le.a,{onClick:function(t){var n=t.props,a="root"==n.nodeId?[null,null]:n.nodeId.split("-"),c=Object(_e.a)(a,2),i=(c[0],c[1]);e({type:"PREPARE_NEW_JOB_FORM",payload:{unitId:i}})},children:"Cargo"})]}),Object(Ie.jsx)(Le.a,{hidden:c,onClick:function(t){var n=t.props.nodeId.split("-"),a=Object(_e.a)(n,2),c=a[0],i=a[1];e({type:"unit"==c?"PREPARE_UNIT_FORM":"PREPARE_JOB_FORM",payload:{id:i}})},children:"Editar"}),Object(Ie.jsx)(Le.a,{hidden:c,onClick:function(t){var n=t.props.nodeId.split("-"),a=Object(_e.a)(n,2),c=a[0],i=a[1];e({type:"unit"==c?"DELETE_UNIT":"DELETE_JOB",payload:i})},children:"Eliminar"})]})]})},Re=n(168),Pe=n(169),Ue=n(171),Ge=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.organization.ui.unitForm})).fields;return Object(Ie.jsxs)(Pe.a,{id:"unit-form",onSubmit:function(n){n.preventDefault(),t.id?e({type:"EDIT_UNIT",payload:{id:t.id,name:t.name,description:t.description,parentId:t.parentId}}):e({type:"ADD_UNIT",payload:{id:Object(Ue.a)().replaceAll("-",""),name:t.name,description:t.description,parentId:t.parentId}}),e({type:"SHOW_MODAL",payload:{show:!1}})},children:[Object(Ie.jsxs)(Pe.a.Group,{controlId:"doctor",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Nombre"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",value:t.name,onChange:function(n){var a=n.target.value;e({type:"UPDATE_UNIT_FORM",payload:{fields:Object(l.a)(Object(l.a)({},t),{},{name:a})}})}})]}),Object(Ie.jsxs)(Pe.a.Group,{controlId:"doctor",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Descripci\xf3n"}),Object(Ie.jsx)(Pe.a.Control,{as:"textarea",value:t.description,onChange:function(n){var a=n.target.value;e({type:"UPDATE_UNIT_FORM",payload:{fields:Object(l.a)(Object(l.a)({},t),{},{description:a})}})}})]})]})},ke=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.organization.ui.jobForm})).fields;return console.log("Fields",t),Object(Ie.jsxs)(Pe.a,{id:"job-form",onSubmit:function(n){n.preventDefault(),t.id?e({type:"EDIT_JOB",payload:{id:t.id,name:t.name,isManager:t.isManager,description:t.description,unitId:t.unitId}}):e({type:"ADD_JOB",payload:{id:Object(Ue.a)().replaceAll("-",""),name:t.name,isManager:t.isManager,description:t.description,unitId:t.unitId}}),e({type:"SHOW_MODAL",payload:{show:!1}})},children:[Object(Ie.jsxs)(Pe.a.Group,{controlId:"name",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Nombre"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",value:t.name,onChange:function(n){var a=n.target.value;e({type:"UPDATE_JOB_FORM",payload:{fields:Object(l.a)(Object(l.a)({},t),{},{name:a})}})}})]}),Object(Ie.jsx)(Pe.a.Group,{controlId:"is-manager",children:Object(Ie.jsx)(Pe.a.Check,{type:"checkbox",label:"Es administrador",checked:t.isManager,onChange:function(n){n.target.value;e({type:"UPDATE_JOB_FORM",payload:{fields:Object(l.a)(Object(l.a)({},t),{},{isManager:!t.isManager})}})}})}),Object(Ie.jsxs)(Pe.a.Group,{controlId:"description",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Descripci\xf3n"}),Object(Ie.jsx)(Pe.a.Control,{as:"textarea",value:t.description,onChange:function(n){var a=n.target.value;e({type:"UPDATE_JOB_FORM",payload:{fields:Object(l.a)(Object(l.a)({},t),{},{description:a})}})}})]})]})},Be=function(){var e=Object(r.b)(),t=Object(r.c)(ye),n=t.show,a=t.target,c=t.id;return Object(Ie.jsxs)(Re.a,{centered:!0,show:n,onHide:function(){e({type:"SHOW_MODAL",payload:{show:!1}})},children:[Object(Ie.jsx)(Re.a.Header,{closeButton:!0,children:Object(Ie.jsxs)(Re.a.Title,{children:["".concat(null!=c?"Editar":"Crear"),Object(Ie.jsx)("span",{children:"unit"==a?" Unidad":" Puesto de Trabajo"})]})}),Object(Ie.jsx)(Re.a.Body,{children:"unit"==a?Object(Ie.jsx)(Ge,{}):"job"==a?Object(Ie.jsx)(ke,{}):null}),Object(Ie.jsxs)(Re.a.Footer,{children:[Object(Ie.jsx)(ue.a,{variant:"secondary",onClick:function(){e({type:"SHOW_MODAL",payload:{show:!1}})},children:"Cancelar"}),Object(Ie.jsx)(ue.a,{variant:"primary",form:"unit"==a?"unit-form":"job-form",type:"submit",children:"Guardar"})]})]})},ze=function(){return Object(Ie.jsxs)("div",{style:{minWidth:480},className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:[Object(Ie.jsx)("h1",{style:{fontSize:"2rem"},children:"Estructura Organizacional"}),Object(Ie.jsxs)("div",{className:"position-relative d-flex flex-grow-1",children:[Object(Ie.jsx)(Fe,{}),Object(Ie.jsxs)("div",{className:"p-3 border flex-grow-1",style:{marginLeft:"11rem"},children:[Object(Ie.jsx)(Ce,{}),Object(Ie.jsx)(Ne,{})]})]}),Object(Ie.jsx)(Be,{})]})},qe=function(e){return e.employee.ui.employeeForm},We=Object(xe.a)((function(e){return e.employee.entities.employees}),ve,fe,(function(e,t,n){return e.map((function(e){var a=t.find((function(t){return t.id==e.contract.jobId}));return{id:e.id,dni:e.dni,fullName:"".concat(e.name," ").concat(e.middlename," ").concat(e.lastname),gender:e.gender,dateOfBirth:e.dateOfBirth,nationality:e.nationality,afp:e.afp,contract:{type:e.contract.type,startDate:e.contract.startDate,job:{name:null===a||void 0===a?void 0:a.name,unit:n.find((function(t){return t.id==e.contract.jobId}))},salary:(e.contract.salary/100).toFixed(2)}}}))})),He=function(){var e=Object(pe.j)(),t=(e.path,e.url,Object(r.c)(We));return Object(Ie.jsxs)("div",{style:{minWidth:480},className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:[Object(Ie.jsx)("h1",{style:{fontSize:"2rem"},children:"Lista de empleados"}),Object(Ie.jsxs)(me.a,{responsive:!0,className:"small text-nowrap",children:[Object(Ie.jsx)("thead",{children:Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{style:{width:0},children:"#"}),Object(Ie.jsx)("th",{children:"Carnet de identidad"}),Object(Ie.jsx)("th",{children:"Nombre completo"}),Object(Ie.jsx)("th",{children:"Sexo"}),Object(Ie.jsx)("th",{children:"Fecha de nacimiento"}),Object(Ie.jsx)("th",{children:"Nacionalidad"}),Object(Ie.jsx)("th",{children:"Tipo de contrato"}),Object(Ie.jsx)("th",{children:"Fecha de incorporaci\xf3n"}),Object(Ie.jsx)("th",{children:"Unidad"}),Object(Ie.jsx)("th",{children:"Cargo"}),Object(Ie.jsx)("th",{children:"Salario"}),Object(Ie.jsx)("th",{children:"Afp"}),Object(Ie.jsx)("th",{})]})}),Object(Ie.jsx)("tbody",{children:t.map((function(e,t){var n;return Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{scope:"row",children:t+1}),Object(Ie.jsx)("td",{children:e.dni}),Object(Ie.jsx)("td",{className:"text-nowrap",children:e.fullName}),Object(Ie.jsx)("td",{children:e.gender}),Object(Ie.jsx)("td",{children:e.dateOfBirth}),Object(Ie.jsx)("td",{children:e.nationality}),Object(Ie.jsx)("td",{children:e.contract.type}),Object(Ie.jsx)("td",{children:e.contract.startDate}),Object(Ie.jsx)("td",{className:"text-nowrap",children:null===(n=e.contract.job.unit)||void 0===n?void 0:n.name}),Object(Ie.jsx)("td",{className:"text-nowrap",children:e.contract.job.name}),Object(Ie.jsx)("td",{children:e.contract.salary}),Object(Ie.jsx)("td",{children:e.afp}),Object(Ie.jsx)("td",{children:Object(Ie.jsx)(ue.a,{className:"btn-icon d-inline",variant:"link",children:Object(Ie.jsx)(Me.c,{})})})]})}))})]})]})},Je=n(55),Ye=function(){var e=Object(r.b)(),t=Object(r.c)(qe).fields,n=Object(r.c)(fe),a=Object(r.c)((function(e){return n=e,a=t.unitId,n.organization.entities.jobs.filter((function(e){return e.unitId==a}));var n,a})),c=function(n){return function(a){var c=a.target.value;!function(n,a){e({type:"UPDATE_EMPLOYEE_FORM",payload:{fields:Object(l.a)(Object(l.a)({},t),{},Object(Je.a)({},n,a))}})}(n,c)}};return Object(Ie.jsx)("div",{style:{minWidth:480},className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:Object(Ie.jsxs)(Pe.a,{onSubmit:function(n){n.preventDefault();var a={id:Object(Ue.a)(),dni:"".concat(t.dni).concat(t.dniComplement?"-":"").concat(t.dniComplement).concat(t.dniIssuedAt?" ":"").concat(t.dniIssuedAt),name:t.name,middlename:t.middlename,lastname:t.lastname,gender:t.gender,dateOfBirth:t.dateOfBirth,nationality:t.nacionality,afp:t.afp,contract:{type:t.contractType,startDate:t.startDate,jobId:t.jobId,salary:Math.round(100*parseFloat(t.salary))}};e({type:"ADD_EMPLOYEE",payload:a}),e({type:"RESET_EMPLOYE_FORM"})},children:[Object(Ie.jsxs)("fieldset",{children:[Object(Ie.jsx)("legend",{children:"Informacion Personal"}),Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:6,md:4,controlId:"employee-dni",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Carnet de Identidad"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",value:t.dni,onChange:c("dni")})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,xs:6,sm:3,md:2,controlId:"employee-dni-complement",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Complemento"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",value:t.dniComplement,onChange:c("dniComplement")})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,xs:6,sm:3,md:2,controlId:"employee-dni-issued-at",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Expedido en"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",value:t.dniIssuedAt,onChange:c("dniIssuedAt"),children:[Object(Ie.jsx)("option",{}),Object(Ie.jsx)("option",{value:"BN",children:"Beni"}),Object(Ie.jsx)("option",{value:"CH",children:"Chuquisaca"}),Object(Ie.jsx)("option",{value:"CB",children:"Cochabamba"}),Object(Ie.jsx)("option",{value:"LP",children:"La Paz"}),Object(Ie.jsx)("option",{value:"OR",children:"Oruro"}),Object(Ie.jsx)("option",{value:"PN",children:"Pando"}),Object(Ie.jsx)("option",{value:"PT",children:"Potos\xed"}),Object(Ie.jsx)("option",{value:"SC",children:"Santa Cruz"}),Object(Ie.jsx)("option",{value:"TJ",children:"Tarija"})]})]})]}),Object(Ie.jsx)(Pe.a.Row,{className:"d-none",children:Object(Ie.jsx)(Pe.a.Group,{as:de.a,children:Object(Ie.jsx)(ue.a,{children:"Buscar"})})}),Object(Ie.jsx)("hr",{}),Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,md:4,controlId:"employee-name",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Nombre"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",value:t.name,onChange:c("name")})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,md:4,controlId:"employee-middlename",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Apellido Paterno"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",value:t.middlename,onChange:c("middlename")})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,md:4,controlId:"employee-lastname",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Apellido Materno"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",value:t.lastname,onChange:c("lastname")})]})]}),Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:4,controlId:"employee-gender",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Sexo"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",value:t.gender,onChange:c("gender"),children:[Object(Ie.jsx)("option",{id:"1",value:"Masculino",children:"Hombre"}),Object(Ie.jsx)("option",{id:"2",value:"Femenino",children:"Mujer"})]})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:8,md:4,controlId:"employee-dayofbirth",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Fecha de nacimiento"}),Object(Ie.jsx)(Pe.a.Control,{type:"date",value:t.dateOfBirth,onChange:c("dateOfBirth")})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,md:4,controlId:"employee-nationality",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Nacionalidad"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",value:t.nacionality,onChange:c("nacionality"),children:[Object(Ie.jsx)("option",{value:"Boliviana",children:"Boliviana"}),Object(Ie.jsx)("option",{value:"Extranjera",children:"Extranjera"})]})]})]})]}),Object(Ie.jsxs)("fieldset",{children:[Object(Ie.jsx)("legend",{children:"Informacion de Contrato"}),Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,md:4,controlId:"employee-contract-type",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Tipo de contrato"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",value:t.contractType,onChange:c("contractType"),children:[Object(Ie.jsx)("option",{id:"1",value:"item",children:"Item"}),Object(Ie.jsx)("option",{id:"2",value:"contrato laboral",children:"Contrato Laboral"}),Object(Ie.jsx)("option",{id:"3",value:"consultor\xeda",children:"Consultor\xeda"})]})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:8,md:4,controlId:"employee-contract-start-date",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Fecha de inicio"}),Object(Ie.jsx)(Pe.a.Control,{type:"date",value:t.startDate,onChange:c("startDate")})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:4,controlId:"employee-contract-salary",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Salario"}),Object(Ie.jsx)(Pe.a.Control,{type:"number",value:t.salary,onChange:c("salary")})]})]}),Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,controlId:"employee-contract-job-unit",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Unidad"}),Object(Ie.jsx)(Pe.a.Control,{as:"select",value:t.unitId,onChange:c("unitId"),children:Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)("option",{value:""}),n.map((function(e){return Object(Ie.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,controlId:"employee-contract-job",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Cargo"}),Object(Ie.jsx)(Pe.a.Control,{as:"select",value:t.jobId,onChange:c("jobId"),children:Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)("option",{value:""}),a.map((function(e){return Object(Ie.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})]})]})]}),Object(Ie.jsxs)("fieldset",{children:[Object(Ie.jsx)("legend",{children:"Informaci\xf3n sobre AFP"}),Object(Ie.jsx)(Pe.a.Row,{children:Object(Ie.jsxs)(Pe.a.Group,{as:de.a,controlId:"employee-afp",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Empresa"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",value:t.afp,onChange:c("afp"),children:[Object(Ie.jsx)("option",{}),Object(Ie.jsx)("option",{value:"Prevision",children:"Previsi\xf3n"}),Object(Ie.jsx)("option",{value:"Futuro",children:"Futuro"}),Object(Ie.jsx)("option",{value:"No aporta",children:"No aporta"}),Object(Ie.jsx)("option",{})]})]})})]}),Object(Ie.jsx)(ue.a,{type:"submit",children:"Registrar"})]})})},Ke=n(95),Ve=n(111),Xe=n(163),Qe=n(60),Ze=function(e){return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(be.b,{to:e.path,className:"list-group-item list-group-item-action border-0 text-nowrap",style:{padding:".5rem 1rem"},children:[e.icon,Object(Ie.jsx)("span",{style:{verticalAlign:"middle",marginLeft:"0.5rem"},children:e.title})]},e.id),e.items&&e.items.map((function(e){return Object(Ie.jsxs)(be.b,{to:e.path,style:{padding:".5rem 1rem",paddingLeft:"2rem"},className:"list-group-item list-group-item-action border-0 text-nowrap",children:[e.icon,Object(Ie.jsx)("span",{style:{verticalAlign:"middle",marginLeft:"0.5rem"},children:e.title})]},e.id)}))]})},$e=function(e){var t=e.className,n=void 0===t?"":t,a=e.side,c=void 0===a?"right":a,i=e.title,r=void 0===i?"":i,o=e.items,s=void 0===o?[]:o;e.renderItem,Object(Qe.a)(e,["className","side","title","items","renderItem"]);return Object(Ie.jsxs)("div",{className:"".concat(n,"  ").concat({left:"border-left",right:"border-right"}[c]),id:"sidebar-wrapper",children:[Object(Ie.jsx)("div",{className:"sidebar-heading",children:r}),Object(Ie.jsx)("div",{className:"list-group",children:s.map((function(e){return Object(Ie.jsx)(Ze,Object(l.a)({},e),e.id)}))})]})},et=function(e){var t=e.sidebar,n=e.children,a=Object(r.c)((function(e){return e.main.showSidebar})),c=Object(pe.j)();c.path,c.url;return Object(Ie.jsxs)("div",{className:"position-relative d-flex flex-grow-1 bg-light"+(a?"":" toggled"),id:"wrapper",children:[Object(Ie.jsx)($e,Object(l.a)({className:"bg-white shadow-sm"},t)),Object(Ie.jsx)(Xe.a,{className:"d-flex flex-column flex-grow-1",style:{overflow:"auto"},children:n})]})},tt=n(177),nt=function(){return Object(Ie.jsxs)("div",{className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:[Object(Ie.jsx)("h1",{style:{fontSize:"2rem"},children:"Deducciones"}),Object(Ie.jsxs)("div",{className:"list-details position-relative d-flex flex-grow-1",children:[Object(Ie.jsx)("div",{className:"list",children:Object(Ie.jsx)(tt.a,{className:"flex-grow-1",defaultActiveKey:"#link1",children:Object(Ie.jsx)(tt.a.Item,{action:!0,href:"#link1",children:"Link 1"})})}),Object(Ie.jsx)("div",{className:"p-3 border flex-grow-1",style:{marginLeft:"11rem"}})]})]})},at=function(){return Object(Ie.jsxs)("div",{className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:[Object(Ie.jsx)("h1",{style:{fontSize:"2rem"},children:"Lista de empleados"}),Object(Ie.jsxs)(me.a,{responsive:!0,className:"small text-nowrap",children:[Object(Ie.jsx)("thead",{children:Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{style:{width:0},children:"#"}),Object(Ie.jsx)("th",{children:"Fecha de inicio"}),Object(Ie.jsx)("th",{children:"Fecha de cierre"}),Object(Ie.jsx)("th",{children:"Titulo"}),Object(Ie.jsx)("th",{children:"Total"}),Object(Ie.jsx)("th",{})]})}),Object(Ie.jsx)("tbody",{})]})]})},ct=n(172),it=function(e){return e.payrolls.entities.wages},rt=function(e){return e.payrolls.entities.deductions},ot=function(e){return e.payrolls.entities.applicableDeductions},st=function(e){return e.payrolls.entities.payrollTypes},lt=function(e){return e.payrolls.entities.calculationMethods},dt=function(e){return e.payrolls.ui.wageForm},jt=(Object(xe.a)(it,rt,ot,st,(function(e){return e.payrolls.ui.selectedWageId}),(function(e,t,n,a,c){var i=e.find((function(e){return e.id==c}));return i&&{id:null===i||void 0===i?void 0:i.id,name:null===i||void 0===i?void 0:i.name,description:null===i||void 0===i?void 0:i.description,inForce:null===i||void 0===i?void 0:i.inForce,payrollType:a.find((function(e){return e.id==(null===i||void 0===i?void 0:i.payrollTypeId)})),applicableDeductions:t.filter((function(e){return n.some((function(t){return t.wageId==(null===i||void 0===i?void 0:i.id)&&t.deductionId==e.id}))}))}})),function(e){var t=e.wageId,n=Object(a.useMemo)((function(){return function(e){return Object(xe.a)(it,rt,ot,lt,st,(function(t,n,a,c,i){var r=t.find((function(t){return t.id==e}));return console.log("Selected Wage",r),r&&{id:null===r||void 0===r?void 0:r.id,name:null===r||void 0===r?void 0:r.name,description:null===r||void 0===r?void 0:r.description,inForce:null===r||void 0===r?void 0:r.inForce,formula:null===r||void 0===r?void 0:r.formula,payrollType:i.find((function(e){return e.id==(null===r||void 0===r?void 0:r.payrollTypeId)})),calculationMethod:c.find((function(e){return e.id==(null===r||void 0===r?void 0:r.calculationMethodId)})),applicableDeductions:n.filter((function(e){return a.some((function(t){return t.wageId==(null===r||void 0===r?void 0:r.id)&&t.deductionId==e.id}))}))}}))}(t)}),[t]),c=Object(r.c)(n);return console.log(c),c?Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)("h2",{style:{fontSize:"1.75rem"},children:c.name}),Object(Ie.jsx)("p",{children:c.description}),Object(Ie.jsxs)(me.a,{children:[Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{className:"text-nowrap",scope:"row",style:{width:"1px"},children:"Tipo de nomina"}),Object(Ie.jsx)("td",{children:c.payrollType.name})]}),Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{scope:"row",children:"Vigente"}),Object(Ie.jsx)("td",{children:c.inForce?"S\xed":"No"})]}),Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{className:"text-nowrap",scope:"row",children:"M\xe9todo de c\xe1lculo"}),Object(Ie.jsx)("td",{children:c.calculationMethod.name+(1==c.calculationMethod.id?" (".concat(c.formula,")"):"")})]}),Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{scope:"row",children:"Descuentos aplicados"}),c.applicableDeductions.length?Object(Ie.jsx)("td",{children:c.applicableDeductions.map((function(e){return e.name})).join(", ")}):Object(Ie.jsx)("td",{className:"bg-light",children:"No se aplican descuentos"})]})]})]}):null}),ut="WG_LS_MENU",bt=function(){var e=Object(r.c)(it),t=Object(r.b)(),n=Object(Le.d)({id:ut}).show,a=Object(pe.g)(),c=Object(pe.j)(),i=(c.path,c.url);return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(tt.a,{className:"flex-grow-1",variant:"flush",onContextMenu:function(e){n(e,{props:{id:null}})},children:e.map((function(e){return Object(Ie.jsx)(tt.a.Item,{className:"py-2 px-3",href:"#".concat(e.id),action:!0,onContextMenu:function(t){t.stopPropagation(),n(t,{props:{id:e.id}})},children:e.name},e.id)}))}),Object(Ie.jsxs)(Le.b,{id:ut,children:[Object(Ie.jsx)(Le.a,{hidden:function(e){return e.props.id},onClick:function(e){e.props;a.push("".concat(i,"/crear"),{})},children:"Crear"}),Object(Ie.jsx)(Le.a,{hidden:function(e){return!e.props.id},onClick:function(e){var t=e.props.id;a.push("".concat(i,"/editar/").concat(t),{})},children:"Editar"}),Object(Ie.jsx)(Le.a,{hidden:function(e){return!e.props.id},onClick:function(e){var n=e.props.id;t({type:"DELETE_WAGE_TYPE",payload:n})},children:"Eliminar"})]})]})},pt=function(){var e=Object(r.c)(it);return Object(Ie.jsxs)("div",{className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:[Object(Ie.jsx)("h1",{style:{fontSize:"2rem"},children:"Bonos"}),Object(Ie.jsx)(ct.a.Container,{transition:!1,children:Object(Ie.jsxs)("div",{className:"list-details position-relative d-flex flex-grow-1",children:[Object(Ie.jsx)("div",{className:"list border",children:Object(Ie.jsx)(bt,{})}),Object(Ie.jsx)(ct.a.Content,{className:"p-3 border flex-grow-1",style:{marginLeft:"11rem"},children:e.map((function(e){return Object(Ie.jsx)(ct.a.Pane,{eventKey:"#".concat(e.id),children:Object(Ie.jsx)(jt,{wageId:e.id},e.id)})}))})]})})]})},Ot=function(){var e=Object(r.b)(),t=Object(pe.i)(),n=t.action,c=t.id,i=Object(r.c)(dt),o=i.fields,s=i.info;console.log(o);var j=Object(r.c)(lt),u=Object(r.c)(st),b=Object(r.c)(it).find((function(e){return e.id==c})),p=Object(r.c)(ot).filter((function(e){return e.wageId==(null===b||void 0===b?void 0:b.id)})).map((function(e){return e.deductionId})),O=Object(r.c)(rt).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),h=Object(pe.g)();console.log(b),Object(a.useEffect)((function(){e(b?{type:"UPDATE_WAGE_FORM",payload:{fields:{name:b.name,description:b.description,inForce:b.inForce,payrollTypeId:b.payrollTypeId,calculationMethodId:b.calculationMethodId,formula:b.formula,applicableDeductionIds:p}}}:{type:"RESET_WAGE_FORM"})}),[c]);var m=Object(a.useCallback)((function(){console.log(h.location),h.location.state?h.goBack():h.replace("/rrhh/nominas/percepciones")}),[]),x=function(t){return function(n){var a=n.target.value;!function(t,n){e({type:"UPDATE_WAGE_FORM",payload:{fields:Object(l.a)(Object(l.a)({},o),{},Object(Je.a)({},t,n))}})}(t,a)}};return Object(Ie.jsxs)(Re.a,{show:!0,centered:!0,onHide:m,children:[Object(Ie.jsx)(Re.a.Header,{closeButton:!0,children:Object(Ie.jsx)(Re.a.Title,{children:"".concat(c?"Editar":"Crear"," Percepci\xf3n")})}),Object(Ie.jsx)(Re.a.Body,{children:Object(Ie.jsxs)(Pe.a,{id:"wage-form",onSubmit:function(t){t.preventDefault();var a="crear"==n?Object(Ue.a)().replaceAll("-",""):c;e({type:"crear"==n?"ADD_WAGE_TYPE":"EDIT_WAGE_TYPE",payload:{wage:{id:a,name:o.name,description:o.description,inForce:o.inForce,formula:o.formula,payrollTypeId:parseInt(o.payrollTypeId),calculationMethodId:parseInt(o.calculationMethodId)},applicableDeductions:o.applicableDeductionIds.map((function(e){return{deductionId:e,wageId:a}}))}}),m()},children:[Object(Ie.jsxs)(Pe.a.Group,{children:[Object(Ie.jsx)(Pe.a.Label,{children:"Nombre"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",value:o.name,onChange:x("name")})]}),Object(Ie.jsxs)(Pe.a.Group,{children:[Object(Ie.jsx)(Pe.a.Label,{children:"Descripci\xf3n"}),Object(Ie.jsx)(Pe.a.Control,{as:"textarea",value:o.description,onChange:x("description")})]}),Object(Ie.jsx)(Pe.a.Check,{className:"mb-3",type:"checkbox",label:"Vigente",checked:o.inForce,onChange:function(t){e({type:"UPDATE_WAGE_FORM",payload:{fields:Object(l.a)(Object(l.a)({},o),{},{inForce:t.target.checked})}})}}),Object(Ie.jsxs)(le.a,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Tipo de nomina"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",value:o.payrollTypeId,onChange:x("payrollTypeId"),children:[Object(Ie.jsx)("option",{}),u.map((function(e){return Object(Ie.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Metodo de c\xe1lculo"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",value:o.calculationMethodId,onChange:function(t){var n,a=t.target.value;e({type:"UPDATE_WAGE_FORM",payload:{fields:Object(l.a)(Object(l.a)({},o),{},{calculationMethodId:a}),info:Object(l.a)(Object(l.a)({},s),{},{calculationMethodId:null===(n=j.find((function(e){return e.id==parseInt(a)})))||void 0===n?void 0:n.description})}})},children:[Object(Ie.jsx)("option",{children:"\xbfC\xf3mo debe calcularse?"}),j.map((function(e){return Object(Ie.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})]}),"1"==o.calculationMethodId?Object(Ie.jsxs)(Pe.a.Group,{children:[Object(Ie.jsx)(Pe.a.Label,{children:"Formula"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",value:o.formula,onChange:x("formula")})]}):null,Object(Ie.jsx)("span",{className:"mb-2",children:"Descuentos que se aplicar\xe1n"}),Object(Ie.jsx)(tt.a,{as:"ul",className:"overflow-auto border flex-grow-1",variant:"flush",style:{height:"10rem"},children:O.map((function(t){return Object(Ie.jsx)(tt.a.Item,{as:"li",className:"py-2 px-3",action:!0,children:Object(Ie.jsx)(Pe.a.Check,{type:"checkbox",label:t.name,checked:o.applicableDeductionIds.some((function(e){return e==t.id})),onChange:function(n){var a;console.log(n.target.checked),n.target.checked?o.applicableDeductionIds.some((function(e){return e==t.id}))||(a=Object(d.a)(o.applicableDeductionIds)).push(t.id):a=o.applicableDeductionIds.filter((function(e){return e!=t.id})),o.applicableDeductionIds.filter((function(e){return e})),e({type:"UPDATE_WAGE_FORM",payload:{fields:Object(l.a)(Object(l.a)({},o),{},{applicableDeductionIds:a})}})}})},t.id)}))})]})}),Object(Ie.jsxs)(Re.a.Footer,{children:[Object(Ie.jsx)(ue.a,{variant:"secondary",onClick:m,children:"Cancelar"}),Object(Ie.jsx)(ue.a,{variant:"primary",form:"wage-form",type:"submit",children:"Guardar"})]})]})},ht=function(){var e=Object(pe.j)(),t=(e.path,e.url);return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(pe.d,{children:[Object(Ie.jsx)(pe.b,{exact:!0,path:"".concat(t),children:Object(Ie.jsx)(at,{})}),Object(Ie.jsx)(pe.b,{path:"".concat(t,"/percepciones"),children:Object(Ie.jsx)(pt,{})}),Object(Ie.jsx)(pe.b,{path:"".concat(t,"/deducciones"),children:Object(Ie.jsx)(nt,{})})]}),Object(Ie.jsx)(pe.b,{exact:!0,path:"".concat(t,"/percepciones/:action(crear)"),children:Object(Ie.jsx)(Ot,{})}),Object(Ie.jsx)(pe.b,{exact:!0,path:"".concat(t,"/percepciones/:action(editar)/:id"),children:Object(Ie.jsx)(Ot,{})})]})},mt=function(){var e=Object(pe.j)(),t=e.path,n=e.url;return Object(Ie.jsx)(et,{sidebar:{items:[{id:"organizational-structure",icon:Object(Ie.jsx)(he.d,{}),path:"".concat(n,"/organizacion"),title:"Estructura Organizacional"},{id:"employee",icon:Object(Ie.jsx)(Me.d,{}),path:"".concat(n,"/empleados"),title:"Empleados",items:[{id:"registrar-empleado",icon:Object(Ie.jsx)(Me.e,{}),path:"".concat(n,"/empleados/registrar"),title:"Registrar"}]},{id:"payroll",icon:Object(Ie.jsx)(Ve.a,{}),path:"".concat(n,"/nominas"),title:"Nominas",items:[{id:"compute",icon:Object(Ie.jsx)(he.e,{}),path:"".concat(n,"/nominas/calcular"),title:"Calcular nomina"},{id:"payroll-types",icon:Object(Ie.jsx)(Me.e,{}),path:"".concat(n,"/nominas/tipos"),title:"Tipos de nominas"},{id:"payroll-wages",icon:Object(Ie.jsx)(Ke.b,{}),path:"".concat(n,"/nominas/percepciones"),title:"Bonos"},{id:"payroll-deductions",icon:Object(Ie.jsx)(Ke.a,{}),path:"".concat(n,"/nominas/deducciones"),title:"Deducciones"}]}]},children:Object(Ie.jsxs)(pe.d,{children:[Object(Ie.jsx)(pe.b,{exact:!0,path:t,children:Object(Ie.jsx)(pe.a,{to:"".concat(t,"/organizacion")})}),Object(Ie.jsx)(pe.b,{path:"".concat(t,"/organizacion"),children:Object(Ie.jsx)(ze,{})}),Object(Ie.jsx)(pe.b,{path:"".concat(t,"/empleados/registrar"),children:Object(Ie.jsx)(Ye,{})}),Object(Ie.jsx)(pe.b,{path:"".concat(t,"/empleados/:id/ver"),children:Object(Ie.jsx)(Ye,{})}),Object(Ie.jsx)(pe.b,{exact:!0,path:"".concat(t,"/empleados"),children:Object(Ie.jsx)(He,{})}),Object(Ie.jsx)(pe.b,{path:"".concat(t,"/nominas"),children:Object(Ie.jsx)(ht,{})})]})})},xt=n(165),ft=n(166),vt=function(e){var t=Object(a.useState)(0),n=Object(_e.a)(t,2),c=n[0],i=n[1],r=e.placeholder,o=e.loading;Object(a.useEffect)((function(){var e=setInterval((function(){i((function(e){return(e+1)%3}))}),1e3);return function(){return clearInterval(e)}}),[]);var s=r+(o?new Array(c+1).join("."):"");return Object(Ie.jsx)("input",Object(l.a)(Object(l.a)({},e),{},{placeholder:s}))},gt=n(112),yt=n.n(gt);function Et(e){var t=e.url,n=e.height;return Object(a.useEffect)((function(){yt.a.embed(t,"#pdfcontainer",{fallbackLink:'<p>Este navegador no soporta la visualizacion de archivos PDF en linea, por favor descarga el archivo haciendo clic : <a href="[url]">aqu\xed</a></p>'})}),[t]),Object(Ie.jsx)("div",{id:"pdfcontainer",style:{height:n}})}var It=n(113),Ct=function(e,t){var n=Object(a.useState)({}),c=Object(_e.a)(n,2),i=c[0],r=c[1],o=function(e,t){var n=Object(a.useRef)(e);return Object(a.useEffect)((function(){n.current=e}),[t]),n}(e,t);return[i,Object(a.useCallback)((function(){(function(){var e=Object(It.a)(z.a.mark((function e(){var t,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({completed:!1}),e.next=3,o.current();case 3:return t=e.sent,e.next=6,Array.isArray(t)?Promise.all(t.map((function(e){return e.json()}))):t.json();case 6:n=e.sent,Array.isArray(t)?t.every((function(e){return e.ok})):t.ok,r({completed:!0,data:n,error:!1});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){r({completed:!0,error:!0})}))}),[])]},wt=n(47),Nt={id:0,carnet:"",nombre:"",fechaExt:"",estado:-1,empresa:{nombre:"",estado:-1}},_t=function(e){var t=e.disabled,n=e.paciente,c=e.onChange,i=Object(a.useRef)(n.carnet),r=Ct((function(){return fetch(wt.a+"/pacientes?carnet=".concat(n.carnet))}),[n.carnet]),o=Object(_e.a)(r,2),s=o[0],d=o[1],j=Object(a.useCallback)((function(e){var t=e.target.value.toUpperCase();c(Object(l.a)(Object(l.a)({},Nt),{},{carnet:t}))}),[n]),u=Object(a.useCallback)((function(e){i.current!=n.carnet&&(i.current=n.carnet,d())}),[n.carnet]);return Object(a.useEffect)((function(){if(s.completed&&!s.error){var e=s.data;if(e.length){var t=e[0],n=t.fecha_ext,a=Object(Qe.a)(t,["fecha_ext"]);c(Object(l.a)(Object(l.a)({},a),{},{fechaExt:n}))}}}),[s]),Object(Ie.jsxs)("fieldset",{disabled:t,children:[Object(Ie.jsx)("legend",{children:"Paciente"}),Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:!0,controlId:"carnet_paciente",children:[Object(Ie.jsx)(Pe.a.Label,{children:"N\xba Carnet"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",isInvalid:s.completed&&!s.error&&!s.data.length,onChange:j,onBlur:u,value:n.carnet})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:9,controlId:"nombre_paciente",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Nombre"}),Object(Ie.jsx)(Pe.a.Control,{as:vt,loading:!1===s.completed,placeholder:!1===s.completed?"Buscando":s.error?"Error":"",readOnly:!0,type:"text",value:n.nombre.toUpperCase()})]})]}),Object(Ie.jsx)(Pe.a.Row,{children:Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:!0,controlId:"carnet_paciente",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Fecha de Ext."}),Object(Ie.jsx)(Pe.a.Control,{as:vt,loading:!1===s.completed,placeholder:!1===s.completed?"Buscando":s.error?"Error":"",readOnly:!0,type:"text",value:n.fechaExt,isInvalid:null!=n.fechaExt&&Date.now()>=new Date(n.fechaExt).getTime()})]})}),Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:9,controlId:"empresa",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Empresa"}),Object(Ie.jsx)(Pe.a.Control,{as:vt,loading:!1===s.completed,placeholder:!1===s.completed?"Buscando":s.error?"Error":"",readOnly:!0,type:"text",value:n.empresa.nombre.toUpperCase()})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:!0,controlId:"estado",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Estado de la empresa"}),Object(Ie.jsx)(Pe.a.Control,{as:vt,loading:!1===s.completed,placeholder:!1===s.completed?"Buscando":s.error?"Error":"",readOnly:!0,type:"text",isInvalid:2==n.empresa.estado,value:1==n.empresa.estado?"Al D\xeda":2==n.empresa.estado?"Mora":""})]})]})]})};var Dt=function(){var e=Object(a.useState)({paciente:{id:0,carnet:"",nombre:"",fechaExt:"",estado:-1,empresa:{nombre:"",estado:-1}},doctor:{id:0,nombre:""},proveedor:{id:0,nombre:"",servicios:[]},servicios:[]}),t=Object(_e.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(_e.a)(i,2),o=r[0],s=r[1],j=Object(a.useState)({id:0,nota:""}),u=Object(_e.a)(j,2),b=u[0],p=u[1],O=Object(a.useCallback)((function(e){c(Object(l.a)(Object(l.a)({},n),{},{doctor:D.find((function(t){return t.id==parseInt(e.target.value)}))||{id:0,nombre:""}}))}),[n]),h=Object(a.useCallback)((function(e){c(Object(l.a)(Object(l.a)({},n),{},{proveedor:T.find((function(t){return t.id==parseInt(e.target.value)}))||{id:0,nombre:"",servicios:[]}}))}),[n]),m=Object(a.useRef)(Math.random());console.log("Random",m);var x=Ct((function(){return fetch(wt.a+"/transferencias",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paciente_id:n.paciente.id,doctor_id:n.doctor.id,proveedor_id:n.proveedor.id,servicios_ids:n.servicios.map((function(e){return e.id}))})})}),[n]),f=Object(_e.a)(x,2),v=f[0],g=f[1],y=Object(a.useCallback)((function(e){e.preventDefault(),g()}),[]),E=Ct((function(){return Promise.all([fetch(wt.a+"/doctores"),fetch(wt.a+"/proveedores"),fetch(wt.a+"/servicios")])}),[]),I=Object(_e.a)(E,2),C=I[0],w=I[1],N=C.data||[[],[],[]],_=Object(_e.a)(N,3),D=_[0],T=_[1],A=_[2],L=Object(a.useState)(T),M=Object(_e.a)(L,2),S=M[0],F=M[1],R=Object(a.useState)(A),P=Object(_e.a)(R,2),U=P[0],G=P[1];Object(a.useEffect)((function(){return w()}),[]),Object(a.useEffect)((function(){if(C.completed&&!C.error){var e=T.filter((function(e){return n.servicios.every((function(t){return e.servicios.some((function(e){return e.id==t.id}))}))}));F(e),e.some((function(e){return e.id==n.proveedor.id}))||c(Object(l.a)(Object(l.a)({},n),{},{proveedor:{id:0,nombre:"",servicios:[]}})),1==e.length&&c(Object(l.a)(Object(l.a)({},n),{},{proveedor:e[0]}));var t=A.filter((function(t){return e.some((function(e){return!n.servicios.some((function(e){return e.id==t.id}))&&e.servicios.some((function(e){return e.id==t.id}))}))}));G(t)}}),[n.servicios,C]),Object(a.useEffect)((function(){v.data&&!v.error&&s(!0)}),[v]);var k=function(){var e,t,n=v.data&&v.data.url;return n?n?Object(Ie.jsx)(Et,{url:n,height:400}):null:Object(Ie.jsxs)(xt.a,{variant:"danger",children:[Object(Ie.jsx)("p",{children:null===(e=v.data)||void 0===e?void 0:e.message}),Object(Ie.jsx)("p",{children:JSON.stringify(null===(t=v.data)||void 0===t?void 0:t.errors)})]})};return console.log("FormState",n),Object(Ie.jsxs)("div",{className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:[Object(Ie.jsx)("h1",{children:"Transferencia externa"}),Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(Pe.a,{style:{marginTop:20,marginBottom:20},onSubmit:y,children:[Object(Ie.jsx)(_t,{disabled:!1===v.completed,paciente:n.paciente,onChange:function(e){c(Object(l.a)(Object(l.a)({},n),{},{paciente:e}))}}),Object(Ie.jsxs)("fieldset",{disabled:!1===v.completed,children:[Object(Ie.jsx)("legend",{children:"Doctor"}),Object(Ie.jsxs)(Pe.a.Group,{controlId:"doctor",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Nombre"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",type:"text",onChange:O,value:n.doctor.id,children:[Object(Ie.jsx)("option",{id:"0"}),D.map((function(e){return Object(Ie.jsx)("option",{id:String(e.id),value:String(e.id),children:e.nombre},e.id)}))]})]})]}),Object(Ie.jsxs)("fieldset",{disabled:!1===v.completed,children:[Object(Ie.jsx)("legend",{children:"Servicios"}),Object(Ie.jsxs)(me.a,{children:[Object(Ie.jsx)("thead",{children:Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{style:{width:0},children:"#"}),Object(Ie.jsx)("th",{children:"Nombre"}),Object(Ie.jsx)("th",{children:"Nota"}),Object(Ie.jsx)("th",{style:{width:0}})]})}),Object(Ie.jsxs)("tbody",{children:[n.servicios.map((function(e,t){return Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("td",{children:t+1}),Object(Ie.jsx)("td",{children:e.nombre}),Object(Ie.jsx)("td",{children:e.nota}),Object(Ie.jsx)("td",{children:Object(Ie.jsx)(ue.a,{variant:"link",onClick:function(){c(Object(l.a)(Object(l.a)({},n),{},{servicios:n.servicios.filter((function(e,n){return t!=n}))}))},className:"btn-icon",children:Object(Ie.jsx)(he.h,{})})})]})})),Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("td",{children:n.servicios.length+1}),Object(Ie.jsx)("td",{children:Object(Ie.jsxs)(Pe.a.Control,{as:"select",value:b.id,onChange:function(e){console.log("onChange required service",e.target.value),p(Object(l.a)(Object(l.a)({},b),{},{id:parseInt(e.target.value)}))},children:[Object(Ie.jsx)("option",{id:"0"}),U.map((function(e){return Object(Ie.jsx)("option",{id:String(e.id),value:String(e.id),children:e.nombre},e.id)}))]})}),Object(Ie.jsx)("td",{children:Object(Ie.jsx)(Pe.a.Control,{as:"textarea",value:b.nota,onChange:function(e){p(Object(l.a)(Object(l.a)({},b),{},{nota:e.target.value}))}})}),Object(Ie.jsx)("td",{children:Object(Ie.jsx)(ue.a,{variant:"link",onClick:function(){console.log("Required Service",b);var e=A.find((function(e){return e.id==b.id}));e&&(c(Object(l.a)(Object(l.a)({},n),{},{servicios:[].concat(Object(d.a)(n.servicios),[{id:e.id,nombre:e.nombre,nota:b.nota}])})),p({id:0,nota:""}))},className:"btn-icon",children:Object(Ie.jsx)(he.i,{})})})]})]})]})]}),Object(Ie.jsxs)("fieldset",{disabled:!1===v.completed,children:[Object(Ie.jsx)("legend",{children:"Proveedor"}),Object(Ie.jsxs)(Pe.a.Group,{controlId:"doctor",children:[Object(Ie.jsx)(Pe.a.Label,{children:"Nombre"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",type:"text",onChange:h,value:n.proveedor.id,children:[Object(Ie.jsx)("option",{id:"0"}),S.map((function(e){return Object(Ie.jsx)("option",{id:String(e.id),value:String(e.id),children:e.nombre},e.id)}))]})]})]}),Object(Ie.jsxs)(ue.a,{variant:"primary",type:"submit",children:[!1===v.completed&&Object(Ie.jsx)(ft.a,{animation:"border",size:"sm"})," Guardar"]})]}),Object(Ie.jsxs)(Re.a,{show:o,onHide:function(){console.log("On Hide"),s(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(Ie.jsx)(Re.a.Header,{closeButton:!0,children:Object(Ie.jsx)(Re.a.Title,{id:"contained-modal-title-vcenter",children:"D.M. - 11"})}),Object(Ie.jsx)(Re.a.Body,{children:k()})]})]}),Object(Ie.jsxs)(Re.a,{show:!C.completed,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(Ie.jsx)(Re.a.Header,{children:Object(Ie.jsx)(Re.a.Title,{id:"contained-modal-title-vcenter",children:"Cargando"})}),Object(Ie.jsx)(Re.a.Body,{children:Object(Ie.jsx)(ft.a,{animation:"border"})})]})]})},Tt=function(){var e=Object(r.c)((function(e){return e.main.showSidebar})),t=Object(pe.j)(),n=(t.path,t.url);return Object(Ie.jsxs)("div",{className:"position-relative d-flex flex-grow-1 bg-light"+(e?"":" toggled"),id:"wrapper",children:[Object(Ie.jsx)($e,{className:"bg-white shadow-sm ",style:{height:"initial"},items:[{id:"visits",path:"".concat(n,"/consultas"),title:"Consultas"},{id:"transfers",path:"".concat(n,"/transferencias"),title:"Transferencias"}]}),Object(Ie.jsx)(Xe.a,{className:"d-flex flex-column flex-grow-1",style:{overflow:"auto"},children:Object(Ie.jsx)(Dt,{})})]})},At=function(e){return e.iam.entities.users},Lt=function(e){return e.iam.ui.usersPagination},Mt=function(e){return e.iam.ui.usersFilter},St=n(114),Ft=n.n(St),Rt=n(29),Pt=n.n(Rt),Ut=Ft.a.create({baseURL:wt.a,timeout:3e4});Ut.defaults.withCredentials=!0,Ut.interceptors.request.use((function(e){return e.paramsSerializer=function(e){return Pt.a.stringify(e,{arrayFormat:"brackets",encode:!1})},e}));var Gt=Ut,kt=function(e,t){return Gt.get("/users",{params:{page:e,filter:t}}).catch((function(e){throw console.error("Error message",e.message,e.code,e.response),e}))},Bt=n(178),zt=function(){var e=Object(pe.h)(),t=e.pathname,n=e.search,c=(Object(r.b)(),Object(r.c)(Lt)),i=c.total,o=c.current,s=c.size,d=Object(a.useMemo)((function(){return Pt.a.parse(n.substr(1))}),[n]);d.page;console.log(i,o,s);for(var j=[],u=Math.max(1,o-4),b=Math.min(Math.trunc((i-s)/s)+1,u+10),p=u;p<=b;p++)o==p?j.push(Object(Ie.jsx)(Bt.a.Item,{active:!0,children:p},p)):j.push(Object(Ie.jsx)(Bt.a.Item,{as:be.b,href:"".concat(t,"?").concat(Pt.a.stringify(Object(l.a)(Object(l.a)({},d),{},{page:{current:p,size:s}}),{arrayFormat:"brackets",encode:!1})),to:"".concat(t,"?").concat(Pt.a.stringify(Object(l.a)(Object(l.a)({},d),{},{page:{current:p,size:s}}),{arrayFormat:"brackets",encode:!1})),children:p},p));return Object(Ie.jsxs)(Bt.a,{children:[o-5>0?Object(Ie.jsx)(Bt.a.First,{as:be.b,href:"".concat(t,"?").concat(Pt.a.stringify(Object(l.a)(Object(l.a)({},d),{},{page:{current:1,size:s}}),{arrayFormat:"brackets",encode:!1})),to:"".concat(t,"?").concat(Pt.a.stringify(Object(l.a)(Object(l.a)({},d),{},{page:{current:1,size:s}}),{arrayFormat:"brackets",encode:!1}))}):null,o>1?Object(Ie.jsx)(Bt.a.Prev,{as:be.b,href:"".concat(t,"?").concat(Pt.a.stringify(Object(l.a)(Object(l.a)({},d),{},{page:{current:o-1,size:s}}),{arrayFormat:"brackets",encode:!1})),to:"".concat(t,"?").concat(Pt.a.stringify(Object(l.a)(Object(l.a)({},d),{},{page:{current:o-1,size:s}}),{arrayFormat:"brackets",encode:!1}))}):null,j,o<(i-s)/s+1?Object(Ie.jsx)(Bt.a.Next,{as:be.b,href:"".concat(t,"?").concat(Pt.a.stringify(Object(l.a)(Object(l.a)({},d),{},{page:{current:o+1,size:s}}),{arrayFormat:"brackets",encode:!1})),to:"".concat(t,"?").concat(Pt.a.stringify(Object(l.a)(Object(l.a)({},d),{},{page:{current:o+1,size:s}}),{arrayFormat:"brackets",encode:!1}))}):null,o+5<(i-s)/s+1?Object(Ie.jsx)(Bt.a.Last,{as:be.b,href:"".concat(t,"?").concat(Pt.a.stringify(Object(l.a)(Object(l.a)({},d),{},{page:{current:(i-s)/s+1,size:s}}),{arrayFormat:"brackets",encode:!1})),to:"".concat(t,"?").concat(Pt.a.stringify(Object(l.a)(Object(l.a)({},d),{},{page:{current:(i-s)/s+1,size:s}}),{arrayFormat:"brackets",encode:!1}))}):null]})},qt=function(e){var t=Object(r.b)(),n=Object(a.useState)({username:"",active:""}),c=Object(_e.a)(n,2),i=c[0],o=c[1];return Object(Ie.jsx)(Pe.a,Object(l.a)(Object(l.a)({},e),{},{onSubmit:function(n){n.preventDefault(),t({type:"UPDATE_USERS_FILTER",payload:{username:i.username||void 0,active:i.active?parseInt(i.active):void 0}}),e.onSubmit&&e.onSubmit(n)},children:Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(de.a,{children:[Object(Ie.jsx)(Pe.a.Label,{htmlFor:"username-filter",srOnly:!0,children:"Usuario"}),Object(Ie.jsx)(Pe.a.Control,{className:"mb-2",id:"username-filter",value:i.username,onChange:function(e){var t=e.target.value;o((function(e){return Object(l.a)(Object(l.a)({},e),{},{username:t})}))},placeholder:"Usuario"})]}),Object(Ie.jsxs)(de.a,{children:[Object(Ie.jsx)(Pe.a.Label,{htmlFor:"status-filter",srOnly:!0,children:"Estado"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",className:"mb-2",id:"status-filter",value:i.active,onChange:function(e){var t=e.target.value;o((function(e){return Object(l.a)(Object(l.a)({},e),{},{active:t})}))},children:[Object(Ie.jsx)("option",{value:"",children:"Elige un estado"}),Object(Ie.jsx)("option",{value:"1",children:"Activo"}),Object(Ie.jsx)("option",{value:"0",children:"Inactivo"})]})]}),Object(Ie.jsx)(de.a,{xs:"auto",children:Object(Ie.jsx)(ue.a,{type:"submit",children:"Aplicar"})})]})}))},Wt=function(){var e=Object(r.b)(),t=Object(pe.h)(),n=(t.search,t.state,Object(pe.j)()),c=(n.url,n.path,Object(a.useState)(!1)),i=Object(_e.a)(c,2),o=i[0],s=i[1],l=Object(r.c)(At),d=Object(r.c)(Lt),j=d.current,u=d.size,b=Object(r.c)(Mt);return Object(a.useEffect)((function(){document.title="Usuarios"}),[]),Object(a.useEffect)((function(){console.log({},b),kt({current:j,size:u},b).then((function(t){var n=t.data;e({type:"LOAD_USERS_COMPLETED",payload:n}),console.log(n)}))}),[j,u,b]),Object(Ie.jsxs)("div",{style:{minWidth:480},className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:[Object(Ie.jsx)("h1",{style:{fontSize:"2rem"},children:"Usuarios"}),Object(Ie.jsxs)(le.a,{className:"justify-content-end",children:[Object(Ie.jsx)(de.a,{className:"pr-0",xs:"auto",children:Object(Ie.jsx)(ue.a,{className:"my-2",onClick:function(){s((function(e){return!e}))},children:Object(Ie.jsx)(he.g,{})})}),Object(Ie.jsx)(de.a,{xs:"auto",children:Object(Ie.jsx)(ue.a,{className:"my-2",onClick:function(){},children:Object(Ie.jsx)(he.m,{})})})]}),Object(Ie.jsx)(qt,{className:"mt-2"+(o?"":" d-none"),onSubmit:function(){return s(!1)}}),Object(Ie.jsxs)(me.a,{responsive:!0,className:"small text-nowrap",children:[Object(Ie.jsx)("thead",{children:Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{style:{width:1},children:"#"}),Object(Ie.jsx)("th",{children:"Nombre de usuario"}),Object(Ie.jsx)("th",{style:{width:"6rem"},children:"Estado"}),Object(Ie.jsx)("th",{style:{width:1}})]})}),Object(Ie.jsx)("tbody",{children:l.map((function(e,t){return Object(Ie.jsxs)("tr",{children:[Object(Ie.jsx)("th",{scope:"row",children:t+1}),Object(Ie.jsx)("td",{children:e.username}),Object(Ie.jsx)("td",{className:e.active?"bg-success":"bg-danger",children:Object(Ie.jsx)("span",{className:"text-light",children:e.active?"Activo":"Inactivo"})}),Object(Ie.jsx)("td",{children:Object(Ie.jsx)("div",{className:"d-flex",children:Object(Ie.jsx)(ue.a,{className:"btn-icon",variant:"link",children:Object(Ie.jsx)(Me.c,{})})})})]},e.id)}))})]}),Object(Ie.jsx)("div",{className:"mt-auto align-self-center",children:Object(Ie.jsx)(zt,{})})]})},Ht=function(){return null},Jt=function(){Object(r.b)();var e=Object(pe.i)();e.action,e.id;return null},Yt=n(173),Kt=n(179);var Vt=function(e){return Object(Ie.jsxs)(Pe.a,{children:[Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:8,md:6,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Documento de identidad"}),Object(Ie.jsx)(Pe.a.Control,{})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:4,md:3,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Complemento"}),Object(Ie.jsx)(Pe.a.Control,{})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,sm:4,md:3,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Expedido en"}),Object(Ie.jsxs)(Pe.a.Control,{as:"select",value:"",children:[Object(Ie.jsx)("option",{disabled:!0,value:""}),Object(Ie.jsx)("option",{value:"BN",children:"Beni"}),Object(Ie.jsx)("option",{value:"CB",children:"Cochabamba"}),Object(Ie.jsx)("option",{value:"CH",children:"Chuquisaca"}),Object(Ie.jsx)("option",{value:"LP",children:"La Paz"}),Object(Ie.jsx)("option",{value:"OR",children:"Oruro"}),Object(Ie.jsx)("option",{value:"PN",children:"Pando"}),Object(Ie.jsx)("option",{value:"PT",children:"Potos\xed"}),Object(Ie.jsx)("option",{value:"TJ",children:"Tarija"}),Object(Ie.jsx)("option",{value:"SC",children:"Santa Cruz"})]})]})]}),Object(Ie.jsx)(Pe.a.Row,{children:Object(Ie.jsx)(de.a,{className:"mb-2",children:Object(Ie.jsx)(ue.a,{children:"Buscar"})})}),Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,lg:4,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Nombres"}),Object(Ie.jsx)(Pe.a.Control,{})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,lg:4,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Primer Apellido"}),Object(Ie.jsx)(Pe.a.Control,{})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,lg:4,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Segundo Apellido"}),Object(Ie.jsx)(Pe.a.Control,{})]})]}),Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,md:4,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Fecha de nacimiento"}),Object(Ie.jsx)(Pe.a.Control,{type:"date"})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,xs:6,md:4,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Genero"}),Object(Ie.jsx)(Pe.a.Control,{})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,xs:6,md:4,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Nacionalidad"}),Object(Ie.jsx)(Pe.a.Control,{})]})]}),Object(Ie.jsx)(Pe.a.Row,{children:Object(Ie.jsx)(de.a,{className:"mb-2",children:Object(Ie.jsx)(ue.a,{type:"submit",children:"Registrar"})})})]})},Xt=function(e){return Object(Ie.jsxs)(Pe.a,{children:[Object(Ie.jsxs)(Pe.a.Row,{children:[Object(Ie.jsxs)(Pe.a.Group,{as:de.a,md:4,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Usuarios"}),Object(Ie.jsx)(Pe.a.Control,{})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,md:4,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Contrase\xf1a"}),Object(Ie.jsx)(Pe.a.Control,{type:"password"})]}),Object(Ie.jsxs)(Pe.a.Group,{as:de.a,md:4,children:[Object(Ie.jsx)(Pe.a.Label,{children:"Repetir contrase\xf1a"}),Object(Ie.jsx)(Pe.a.Control,{type:"password"})]})]}),Object(Ie.jsx)(Pe.a.Row,{children:Object(Ie.jsx)(de.a,{children:Object(Ie.jsx)(ue.a,{type:"submit",children:"Registrar"})})})]})},Qt=function(){Object(r.b)();var e=Object(a.useState)("0"),t=Object(_e.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(null),o=Object(_e.a)(i,2),s=(o[0],o[1]);return Object(Ie.jsxs)("div",{className:"d-flex flex-column bg-white rounded-lg shadow-sm m-2 p-3 flex-grow-1",children:[Object(Ie.jsx)("h1",{style:{fontSize:"2rem"},children:"Usuarios"}),Object(Ie.jsxs)(Yt.a,{activeKey:n,children:[Object(Ie.jsxs)(Kt.a,{children:[Object(Ie.jsx)(Yt.a.Toggle,{as:Kt.a.Header,className:"bg-primary text-light",eventKey:"0",children:"Informaci\xf3n personal"}),Object(Ie.jsx)(Yt.a.Collapse,{eventKey:"0",children:Object(Ie.jsx)(Kt.a.Body,{children:Object(Ie.jsx)(Vt,{onComplete:function(e){c("1"),s(e)}})})})]}),Object(Ie.jsxs)(Kt.a,{children:[Object(Ie.jsx)(Yt.a.Toggle,{as:Kt.a.Header,className:"bg-primary text-light",eventKey:"1",children:"Informaci\xf3n de Usuario"}),Object(Ie.jsx)(Yt.a.Collapse,{eventKey:"1",children:Object(Ie.jsx)(Kt.a.Body,{children:Object(Ie.jsx)(Xt,{onSubmit:function(){}})})})]})]})]})},Zt=function(){var e=Object(pe.j)(),t=(e.path,e.url);return Object(Ie.jsxs)(et,{sidebar:{items:[{id:"users",icon:Object(Ie.jsx)(he.n,{}),path:"".concat(t,"/usuarios"),title:"Usuarios"},{id:"roles",icon:Object(Ie.jsx)(he.k,{}),path:"".concat(t,"/roles"),title:"Roles"}]},children:[Object(Ie.jsxs)(pe.d,{children:[Object(Ie.jsx)(pe.b,{exact:!0,path:"".concat(t),children:Object(Ie.jsx)(pe.a,{to:"".concat(t,"/usuarios")})}),Object(Ie.jsx)(pe.b,{exact:!0,path:"".concat(t,"/usuarios"),children:Object(Ie.jsx)(Wt,{})}),Object(Ie.jsx)(pe.b,{exact:!0,path:"".concat(t,"/usuarios/registrar"),children:Object(Ie.jsx)(Qt,{})}),Object(Ie.jsx)(pe.b,{path:"".concat(t,"/roles"),children:Object(Ie.jsx)(Ht,{})})]}),Object(Ie.jsx)(pe.b,{exact:!0,path:"".concat(t,"/roles/:action(crear)"),children:Object(Ie.jsx)(Jt,{})}),Object(Ie.jsx)(pe.b,{exact:!0,path:"".concat(t,"/roles/:action(editar)/:id"),children:Object(Ie.jsx)(Jt,{})})]})},$t=function(e){return e.auth.user},en=function(e){return e.auth.login},tn=function(e){return e.auth.loginForm},nn=function(e){return null!=e.auth.user},an=(n(153),function(){var e=Object(r.b)(),t=Object(pe.h)().state,n=Object(r.c)(nn),a=Object(r.c)(tn),c=a.fields,i=a.message,o=a.errors,s=Object(r.c)(en).completed;return n?Object(Ie.jsx)(pe.a,{to:(null===t||void 0===t?void 0:t.from)||"/"}):Object(Ie.jsx)("div",{className:"auth-wrapper bg-light",children:Object(Ie.jsx)("div",{className:"auth-inner shadow-sm",children:Object(Ie.jsxs)(Pe.a,{onSubmit:function(t){t.preventDefault(),e({type:"LOGIN"}),Gt.get("/sanctum/csrf-cookie").then((function(t){Gt.post("/login",{username:c.username,password:c.password}).then((function(t){var n=t.data;t.status;localStorage.setItem("user",JSON.stringify(n)),e({type:"LOGIN_COMPLETED",payload:n,error:!1})}),(function(t){e({type:"LOGIN_COMPLETED",payload:t.response.data,error:!0})}))}))},children:[Object(Ie.jsx)("h3",{className:"mb-2 text-center",style:{fontSize:"1.25rem"},children:"Iniciar Sesi\xf3n en Hip\xf3crates"}),i?Object(Ie.jsx)(xt.a,{variant:"danger",children:i}):null,Object(Ie.jsxs)(Pe.a.Group,{children:[Object(Ie.jsx)(Pe.a.Label,{children:"Usuario"}),Object(Ie.jsx)(Pe.a.Control,{type:"text",value:c.username,isInvalid:!!o.username,onChange:function(t){var n=t.target.value;e({type:"UPDATE_LOGIN_FORM",payload:{fields:Object(l.a)(Object(l.a)({},c),{},{username:n}),errors:Object(l.a)(Object(l.a)({},o),{},{username:""})}})}}),Object(Ie.jsx)(Pe.a.Text,{className:"text-danger",children:o.username})]}),Object(Ie.jsxs)(Pe.a.Group,{children:[Object(Ie.jsx)(Pe.a.Label,{children:"Contrase\xf1a"}),Object(Ie.jsx)(Pe.a.Control,{type:"password",value:c.password,isInvalid:!!o.password,onChange:function(t){var n=t.target.value;e({type:"UPDATE_LOGIN_FORM",payload:{fields:Object(l.a)(Object(l.a)({},c),{},{password:n}),errors:Object(l.a)(Object(l.a)({},o),{},{password:""})}})}}),Object(Ie.jsx)(Pe.a.Text,{className:"text-danger",children:o.password})]}),Object(Ie.jsxs)(ue.a,{type:"submit",className:"btn btn-primary btn-block",children:[!1===s?Object(Ie.jsx)(ft.a,{size:"sm",animation:"border"}):null,Object(Ie.jsx)("span",{className:"align-middle ml-1",children:"Iniciar Sesi\xf3n"})]})]})})})}),cn=function(e){var t=e.children,n=Object(Qe.a)(e,["children"]),a=Object(r.c)(nn);return Object(Ie.jsx)(pe.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(Ie.jsx)(pe.a,{to:{pathname:"/login",state:{from:n}}})}}))},rn=(n(154),n(155),function(){var e=Object(r.b)(),t=Object(r.c)($t);return Object(a.useEffect)((function(){}),[]),Object(Ie.jsxs)(be.a,{children:[Object(Ie.jsxs)(ie.a,{className:"shadow-sm border-bottom",bg:"white",variant:"light",style:{zIndex:1},children:[t?Object(Ie.jsx)(ie.a.Toggle,{style:{display:"initial"},onClick:function(){e({type:"TOGGLE_SIDEBAR"})},children:Object(Ie.jsx)(he.a,{})}):null,Object(Ie.jsx)(ie.a.Brand,{href:"#home",className:"ml-4",children:"Hip\xf3crates"}),Object(Ie.jsxs)(re.a,{className:"ml-auto",children:[Object(Ie.jsx)(oe.a,{trigger:"click",rootClose:!0,placement:"bottom",overlay:Object(Ie.jsxs)(se.a,{id:"apps",style:{maxWidth:"none"},children:[Object(Ie.jsx)(se.a.Title,{className:"text-center",as:"h3",children:"Aplicaciones"}),Object(Ie.jsxs)(se.a.Content,{children:[Object(Ie.jsxs)(le.a,{children:[Object(Ie.jsx)(de.a,{className:"text-center",children:Object(Ie.jsxs)(be.b,{to:"/rrhh",children:[Object(Ie.jsx)(he.f,{className:"d-block mx-auto",size:48}),Object(Ie.jsx)("span",{children:"Recursos Humanos"})]})}),Object(Ie.jsx)(de.a,{className:"text-center",children:Object(Ie.jsxs)(be.b,{to:"/consultorio",children:[Object(Ie.jsx)(he.f,{className:"d-block mx-auto",size:48}),Object(Ie.jsx)("span",{children:"Consultorio"})]})}),Object(Ie.jsx)(de.a,{className:"text-center",children:Object(Ie.jsxs)(be.b,{to:"/afiliaci\xf3n",children:[Object(Ie.jsx)(he.f,{className:"d-block mx-auto",size:48}),Object(Ie.jsx)("span",{children:"Afiliaciones"})]})})]}),Object(Ie.jsxs)(le.a,{children:[Object(Ie.jsx)(de.a,{className:"text-center",children:Object(Ie.jsxs)(be.b,{to:"/iam",children:[Object(Ie.jsx)(he.l,{className:"d-block mx-auto",size:48}),Object(Ie.jsx)("span",{children:"IAM"})]})}),Object(Ie.jsxs)(de.a,{className:"text-center",children:[Object(Ie.jsx)(he.f,{className:"d-block mx-auto",size:48}),Object(Ie.jsx)("span",{style:{whiteSpace:"nowrap"},children:"App Name"})]}),Object(Ie.jsxs)(de.a,{className:"text-center",children:[Object(Ie.jsx)(he.f,{size:48}),Object(Ie.jsx)("span",{style:{whiteSpace:"nowrap"},children:"App Name"})]})]}),Object(Ie.jsxs)(le.a,{children:[Object(Ie.jsxs)(de.a,{className:"text-center",children:[Object(Ie.jsx)(he.f,{className:"d-block mx-auto",size:48}),Object(Ie.jsx)("span",{style:{whiteSpace:"nowrap"},children:"App Name"})]}),Object(Ie.jsxs)(de.a,{className:"text-center",children:[Object(Ie.jsx)(he.f,{className:"d-block mx-auto",size:48}),Object(Ie.jsx)("span",{style:{whiteSpace:"nowrap"},children:"App Name"})]}),Object(Ie.jsxs)(de.a,{className:"text-center",children:[Object(Ie.jsx)(he.f,{className:"d-block mx-auto",size:48}),Object(Ie.jsx)("span",{style:{whiteSpace:"nowrap"},children:"App Name"})]})]})]})]}),children:Object(Ie.jsx)(re.a.Link,{children:Object(Ie.jsx)(Oe.a,{size:"1.5em"})})}),t?Object(Ie.jsx)(oe.a,{trigger:"click",rootClose:!0,placement:"bottom",overlay:Object(Ie.jsxs)(se.a,{id:"apps",children:[Object(Ie.jsx)(se.a.Title,{className:"text-center",as:"h3",children:"Notificaciones"}),Object(Ie.jsx)(se.a.Content,{})]}),children:Object(Ie.jsxs)(re.a.Link,{style:{whiteSpace:"nowrap"},children:[Object(Ie.jsx)(he.b,{}),Object(Ie.jsx)("div",{className:"pulse bg-danger",style:{left:"0.65rem",top:"-1.35rem",width:"0.5rem",height:"0.5rem",borderRadius:"50%"}})]})}):null,t?Object(Ie.jsxs)(je.a,{title:Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(he.l,{}),Object(Ie.jsx)("span",{className:"d-none d-sm-inline ml-1",children:t.username})]}),menuAlign:"right",id:"collasible-nav-dropdown",children:[Object(Ie.jsx)(je.a.Item,{href:"#action/3.2",children:"Cuenta"}),Object(Ie.jsx)(je.a.Item,{href:"#action/3.3",children:"Configuracion"}),Object(Ie.jsx)(je.a.Divider,{}),Object(Ie.jsx)(je.a.Item,{as:ue.a,className:"btn-link",children:"Cerrar sesi\xf3n"})]}):Object(Ie.jsx)(re.a.Link,{as:be.b,to:"/login",children:"Iniciar sesi\xf3n"})]})]}),Object(Ie.jsxs)(pe.d,{children:[Object(Ie.jsx)(cn,{path:"/iam",children:Object(Ie.jsx)(Zt,{})}),Object(Ie.jsx)(cn,{path:"/rrhh",children:Object(Ie.jsx)(mt,{})}),Object(Ie.jsx)(cn,{path:"/consultorio",children:Object(Ie.jsx)(Tt,{})}),Object(Ie.jsx)(pe.b,{exact:!0,path:"/login",children:Object(Ie.jsx)(an,{})})]})," :"]})});n(156);i.a.render(Object(Ie.jsx)(r.a,{store:ce,children:Object(Ie.jsx)(rn,{})}),document.getElementById("root"))},47:function(e){e.exports=JSON.parse('{"a":"cscra2.mybluemix.net/api"}')},96:function(e,t,n){}},[[157,1,2]]]);
//# sourceMappingURL=main.5faa0076.chunk.js.map